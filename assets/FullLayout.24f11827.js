import{c as w,b as h}from"./QLayout.fec31ea8.js";import{as as S,at as g,r as c,w as K,aq as l,u as f,ad as p,ae as m,d as s,b0 as b,ah as C}from"./index.fff8f4c8.js";import{u as U}from"./i18n.8ca0e196.js";import{b as V,q as d}from"./quickbase.0bb50a02.js";import{_ as I}from"./KioskLogin.a4a31229.js";import"./_commonjsHelpers.d497b07e.js";import"./dayjs.1710378a.js";import"./localForage.a68a2a29.js";import"./index.7dbe61ef.js";import"./use-quasar.4e96a225.js";import"./array.3fcc3126.js";const H={__name:"FullLayout",setup(Q){const t=V(),a=S(),o=g(),{locale:i}=U(),r=c(!1),_=c(window.location.href),n=async()=>{await d.checkKioskStatus()||(r.value=!0)};if(t.userType==="Candidate Kiosk"&&(t.getKioskAccount||n()),o.query.office_id){const e=Object.assign({},o.query);delete e.office_id,delete e.qr,a.replace({query:e})}K(()=>o.query,()=>{if(_.value=window.location.href,t.userType==="Candidate Kiosk"&&(t.getKioskAccount||n()),o.query.office_id){const e=Object.assign({},o.query);delete e.office_id,e.qr&&(d.checkInUser(),delete e.qr),a.replace({query:e})}});const k=()=>{i.value!=="en-US"&&(i.value="en-US"),o.path!=="/login"&&a.replace({name:"login"})};return(e,u)=>{const y=l("router-view"),q=l("v-idle");return f(),p(h,{view:"hHh lpR fFf"},{default:m(()=>[s(w,null,{default:m(()=>[s(y)]),_:1}),s(I,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=v=>r.value=v)},null,8,["modelValue"]),b(t).onKiosk?(f(),p(q,{key:0,onIdle:k,duration:300})):C("",!0)]),_:1})}}};export{H as default};
