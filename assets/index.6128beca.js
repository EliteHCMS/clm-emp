import{k as ae,bs as Y,c as W,_ as ne,u as r,ad as k,ae as n,v as N,y as t,d as l,aj as a,z as Ie,au as V,b3 as $e,ah as m,r as I,o as Ee,a$ as A,ao as le,aq as ie,a_ as x,ai as oe,A as E,b2 as me,ar as we,F as Se,as as Me,w as Pe,aN as Ae}from"./index.c519d283.js";import{Q as Oe}from"./QPage.a4b85828.js";import{Q as he,a as ge,b as ze}from"./QStep.2ef5c584.js";import{b as ce,e as se,c as de,h as ye,d as Re}from"./quickbase.3924e153.js";import{a as Z}from"./QSelect.bf0ba096.js";import{u as Ve}from"./i18n.8c7e511c.js";import{a as R,b as qe,u as p,c as q}from"./array.0f376efb.js";import{u as Ne}from"./use-quasar.d005a37b.js";import{Q as Ce}from"./QTooltip.a6813278.js";import"./use-panel.c48c5366.js";import"./touch.6a3c5155.js";import"./selection.2c87669a.js";import"./QSlideTransition.4a7f64fa.js";import"./_commonjsHelpers.d497b07e.js";import"./dayjs.0e6fee14.js";import"./localForage.d80a4d95.js";import"./index.7dbe61ef.js";import"./QMenu.7fc388a8.js";import"./position-engine.5bce3139.js";const De=ae({props:{title:String,step:Number,name:Number},setup(){const{checkedIn:e,onKiosk:s}=ce(),{profile:y,updateProfile:v}=se(),{evergreenJobOptions:w}=Y(ce()),{t:f}=Ve(),o=W(()=>e?R({selection:R().required(`${f("pleaseSelectAJob")}`).nullable()}):!1),{meta:c,errors:i,handleSubmit:H,isSubmitting:D}=qe({validationSchema:o,initialValues:{selection:y[19].value?{value:y[19].value,label:y[19].label}:null}}),{value:T}=p("selection"),j=H(O=>{const M={19:{value:O.selection.value,label:O.selection.label},40:{value:O.selection[13],label:O.selection[12]}};v({next:1,values:M})});return{checkedIn:e,onKiosk:s,selection:T,formMeta:c,formErrors:i,isSubmitting:D,submitUpdate:j,evergreenJobOptions:w}}}),Qe={key:0},Fe={class:"text-caption"};function He(e,s,y,v,w,f){return r(),k(ge,{name:e.name,title:e.title,done:e.step>0},{default:n(()=>[e.checkedIn||e.onKiosk?(r(),N("div",Qe,[t("form",{onSubmit:s[1]||(s[1]=$e((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[l(Z,{autofocus:"",label:e.$t("selectAJob"),modelValue:e.selection,"onUpdate:modelValue":s[0]||(s[0]=o=>e.selection=o),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:e.evergreenJobOptions,style:Ie(e.$q.screen.gt.md?"width: 50%":"width: 100%"),error:!!e.formErrors.selection,"bottom-slots":"",dense:""},{error:n(()=>[t("div",Fe,a(e.formErrors.selection),1)]),_:1},8,["label","modelValue","options","style","error"]),l(he,{class:"text-right"},{default:n(()=>[l(V,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)])):m("",!0)]),_:1},8,["name","title","done"])}var Te=ne(De,[["render",He]]);const Be=["Alabama","Alaska","American Samoa","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Federated States of Micronesia","Florida","Georgia","Guam","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Marshall Islands","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Northern Mariana Islands","Ohio","Oklahoma","Oregon","Palau","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virgin Island","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],Le=["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon Territory"],Ye=ae({props:{title:String,step:Number,name:Number},components:{},setup(){const{employee:e}=Y(de()),s=[{label:"Call",value:1},{label:"Text",value:2},{label:"Email",value:3},{label:"Call, Text, or Email",value:4},{label:"Do Not Contact Me",value:5}],y=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],v=I(!1),w=I(!1),f=I(null),o=se(),{onJobBoard:c}=Y(o),i=R({first:q().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:q().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:q().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:q().nullable().notRequired(),street1:q().required(),street2:q().nullable().notRequired(),city:q().required(),state:q().required(),postal:q().required(),addressCountry:R().required(),contact:R().nullable().notRequired()}),{meta:H,errors:D,handleSubmit:T,isSubmitting:j}=qe({validationSchema:i,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:O,meta:M}=p("first"),{value:C,meta:re}=p("middle"),{value:Q,meta:ee}=p("last"),{value:B}=p("suffix"),{value:z}=p("contact"),{value:te}=p("street1"),{value:F}=p("street2"),{value:K}=p("city"),{value:G}=p("state"),{value:J}=p("postal"),{value:d}=p("addressCountry"),h=W(()=>{const g=`${O.value} ${Q.value} ${B.value}`;return ye.formatName(g)}),$=W(()=>`${te.value}${F.value===""?"":` ${F.value}`}, ${K.value}, ${G.value}, ${J.value}, ${d.value.value}`);function L(){const g={next:2};o.updateProfile(g)}function U(){v.value=!0}const X=T(async g=>{const pe={23:g.first,24:g.middle,25:g.last,26:g.suffix,27:e.value[27],28:e.value[26],46:g.contact,32:g.street1,33:g.street2,34:g.city,35:g.state,36:g.postal,37:g.addressCountry.value},ve={next:2,values:pe};v.value=!1;const fe=await o.updateProfile(ve);console.log(fe)});function ue(){const g={next:0};o.updateProfile(g)}const _=g=>{f.value=g};return Ee(()=>{console.log(e.value)}),{submitUpdate:X,isSubmitting:j,save:L,back:ue,updateCountry:_,first:O,middle:C,last:Q,suffix:B,contact:z,street1:te,street2:F,city:K,state:G,postal:J,addressCountry:d,hasPersonalInfo:w,showEdit:v,firstMeta:M,middleMeta:re,lastMeta:ee,formMeta:H,formErrors:D,options:s,countries:y,fullName:h,fullAddress:$,employee:e,showEditFunction:U,onJobBoard:c,states:Be,provinces:Le}}}),je={class:"row justify-between"},Je={class:"col-12 col-md-5"},Ze={class:"text-caption"},We={class:"text-caption"},Ke={class:"text-caption"},Ge={class:"text-caption"},Xe={class:"text-caption"},_e={class:"col-12 col-md-6"},xe={class:"text-caption"},et={class:"text-caption"};function tt(e,s,y,v,w,f){return r(),N("form",{onSubmit:s[12]||(s[12]=$e((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[t("div",je,[t("div",Je,[l(A,{dense:"",modelValue:e.first,"onUpdate:modelValue":s[0]||(s[0]=o=>e.first=o),label:`${e.$t("firstName")} *`,error:!!e.formErrors.first,"bottom-slots":""},{error:n(()=>[t("div",Ze,a(e.formErrors.first),1)]),_:1},8,["modelValue","label","error"]),l(A,{dense:"",modelValue:e.middle,"onUpdate:modelValue":s[1]||(s[1]=o=>e.middle=o),label:e.$t("middleName"),error:!!e.formErrors.middle,"bottom-slots":""},{error:n(()=>[t("div",We,a(e.formErrors.middle),1)]),_:1},8,["modelValue","label","error"]),l(A,{dense:"",modelValue:e.last,"onUpdate:modelValue":s[2]||(s[2]=o=>e.last=o),label:`${e.$t("lastName")} *`,error:!!e.formErrors.last,"bottom-slots":""},{error:n(()=>[t("div",Ke,a(e.formErrors.last),1)]),_:1},8,["modelValue","label","error"]),l(A,{dense:"",modelValue:e.suffix,"onUpdate:modelValue":s[3]||(s[3]=o=>e.suffix=o),label:e.$t("suffix"),error:!!e.formErrors.suffix,"bottom-slots":""},{error:n(()=>[t("div",Ge,a(e.formErrors.suffix),1)]),_:1},8,["modelValue","label","error"]),l(Z,{dense:"",modelValue:e.contact,"onUpdate:modelValue":s[4]||(s[4]=o=>e.contact=o),label:e.$t("preferredContactMethod"),options:e.options,error:!!e.formErrors.contact,"bottom-slots":""},{error:n(()=>[t("div",Xe,a(e.formErrors.contact),1)]),_:1},8,["modelValue","label","options","error"])]),e.$q.screen.gt.sm?(r(),k(le,{key:0,vertical:""})):m("",!0),t("div",_e,[l(Z,{dense:"",modelValue:e.addressCountry,"onUpdate:modelValue":s[5]||(s[5]=o=>e.addressCountry=o),label:`${e.$t("country")} *`,options:e.countries,error:!!e.formErrors.addressCountry,"bottom-slots":""},{error:n(()=>[t("div",xe,a(e.formErrors.addressCountry),1)]),_:1},8,["modelValue","label","options","error"]),l(A,{dense:"",modelValue:e.street1,"onUpdate:modelValue":s[6]||(s[6]=o=>e.street1=o),label:`${e.$t("streetAddress1")} *`,error:!!e.formErrors.street1,"bottom-slots":""},null,8,["modelValue","label","error"]),l(A,{dense:"",modelValue:e.street2,"onUpdate:modelValue":s[7]||(s[7]=o=>e.street2=o),label:e.$t("streetAddress2"),error:!!e.formErrors.street2,"bottom-slots":""},null,8,["modelValue","label","error"]),l(A,{dense:"",modelValue:e.city,"onUpdate:modelValue":s[8]||(s[8]=o=>e.city=o),label:`${e.$t("city")} *`,error:!!e.formErrors.city,"bottom-slots":""},null,8,["modelValue","label","error"]),l(Z,{dense:"",modelValue:e.state,"onUpdate:modelValue":s[9]||(s[9]=o=>e.state=o),label:`${e.$t("stateRegion")} *`,options:e.addressCountry?e.addressCountry.value==="United States"?e.states:e.provinces:e.states,error:!!e.formErrors.state,"bottom-slots":""},{error:n(()=>[t("div",et,a(e.formErrors.state),1)]),_:1},8,["modelValue","label","options","error"]),l(A,{dense:"",modelValue:e.postal,"onUpdate:modelValue":s[10]||(s[10]=o=>e.postal=o),label:`${e.$t("zipCode")} *`,error:!!e.formErrors.postal,"bottom-slots":""},null,8,["modelValue","label","error"])])]),l(he,{class:"text-right"},{default:n(()=>[e.onJobBoard?m("",!0):(r(),k(V,{key:0,onClick:s[11]||(s[11]=o=>e.$emit("back")),color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["label"])),l(V,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)}var ot=ne(Ye,[["render",tt]]);const lt=/^[0-9]{10}/g,st=ae({props:{title:String,step:Number,name:Number},components:{editPersonalInfo:ot},setup(){const{employee:e}=Y(de()),s=[{label:"Call",value:0},{label:"Text",value:1},{label:"Email",value:2}],y=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],v=I(!1),w=I(!1),f=I(null),o=se(),{onJobBoard:c,personalInfoNeeded:i}=Y(o),H=R({first:q().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:q().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:q().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:q().nullable().notRequired(),email:q().required("Email is required!").email("You must provide a valid email!"),phone:q().matches(lt,{message:"Valid Phone Number Required!"}).required("Phone number is required!"),street1:q().required(),street2:q().nullable().notRequired(),city:q().required(),state:q().required(),postal:q().required(),addressCountry:R().required(),contact:R().nullable().notRequired()}),{meta:D,errors:T,handleSubmit:j,isSubmitting:O}=qe({validationSchema:H,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",phone:e.value[27]?e.value[27]:"",email:e.value[26]?e.value[26]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:M,meta:C}=p("first"),{value:re,meta:Q}=p("middle"),{value:ee,meta:B}=p("last"),{value:z}=p("suffix"),{value:te}=p("email"),{value:F}=p("phone"),{value:K}=p("contact"),{value:G}=p("street1"),{value:J}=p("street2"),{value:d}=p("city"),{value:h}=p("state"),{value:$}=p("postal"),{value:L}=p("addressCountry"),U=W(()=>{const b=`${M.value} ${ee.value} ${z.value}`;return ye.formatName(b)}),X=W(()=>`${G.value}${J.value===""?"":` ${J.value}`}, ${d.value}, ${h.value}, ${$.value}, ${L.value.value}`),ue=W(()=>{let b="";return F.value.length===11?b=F.value.substring(1):b=F.value,ye.formatPhone(b)});async function _(){const b={23:e.value[20],24:e.value[21],25:e.value[22],26:e.value[23],27:e.value[27],28:e.value[26],46:e.value[57],32:e.value[41],33:e.value[42],34:e.value[43],35:e.value[44],36:e.value[45],37:e.value[46]},be={next:2,values:b};o.updateProfile(be)}function g(){v.value=!0}const pe=j(b=>{const be={23:b.first,24:b.middle,25:b.last,26:b.suffix,27:b.phone,28:b.email,46:b.contact,32:b.street1,33:b.street2,34:b.city,35:b.state,36:b.postal,37:b.addressCountry.name},u={next:2,values:be};v.value=!1,o.updateProfile(u)});function ve(){v.value=!1;const b={next:0};o.updateProfile(b)}const fe=b=>{f.value=b};return Ee(()=>{console.log(e.value)}),{submitUpdate:pe,isSubmitting:O,save:_,back:ve,updateCountry:fe,first:M,middle:re,last:ee,suffix:z,email:te,phone:F,contact:K,street1:G,street2:J,city:d,state:h,postal:$,addressCountry:L,hasPersonalInfo:w,showEdit:v,firstMeta:C,middleMeta:Q,lastMeta:B,formMeta:D,formErrors:T,options:s,countries:y,fullName:U,fullAddress:X,formatPhone:ue,employee:e,showEditFunction:g,onJobBoard:c,personalInfoNeeded:i}}}),at={key:1},nt={class:"col-12 col-md-3 q-py-sm"},rt={class:"text-primary"},it={class:"text-dark q-pl-sm"},dt={class:"col-12 col-md-6 q-py-sm"},ut={class:"text-primary"},mt={class:"text-dark q-pl-sm"},ct={class:"col-12 col-md-3 q-py-sm"},pt={class:"text-primary"},vt={class:"text-dark q-pl-sm"};function ft(e,s,y,v,w,f){const o=ie("edit-personal-info");return r(),k(ge,{name:e.name,title:e.title,done:e.step>1},{default:n(()=>[e.showEdit||e.personalInfoNeeded?(r(),k(o,{key:0,onBack:e.back},null,8,["onBack"])):m("",!0),!e.showEdit&&!e.personalInfoNeeded?(r(),N("div",at,[l(me,null,{default:n(()=>[l(x,null,{default:n(()=>[t("div",{class:E(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[oe(a(e.$q.screen.gt.sm?`${e.$t("personalInfo")}`:`${e.$t("personal")}`)+" ",1),l(V,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit",onClick:e.showEditFunction},null,8,["size","onClick"])],2),t("div",{class:E(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[t("div",nt,[t("div",rt,a(e.$t("name")),1),t("div",it,a(e.employee[24]),1)]),t("div",dt,[t("div",ut,a(e.$t("address")),1),t("div",mt,a(e.employee[40]),1)]),t("div",ct,[t("div",pt,a(e.$t("preferredContactMethod")),1),t("div",vt,a(e.employee[58]),1)])],2)]),_:1})]),_:1}),l(he,{class:"text-right"},{default:n(()=>[e.onJobBoard?m("",!0):(r(),k(V,{key:0,onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"])),l(V,{onClick:e.save,color:"info",label:e.$t("continue")},null,8,["onClick","label"])]),_:1})])):m("",!0)]),_:1},8,["name","title","done"])}var bt=ne(st,[["render",ft]]);const $t=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,ht=ae({props:{title:String,step:Number,name:Number},setup(){const e=Ne(),s=se(),y=ce(),{t:v}=Ve(),{formOptions:w}=Y(y),{savedEmergencyContacts:f}=Y(de()),{removeContact:o,addContact:c,updateContact:i,employeeData:H}=de(),D=I({name:"first",value:null}),T=I({name:"last",value:null}),j=I({name:"phone",value:null}),O=I({name:"relationship",value:null}),M=I([]),C=W(()=>{const d=f.value.concat(M.value);return d.sort(function(h,$){return h.editing&&!$.editing?-1:!h.editing&&$.editing?1:0}),d}),re=W(()=>C.value.filter(h=>h.editing).length>0);function Q(){const d={next:3};s.updateProfile(d)}function ee(){const d={next:1};s.updateProfile(d)}function B(){const d={3:C.value.length+1,6:"",7:"",8:"",11:"",12:"",16:"",editing:!0,new:!0,contact:null};M.value.push(d),console.log(C.value)}function z(d){f.value[d].editing=!0}function te(d){const h=C.value[d];console.log(h),e.dialog({title:"Alert",message:`Are you sure you want to remove ${h[6]} ${h[7]}?`,cancel:!0,persistent:!0}).onOk(()=>{o(h[3])})}const F=R({relationship:R().required("Relationship is required.").nullable(),phone:q().matches($t,{message:`${v("validPhoneIsRequired")}`}).length(10,{message:"Phone number must be 10 digits."}).required("Phone is required."),last:q().required("Last name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."}),first:q().required("First name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."})}).required();function K(d){const h=[D.value,T.value,j.value,O.value];d?h.forEach($=>{$.name===d.name?$.value=d.message:$.value=null}):h.forEach($=>{$.value=null})}async function G(d,h){console.log(d);const $=C.value[h];try{await F.validate({relationship:d.contact,phone:d[16],last:d[7],first:d[6]}),$[11]=d.contact.value,$[12]=d.contact.label,$.editing=!1,K(),$.new?($.new=!1,c($),M.value.forEach((L,U)=>{L[3]===$[3]&&M.value.splice(U,1)})):i($)}catch({name:L,path:U,errors:X,inner:ue}){let _="";X[0]instanceof Object?_=X[0].message:_=X[0],K({name:U,message:_})}}function J(d){const h=C.value[d];console.log(h),h.new?M.value.forEach(($,L)=>{$[3]===h[3]&&M.value.splice(L,1)}):C.value[d].editing=!1}return{save:Q,back:ee,savedEmergencyContacts:f,allContacts:C,editing:re,formOptions:w,editItem:z,removeItem:te,saveItem:G,cancelEdit:J,addNewContactRow:B,addContact:c,updateContact:i,firstError:D,lastError:T,phoneError:j,relationshipError:O,helpers:ye,employeeData:H}}}),yt={class:"col-12 col-md-4"},gt={class:"text-primary"},qt={class:"text-dark q-pl-sm"},kt={class:"col-12 col-md-4"},Vt={class:"text-primary"},Ct={class:"text-dark q-pl-sm"},Et={key:0,class:"text-body2 text-dark"},wt={class:"row q-py-sm"},St={class:"col-12 col-md-6 text-left"},Nt={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},Ut=["id"],It={class:"col-12 col-md-4"},Mt={class:"text-primary"},Pt={class:"text-dark q-pl-sm"},At={class:"text-primary"},Ot={class:"text-dark q-pl-sm"},zt={class:"text-primary"},Rt={class:"text-dark q-pl-sm"},Dt={key:1,class:"items-center"},Qt=["onSubmit"],Ft={class:"row"},Ht={class:"col-12 col-md-3 q-pr-md"},Tt={class:"col-12 col-md-3 q-pr-md"},Bt={class:"col-12 col-md-3 q-pr-md"},Lt={class:"col-12 col-md-3"},Yt={class:"row q-mt-md"},jt={class:"col text-right"};function Jt(e,s,y,v,w,f){return r(),k(ge,{name:e.name,title:e.title},{default:n(()=>[t("div",null,[l(me,{class:"q-px-xs"},{default:n(()=>[l(x,null,{default:n(()=>[t("div",{class:E(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[oe(a(e.$q.screen.gt.sm?`${e.$t("personalContactInfo")}`:`${e.$t("personal")}`)+" ",1),l(V,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit"},null,8,["size"])],2),t("div",{class:E(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[t("div",yt,[t("div",gt,a(e.$t("phoneNumber")),1),t("div",qt,a(e.employeeData[25]),1)]),t("div",kt,[t("div",Vt,a(e.$t("email")),1),t("div",Ct,a(e.employeeData[26]),1)])],2)]),_:1}),e.$q.screen.gt.sm?m("",!0):(r(),k(le,{key:0})),e.editing?m("",!0):(r(),k(x,{key:1,class:E(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[e.$q.screen.gt.sm?m("",!0):(r(),N("div",Et,a(e.$t("emergencyContacts")),1)),t("div",wt,[t("div",St,[l(V,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:(e.allContacts.length>0,e.$t("addEmergencyContact")),onClick:e.addNewContactRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(r(),k(le,{key:2})):m("",!0),l(x,{class:E([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:n(()=>[e.allContacts.length===0?(r(),N("div",Nt,a(e.$t("addEmergencyContactRequired")),1)):m("",!0),(r(!0),N(Se,null,we(e.allContacts,(o,c)=>(r(),N("div",{id:o[3],key:o[3]},[l(me,{class:"q-pa-sm",flat:""},{default:n(()=>[o.editing?m("",!0):(r(),N("div",{key:0,class:E(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[t("div",It,[t("div",null,[t("div",Mt,a(e.$t("name")),1),t("div",Pt,a(e.helpers.formatName(o[6]))+" "+a(e.helpers.formatName(o[7])),1)])]),t("div",{class:E(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[t("div",null,[t("div",At,a(e.$t("phoneNumber")),1),t("div",Ot,a(e.helpers.formatPhone(o[8])),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[t("div",null,[t("div",zt,a(e.$t("relationship")),1),t("div",Rt,a(o[12]),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2 text-right":"col-12 q-pt-md text-right")},[t("div",null,[l(V,{size:"sm",round:"",onClick:i=>e.editItem(c),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),l(V,{size:"sm",round:"",onClick:i=>e.removeItem(c),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),o.editing?(r(),N("div",Dt,[t("form",{onSubmit:$e(i=>e.saveItem(o,c),["prevent"])},[t("div",Ft,[t("div",Ht,[l(A,{modelValue:o[6],"onUpdate:modelValue":i=>o[6]=i,dense:"",label:e.$t("firstName"),error:!!e.firstError.value,"bottom-slots":""},{error:n(()=>[oe(a(e.firstError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","error"])]),t("div",Tt,[l(A,{modelValue:o[7],"onUpdate:modelValue":i=>o[7]=i,dense:"",label:e.$t("lastName"),error:!!e.lastError.value,"bottom-slots":""},{error:n(()=>[oe(a(e.lastError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","error"])]),t("div",Bt,[l(A,{modelValue:o[16],"onUpdate:modelValue":i=>o[16]=i,dense:"",label:e.$t("phoneNumber"),error:!!e.phoneError.value,"bottom-slots":""},{error:n(()=>[oe(a(e.phoneError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","error"])]),t("div",Lt,[l(Z,{behavior:"menu",position:"top middle",modelValue:o.contact,"onUpdate:modelValue":i=>o.contact=i,dense:"",label:e.$t("relationship"),options:e.formOptions.relationships,error:!!e.relationshipError.value,"bottom-slots":""},{error:n(()=>[oe(a(e.relationshipError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","options","error"])])]),t("div",Yt,[t("div",jt,[l(V,{onClick:i=>e.cancelEdit(c),color:"secondary",label:e.$t("cancel"),class:"q-mr-sm"},null,8,["onClick","label"]),l(V,{type:"submit",color:"info",label:e.$t("save")},null,8,["label"])])])],40,Qt)])):m("",!0)]),_:2},1024),c<e.allContacts.length-1?(r(),k(le,{key:0})):m("",!0)],8,Ut))),128))]),_:1},8,["class"])]),_:1}),e.editing?m("",!0):(r(),k(he,{key:0,class:"text-right"},{default:n(()=>[l(V,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),l(V,{onClick:e.save,color:"info",label:e.$t("continue"),disabled:e.savedEmergencyContacts.length===0},null,8,["onClick","label","disabled"])]),_:1}))])]),_:1},8,["name","title"])}var Zt=ne(ht,[["render",Jt]]);const Wt=ae({props:{title:String,step:Number,name:Number},setup(){const{t:e}=Ve(),s=Me(),y=I(3),v=I(!1),w=Ne(),f=se(),{formOptions:o,disabilityForm:c,hasAffirmative:i,hasVets:H,goToVoluntary:D}=Y(ce()),{savedHistory:T}=Y(de()),{addHistory:j,updateHistory:O,removeHistory:M,employeeData:C,updateEmployeeData:re}=de(),Q=I([]),{getVoluntaryFormOptions:ee}=ce(),{toggleLoader:B,profile:z,proceedToTest:te}=f,F=R({craft:R().required(`${e("selectACraft")}`).nullable(),experience:R().required(`${e("selectExperience")}`).nullable(),employment:R().required(`${e("selectEmploymentStatus")}`).nullable()}),{meta:K,errors:G,handleSubmit:J}=qe({validationSchema:F,initialValues:{craft:z[40]?{value:z[40].value,label:z[40].label}:null,experience:C[53]?{value:C[53],label:C[54]}:null,employment:C[55]?{value:C[55],label:C[56]}:null}}),{value:d}=p("craft"),{value:h}=p("experience"),{value:$}=p("employment");Pe(z,()=>{z[40].value!==d.value.value&&(d.value={value:z[40].value,label:z[40].label})});const L=J(async u=>{console.log(D.value);const P={40:{value:u.craft.value,label:u.craft.label},42:{value:u.experience.value,label:u.experience.label},44:{value:u.employment.value,label:u.employment.label},39:{value:new Date}};if(D.value){const S={next:c.value?6:i.value?7:H.value?8:0,values:P,completed:!0};B(!0),await ee(),s.push({name:"voluntary"}),B(!1),await f.updateProfile(S),f.submitProfileToQB()}else{const S={next:0,values:P,completed:!0};B(!0),await f.updateProfile(S),f.submitProfileToQB(),te?(re({fields:{122:{value:8}}}),s.replace({name:"assessment"})):(s.replace({name:"thanks"}),B(!1))}}),U=W(()=>{const u=T.value.concat(Q.value);return u.sort(function(P,S){return P.editing&&!S.editing?-1:!P.editing&&S.editing?1:0}),u}),X=W(()=>U.value.filter(P=>P.editing).length>0);function ue(){const u={3:U.value.length+1,6:"",7:"",10:"",11:"",12:"",13:"",15:"",16:"",editing:!0,new:!0,company:null,craft:null};Q.value.push(u)}function _(){const u={next:4};f.updateProfile(u)}function g(){const u={next:2};f.updateProfile(u)}function pe(u){T.value[u].editing=!0}function ve(u){const P=U.value[u];console.log(P),w.dialog({title:`${e("alert")}`,message:`${e("areYouSureYouWantToRemove")}`,cancel:!0,persistent:!0}).onOk(()=>{M(P[3])})}function fe(u,P){const S=U.value[P];S[6]=u.company.value,S[7]=u.company.label,S[15]=u.craft.value,S[16]=u.craft.label,S.editing=!1,S.new?(S.new=!1,Q.value.forEach((ke,Ue)=>{ke[3]===S[3]&&Q.value.splice(Ue,1)}),j(S)):O(S)}function b(u){const P=U.value[u];P.new?Q.value.forEach((S,ke)=>{S[3]===P[3]&&Q.value.splice(ke,1)}):U.value[u].editing=!1}function be(){v.value?(y.value=3,v.value=!1):(v.value=!0,y.value=U.value.length)}return{save:_,back:g,allHistory:U,addNewRow:ue,editItem:pe,removeItem:ve,saveItem:fe,cancelEdit:b,formOptions:o,editing:X,date:Re,show:y,expanded:v,adjustRows:be,formMeta:K,formErrors:G,submitUpdate:L,craft:d,experience:h,employment:$}}}),Kt={class:"text-body2 text-dark"},Gt={class:"row"},Xt={class:"col-12 col-md-4 q-px-xs"},_t={class:"text-caption"},xt={class:"col-12 col-md-4 q-px-xs"},eo={class:"text-caption"},to={class:"col-12 col-md-4 q-px-xs"},oo={class:"text-caption"},lo={class:"text-body2 text-dark"},so={class:"row q-py-sm"},ao={class:"col-12 col-md-6"},no={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},ro=["id"],io={class:"col-12 col-md-3"},uo={class:"text-primary"},mo={class:"text-dark q-pl-sm"},co={class:"text-primary"},po={class:"text-dark q-pl-sm"},vo={class:"text-primary"},fo={class:"text-dark q-pl-sm"},bo={class:"text-primary"},$o={class:"text-dark q-pl-sm"},ho={class:"text-primary"},yo={class:"text-dark q-pl-sm"},go={key:1,class:"items-center"},qo=["onSubmit"],ko={class:"row"},Vo={class:"col-12 col-md-2 q-pr-md"},Co={class:"col-12 col-md-2 q-pr-md"},Eo={class:"col-12 col-md-2 q-pr-md"},wo={class:"col-12 col-md-2 q-pr-md"},So={class:"col-12 col-md-2 q-pr-md"},No={class:"col-12 col-md-2 q-pr-md"},Uo={class:"row q-mt-md"},Io={class:"col text-right"},Mo={class:"row q-pt-md"},Po={key:0,class:"col-12 text-right"};function Ao(e,s,y,v,w,f){return r(),k(ge,{name:e.name,title:e.title,done:e.step>3},{default:n(()=>[t("div",null,[t("form",{onSubmit:s[3]||(s[3]=$e((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[l(me,{class:"q-px-xs"},{default:n(()=>[l(x,{class:"q-pb-none q-mb-sm"},{default:n(()=>[t("div",Kt,a(e.$t("applyingFor"))+":",1),t("div",Gt,[t("div",Xt,[l(Z,{behavior:"menu",position:"top middle",disable:!0,dense:"",modelValue:e.craft,"onUpdate:modelValue":s[0]||(s[0]=o=>e.craft=o),label:e.$t("primaryCraft"),options:e.formOptions.crafts,error:!!e.formErrors.craft,"bottom-slots":""},{error:n(()=>[t("div",_t,a(e.formErrors.craft),1)]),_:1},8,["modelValue","label","options","error"])]),t("div",xt,[l(Z,{behavior:"menu",position:"top middle",dense:"",modelValue:e.experience,"onUpdate:modelValue":s[1]||(s[1]=o=>e.experience=o),label:e.$t("yearsOfExperience"),options:e.formOptions.experience,error:!!e.formErrors.experience,"bottom-slots":""},{error:n(()=>[t("div",eo,a(e.formErrors.experience),1)]),_:1},8,["modelValue","label","options","error"])]),t("div",to,[l(Z,{behavior:"menu",position:"top middle",dense:"",modelValue:e.employment,"onUpdate:modelValue":s[2]||(s[2]=o=>e.employment=o),label:e.$t("currentEmploymentStatus"),options:e.formOptions.employment,error:!!e.formErrors.employment,"bottom-slots":""},{error:n(()=>[t("div",oo,a(e.formErrors.employment),1)]),_:1},8,["modelValue","label","options","error"])])])]),_:1}),l(le),e.editing?m("",!0):(r(),k(x,{key:0,class:E(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[t("div",lo,a(e.$t("workHistory"))+":",1),t("div",so,[t("div",ao,[l(V,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:e.allHistory.length>0?`${e.$t("addMoreHistory")}`:`${e.$t("addEmploymentHistory")}`,onClick:e.addNewRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(r(),k(le,{key:1})):m("",!0),l(x,{class:E([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:n(()=>[e.allHistory.length===0?(r(),N("div",no,a(e.$t("addYourEmploymentHistoryLater")),1)):m("",!0),(r(!0),N(Se,null,we(e.allHistory,(o,c)=>(r(),N("div",{id:o[3],key:c},[e.expanded||c+1<=e.show?(r(),k(me,{key:0,class:"q-px-sm q-pt-xs q-pb-sm",flat:""},{default:n(()=>[o.editing?m("",!0):(r(),N("div",{key:0,class:E(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[t("div",io,[t("div",null,[t("div",uo,a(e.$t("company")),1),t("div",mo,a(o[7]),1)])]),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"hidden")},[t("div",null,[t("div",co,a(e.$t("location")),1),t("div",po,a(o[10]!==""?o[10]:"N/A"),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"col-12 q-pt-md")},[t("div",null,[t("div",vo,a(e.$t("jobTitle")),1),t("div",fo,a(o[16])+" "+a(o[11]),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",null,[t("div",bo,a(e.$t("startDate")),1),t("div",$o,a(e.date.formatDate(o[12],"MM-DD-YYYY")),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",null,[t("div",ho,a(e.$t("endDate")),1),t("div",yo,a(e.date.formatDate(o[13],"MM-DD-YYYY")),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-1 text-right":"col-12 q-pt-md text-right")},[t("div",null,[l(V,{size:"sm",round:"",onClick:i=>e.editItem(c),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),l(V,{size:"sm",round:"",onClick:i=>e.removeItem(c),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),o.editing?(r(),N("div",go,[t("form",{onSubmit:$e(i=>e.saveItem(o,c),["prevent"])},[t("div",ko,[t("div",Vo,[l(Z,{modelValue:o.company,"onUpdate:modelValue":i=>o.company=i,dense:"",label:e.$t("company"),options:e.formOptions.companies},null,8,["modelValue","onUpdate:modelValue","label","options"])]),t("div",Co,[l(Z,{modelValue:o.craft,"onUpdate:modelValue":i=>o.craft=i,dense:"",label:e.$t("craft"),options:e.formOptions.crafts},null,8,["modelValue","onUpdate:modelValue","label","options"])]),t("div",Eo,[l(A,{modelValue:o[11],"onUpdate:modelValue":i=>o[11]=i,dense:"",label:e.$t("jobTitle")},null,8,["modelValue","onUpdate:modelValue","label"])]),t("div",wo,[l(A,{modelValue:o[10],"onUpdate:modelValue":i=>o[10]=i,dense:"",label:e.$t("location")},null,8,["modelValue","onUpdate:modelValue","label"])]),t("div",So,[l(A,{type:"date",modelValue:o[12],"onUpdate:modelValue":i=>o[12]=i,dense:"",filled:"",hint:e.$t("startDate")},null,8,["modelValue","onUpdate:modelValue","hint"])]),t("div",No,[l(A,{type:"date",modelValue:o[13],"onUpdate:modelValue":i=>o[13]=i,dense:"",filled:"",hint:e.$t("endDate")},null,8,["modelValue","onUpdate:modelValue","hint"])])]),t("div",Uo,[t("div",Io,[l(V,{onClick:i=>e.cancelEdit(c),color:"secondary",label:e.$t("cancel"),class:"q-mr-sm"},null,8,["onClick","label"]),l(V,{type:"submit",color:"info",label:e.$t("save")},null,8,["label"])])])],40,qo)])):m("",!0)]),_:2},1024)):m("",!0),c<e.allHistory.length-1?(r(),k(le,{key:1})):m("",!0)],8,ro))),128)),e.allHistory.length>e.show||e.expanded?(r(),k(le,{key:1})):m("",!0),t("div",Mo,[e.allHistory.length>e.show||e.expanded?(r(),N("div",Po,[l(V,{round:"",color:"secondary",onClick:e.adjustRows,icon:e.expanded?"expand_less":"expand_more"},{default:n(()=>[e.expanded?(r(),k(Ce,{key:0,anchor:"top middle"},{default:n(()=>[oe(a(e.$t("showLess")),1)]),_:1})):m("",!0),e.expanded?m("",!0):(r(),k(Ce,{key:1,anchor:"top middle"},{default:n(()=>[oe(a(e.$t("showMore")),1)]),_:1}))]),_:1},8,["onClick","icon"])])):m("",!0)])]),_:1},8,["class"])]),_:1}),e.editing?m("",!0):(r(),k(he,{key:0,class:"text-right"},{default:n(()=>[l(V,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),l(V,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1}))],32)])]),_:1},8,["name","title","done"])}var Oo=ne(Wt,[["render",Ao]]);const zo=ae({components:{selectJob:Te,personalInfo:bt,emergencyContact:Zt,workHistory:Oo},setup(){const{step:e}=Y(se()),s=I(null);return{step:e,jobSelection:s,jobOptions:[{label:"Default Job",value:0}]}}});function Ro(e,s,y,v,w,f){const o=ie("select-job"),c=ie("personal-info"),i=ie("emergency-contact"),H=ie("work-history");return r(),N("div",null,[l(ze,{modelValue:e.step,"onUpdate:modelValue":s[0]||(s[0]=D=>e.step=D),vertical:"",animated:"","done-color":"info","active-color":"dark","inactive-color":"secondary",class:E(e.$q.screen.lt.md?"q-px-none q-mx-none":"")},{default:n(()=>[l(o,{title:e.$t("selectAJob"),step:e.step,name:0,done:e.step>0},null,8,["title","step","done"]),l(c,{title:e.$t("personalInformation"),step:e.step,name:1,done:e.step>1},null,8,["title","step","done"]),l(i,{title:e.$t("contactInformation"),step:e.step,name:2,done:e.step>2},null,8,["title","step","done"]),l(H,{title:e.$t("employmentInformation"),step:e.step,name:3,done:e.step>3},null,8,["title","step","done"])]),_:1},8,["modelValue","class"])])}var Do=ne(zo,[["render",Ro]]);const Qo=ae({components:{profileStepper:Do},setup(){}});function Fo(e,s,y,v,w,f){const o=ie("profile-stepper");return r(),N("div",null,[l(o)])}var Ho=ne(Qo,[["render",Fo]]);const To=ae({components:{Profile:Ho},setup(){const e=I(0),{updateEmployeeData:s}=de(),{getFormOptions:y,getEvergreenJobs:v,fieldLabels:w}=ce(),{loadingState:f}=Y(se()),{dataLoaded:o}=se();y(),v();async function c(){o(!0),await s({fields:{339:{value:1}}}),o()}return w||c(),{step:e,loadingState:f}}}),Bo={key:0,class:"absolute-center"},Lo={key:1,class:"row"},Yo={class:"col-12 q-pt-sm"},jo={class:"q-pl-sm"},Jo={class:"text-h6 text-dark"},Zo={class:"text-body1 text-secondary text-italic"};function Wo(e,s,y,v,w,f){const o=ie("profile");return r(),k(Oe,{style:{"max-width":"100vw"}},{default:n(()=>[e.loadingState?(r(),N("div",Bo,[l(Ae,{color:"primary",size:"5em"})])):m("",!0),e.loadingState?m("",!0):(r(),N("div",Lo,[t("div",Yo,[l(me,{flat:""},{default:n(()=>[l(x,{class:E(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[t("div",jo,[t("div",Jo,a(e.$t("completeApplication")),1),t("div",Zo,a(e.$t("pleaseCompleteYourApplication")),1)])]),_:1},8,["class"]),l(x,null,{default:n(()=>[l(o)]),_:1})]),_:1})])]))]),_:1})}var vl=ne(To,[["render",Wo]]);export{vl as default};
