import{l as se,aq as ne,I as ie,r as U,c as Z,ar as z,as as he,at as v,o as $e,_ as le,p as r,P as V,M as n,t as w,v as t,d as s,L as c,x as Ee,au as X,W as k,av as pe,N as m,aw as oe,J as de,ax as q,K as fe,ay as N,O as te,Z as ae,Q as x,S as ee,y as S,R as ue,Y as qe,$ as ke,F as Ce,az as Se,a0 as we,aA as _e,a1 as Ue}from"./index.d20fb33e.js";import{Q as ve,a as ye,b as Pe}from"./QStep.46de216e.js";import{Q as ge}from"./QTooltip.1e3ef0b9.js";const Ne=se({props:{title:String,step:Number,name:Number},setup(){const e=ne(),l=ie(),{formOptions:$,formOptionsLoaded:y,getEvergreenJobs:h}=l,{profile:_}=e,{inHiringCenter:o}=ie(),p=U([]),i=U(p.value),R=Z(()=>o?z({selection:z().required("Please select a job!").nullable()}):!1),{meta:I,errors:H,handleSubmit:L,isSubmitting:A}=he({validationSchema:R,initialValues:{selection:_[19].value?{value:_[19].value,label:_[19].label}:null}}),{value:b}=v("selection"),O=L(P=>{const M={19:{value:P.selection.value,label:P.selection.label}},B={next:1,values:M};e.updateProfile(B)});function Q(P,M,B){M(()=>{const F=P.toLowerCase();i.value=p.value.filter(D=>D.label.toLowerCase().indexOf(F)>-1)})}return $e(async()=>{y||l.getFormOptions();const P=await h();p.value=P}),{formOptions:$,inHiringCenter:o,options:i,selection:b,formMeta:I,formErrors:H,isSubmitting:A,submitUpdate:O,filterOptions:Q}}}),Ae={key:0},Oe={class:"text-caption"};function ze(e,l,$,y,h,_){return r(),V(ye,{name:e.name,title:e.title,done:e.step>0},{default:n(()=>[e.inHiringCenter?(r(),w("div",Ae,[t("form",{onSubmit:l[1]||(l[1]=pe((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[s(X,{autofocus:"",label:"Select a Job",modelValue:e.selection,"onUpdate:modelValue":l[0]||(l[0]=o=>e.selection=o),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:e.options,style:Ee(e.$q.screen.gt.md?"width: 50%":"width: 100%"),error:!!e.formErrors.selection,onFilter:e.filterOptions,"bottom-slots":"",dense:""},{error:n(()=>[t("div",Oe,c(e.formErrors.selection),1)]),_:1},8,["modelValue","options","style","error","onFilter"]),s(ve,{class:"text-right"},{default:n(()=>[s(k,{type:"submit",color:"info",label:"Continue"})]),_:1})],32)])):m("",!0)]),_:1},8,["name","title","done"])}var Re=le(Ne,[["render",ze]]);const Ie=se({props:{title:String,step:Number,name:Number},components:{},setup(){const{employee:e}=oe(de()),l=[{label:"Call",value:0},{label:"Text",value:1},{label:"Email",value:2}],$=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],y=U(!1),h=U(!1),_=U(null),o=ne(),p=z({first:q().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:q().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:q().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:q().nullable().notRequired(),street1:q().required(),street2:q().nullable().notRequired(),city:q().required(),state:q().required(),postal:q().required(),addressCountry:z().required(),contact:z().nullable().notRequired()}),{meta:i,errors:R,handleSubmit:I,isSubmitting:H}=he({validationSchema:p,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:L,meta:A}=v("first"),{value:b,meta:O}=v("middle"),{value:Q,meta:P}=v("last"),{value:M}=v("suffix"),{value:B}=v("contact"),{value:F}=v("street1"),{value:D}=v("street2"),{value:j}=v("city"),{value:Y}=v("state"),{value:J}=v("postal"),{value:d}=v("addressCountry"),u=Z(()=>{const g=`${L.value} ${Q.value} ${M.value}`;return fe.formatName(g)}),f=Z(()=>`${F.value}${D.value===""?"":` ${D.value}`}, ${j.value}, ${Y.value}, ${J.value}, ${d.value.value}`);function T(){const g={next:2};o.updateProfile(g)}function K(){y.value=!0}const W=I(async g=>{const ce={23:g.first,24:g.middle,25:g.last,26:g.suffix,46:g.contact,32:g.street1,33:g.street2,34:g.city,35:g.state,36:g.postal,37:g.addressCountry.value},me={next:2,values:ce};y.value=!1;const a=await o.updateProfile(me);console.log(a)});function re(){const g={next:0};o.updateProfile(g)}const G=g=>{_.value=g};return $e(()=>{console.log(e.value)}),{submitUpdate:W,isSubmitting:H,save:T,back:re,updateCountry:G,first:L,middle:b,last:Q,suffix:M,contact:B,street1:F,street2:D,city:j,state:Y,postal:J,addressCountry:d,hasPersonalInfo:h,showEdit:y,firstMeta:A,middleMeta:O,lastMeta:P,formMeta:i,formErrors:R,options:l,countries:$,fullName:u,fullAddress:f,employee:e,showEditFunction:K}}}),Me={class:"row justify-between"},Fe={class:"col-12 col-md-5"},Le={class:"text-caption"},Qe={class:"text-caption"},De={class:"text-caption"},He={class:"text-caption"},Be={class:"text-caption"},je={class:"col-12 col-md-6"},Ye={class:"text-caption"};function Te(e,l,$,y,h,_){return r(),w("form",{onSubmit:l[12]||(l[12]=pe((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[t("div",Me,[t("div",Fe,[s(N,{dense:"",modelValue:e.first,"onUpdate:modelValue":l[0]||(l[0]=o=>e.first=o),label:"First Name *",error:!!e.formErrors.first,"bottom-slots":""},{error:n(()=>[t("div",Le,c(e.formErrors.first),1)]),_:1},8,["modelValue","error"]),s(N,{dense:"",modelValue:e.middle,"onUpdate:modelValue":l[1]||(l[1]=o=>e.middle=o),label:"Middle Name",error:!!e.formErrors.middle,"bottom-slots":""},{error:n(()=>[t("div",Qe,c(e.formErrors.middle),1)]),_:1},8,["modelValue","error"]),s(N,{dense:"",modelValue:e.last,"onUpdate:modelValue":l[2]||(l[2]=o=>e.last=o),label:"Last Name *",error:!!e.formErrors.last,"bottom-slots":""},{error:n(()=>[t("div",De,c(e.formErrors.last),1)]),_:1},8,["modelValue","error"]),s(N,{dense:"",modelValue:e.suffix,"onUpdate:modelValue":l[3]||(l[3]=o=>e.suffix=o),label:"Suffix",error:!!e.formErrors.suffix,"bottom-slots":""},{error:n(()=>[t("div",He,c(e.formErrors.suffix),1)]),_:1},8,["modelValue","error"]),s(X,{dense:"",modelValue:e.contact,"onUpdate:modelValue":l[4]||(l[4]=o=>e.contact=o),label:"Preferred Contact Method",options:e.options,error:!!e.formErrors.contact,"bottom-slots":""},{error:n(()=>[t("div",Be,c(e.formErrors.contact),1)]),_:1},8,["modelValue","options","error"])]),e.$q.screen.gt.sm?(r(),V(te,{key:0,vertical:""})):m("",!0),t("div",je,[s(N,{dense:"",modelValue:e.street1,"onUpdate:modelValue":l[5]||(l[5]=o=>e.street1=o),label:"Street Address 1 *",error:!!e.formErrors.street1,"bottom-slots":""},null,8,["modelValue","error"]),s(N,{dense:"",modelValue:e.street2,"onUpdate:modelValue":l[6]||(l[6]=o=>e.street2=o),label:"Street Address 2",error:!!e.formErrors.street2,"bottom-slots":""},null,8,["modelValue","error"]),s(N,{dense:"",modelValue:e.city,"onUpdate:modelValue":l[7]||(l[7]=o=>e.city=o),label:"City *",error:!!e.formErrors.city,"bottom-slots":""},null,8,["modelValue","error"]),s(N,{dense:"",modelValue:e.state,"onUpdate:modelValue":l[8]||(l[8]=o=>e.state=o),label:"State/Region *",error:!!e.formErrors.state,"bottom-slots":""},null,8,["modelValue","error"]),s(N,{dense:"",modelValue:e.postal,"onUpdate:modelValue":l[9]||(l[9]=o=>e.postal=o),label:"Postal Code *",error:!!e.formErrors.postal,"bottom-slots":""},null,8,["modelValue","error"]),s(X,{dense:"",modelValue:e.addressCountry,"onUpdate:modelValue":l[10]||(l[10]=o=>e.addressCountry=o),label:"Country *",options:e.countries,error:!!e.formErrors.addressCountry,"bottom-slots":""},{error:n(()=>[t("div",Ye,c(e.formErrors.addressCountry),1)]),_:1},8,["modelValue","options","error"])])]),s(ve,{class:"text-right"},{default:n(()=>[s(k,{onClick:l[11]||(l[11]=o=>e.$emit("back")),color:"secondary",label:"Back",class:"q-mr-sm"}),s(k,{type:"submit",color:"info",label:"Continue"})]),_:1})],32)}var Ze=le(Ie,[["render",Te]]);const Je=/^[0-9]{10}/g,Ke=se({props:{title:String,step:Number,name:Number},components:{editPersonalInfo:Ze},setup(){const{employee:e}=oe(de()),l=[{label:"Call",value:0},{label:"Text",value:1},{label:"Email",value:2}],$=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],y=U(!1),h=U(!1),_=U(null),o=ne(),p=z({first:q().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:q().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:q().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:q().nullable().notRequired(),email:q().required("Email is required!").email("You must provide a valid email!"),phone:q().matches(Je,{message:"Valid Phone Number Required!"}).required("Phone number is required!"),street1:q().required(),street2:q().nullable().notRequired(),city:q().required(),state:q().required(),postal:q().required(),addressCountry:z().required(),contact:z().nullable().notRequired()}),{meta:i,errors:R,handleSubmit:I,isSubmitting:H}=he({validationSchema:p,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",phone:e.value[27]?e.value[27]:"",email:e.value[26]?e.value[26]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:L,meta:A}=v("first"),{value:b,meta:O}=v("middle"),{value:Q,meta:P}=v("last"),{value:M}=v("suffix"),{value:B}=v("email"),{value:F}=v("phone"),{value:D}=v("contact"),{value:j}=v("street1"),{value:Y}=v("street2"),{value:J}=v("city"),{value:d}=v("state"),{value:u}=v("postal"),{value:f}=v("addressCountry"),T=Z(()=>{const a=`${L.value} ${Q.value} ${M.value}`;return fe.formatName(a)}),K=Z(()=>`${j.value}${Y.value===""?"":` ${Y.value}`}, ${J.value}, ${d.value}, ${u.value}, ${f.value.value}`),W=Z(()=>{let a="";return F.value.length===11?a=F.value.substring(1):a=F.value,fe.formatPhone(a)});async function re(){const a={next:2},E=await o.updateProfile(a);console.log(E)}function G(){y.value=!0}const g=I(a=>{const E={23:a.first,24:a.middle,25:a.last,26:a.suffix,27:a.phone,28:a.email,46:a.contact,32:a.street1,33:a.street2,34:a.city,35:a.state,36:a.postal,37:a.addressCountry.name},C={next:2,values:E};y.value=!1,o.updateProfile(C)});function ce(){y.value=!1;const a={next:0};o.updateProfile(a)}const me=a=>{_.value=a};return $e(()=>{console.log(e.value)}),{submitUpdate:g,isSubmitting:H,save:re,back:ce,updateCountry:me,first:L,middle:b,last:Q,suffix:M,email:B,phone:F,contact:D,street1:j,street2:Y,city:J,state:d,postal:u,addressCountry:f,hasPersonalInfo:h,showEdit:y,firstMeta:A,middleMeta:O,lastMeta:P,formMeta:i,formErrors:R,options:l,countries:$,fullName:T,fullAddress:K,formatPhone:W,employee:e,showEditFunction:G}}}),We={key:1},Ge={class:"col-12 col-md-3 q-py-sm"},Xe=t("div",{class:"text-primary"},"Name",-1),xe={class:"text-dark q-pl-sm"},et={class:"col-12 col-md-6 q-py-sm"},tt=t("div",{class:"text-primary"},"Address",-1),ot={class:"text-dark q-pl-sm"},st={class:"col-12 col-md-3 q-py-sm"},lt=t("div",{class:"text-primary"},"Preferred Contact Method",-1),at={class:"text-dark q-pl-sm"};function nt(e,l,$,y,h,_){const o=ae("edit-personal-info");return r(),V(ye,{name:e.name,title:e.title,done:e.step>1},{default:n(()=>[e.showEdit?(r(),V(o,{key:0,onBack:e.back},null,8,["onBack"])):m("",!0),e.showEdit?m("",!0):(r(),w("div",We,[s(ue,null,{default:n(()=>[s(x,null,{default:n(()=>[t("div",{class:S(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[ee(c(e.$q.screen.gt.sm?"Personal Info":"Personal")+" ",1),s(k,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit",onClick:e.showEditFunction},null,8,["size","onClick"])],2),t("div",{class:S(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[t("div",Ge,[Xe,t("div",xe,c(e.employee[24]),1)]),t("div",et,[tt,t("div",ot,c(e.employee[40]),1)]),t("div",st,[lt,t("div",at,c(e.employee[58]),1)])],2)]),_:1})]),_:1}),s(ve,{class:"text-right"},{default:n(()=>[s(k,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),s(k,{onClick:e.save,color:"info",label:"Continue"},null,8,["onClick"])]),_:1})]))]),_:1},8,["name","title","done"])}var rt=le(Ke,[["render",nt]]);const it=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,dt=se({props:{title:String,step:Number,name:Number},setup(){const e=qe(),l=ne(),$=ie(),{formOptions:y}=oe($),{savedEmergencyContacts:h}=oe(de()),{removeContact:_,addContact:o,updateContact:p,employeeData:i}=de(),R=U({name:"first",value:null}),I=U({name:"last",value:null}),H=U({name:"phone",value:null}),L=U({name:"relationship",value:null}),A=U([]),b=Z(()=>{const d=h.value.concat(A.value);return d.sort(function(u,f){return u.editing&&!f.editing?-1:!u.editing&&f.editing?1:0}),d}),O=Z(()=>b.value.filter(u=>u.editing).length>0);function Q(){const d={next:3};l.updateProfile(d)}function P(){const d={next:1};l.updateProfile(d)}function M(){const d={3:b.value.length+1,6:"",7:"",8:"",11:"",12:"",16:"",editing:!0,new:!0,contact:null};A.value.push(d),console.log(b.value)}function B(d){h.value[d].editing=!0}function F(d){const u=b.value[d];console.log(u),e.dialog({title:"Alert",message:`Are you sure you want to remove ${u[6]} ${u[7]}?`,cancel:!0,persistent:!0}).onOk(()=>{_(u[3])})}const D=z({relationship:z().required("Relationship is required.").nullable(),phone:q().matches(it,{message:"A valid phone number is required."}).length(10,{message:"Phone number must be 10 digits."}).required("Phone is required."),last:q().required("Last name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."}),first:q().required("First name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."})}).required();function j(d){const u=[R.value,I.value,H.value,L.value];d?u.forEach(f=>{f.name===d.name?f.value=d.message:f.value=null}):u.forEach(f=>{f.value=null})}async function Y(d,u){console.log(d);const f=b.value[u];try{await D.validate({relationship:d.contact,phone:d[16],last:d[7],first:d[6]}),f[11]=d.contact.value,f[12]=d.contact.label,f.editing=!1,j(),f.new?(f.new=!1,o(f),A.value.forEach((T,K)=>{T[3]===f[3]&&A.value.splice(K,1)})):p(f)}catch({name:T,path:K,errors:W,inner:re}){let G="";W[0]instanceof Object?G=W[0].message:G=W[0],j({name:K,message:G})}}function J(d){const u=b.value[d];console.log(u),u.new?A.value.forEach((f,T)=>{f[3]===u[3]&&A.value.splice(T,1)}):b.value[d].editing=!1}return{save:Q,back:P,savedEmergencyContacts:h,allContacts:b,editing:O,formOptions:y,editItem:B,removeItem:F,saveItem:Y,cancelEdit:J,addNewContactRow:M,addContact:o,updateContact:p,firstError:R,lastError:I,phoneError:H,relationshipError:L,helpers:fe,employeeData:i}}}),ut={class:"col-12 col-md-4"},ct=t("div",{class:"text-primary"},"Phone",-1),mt={class:"text-dark q-pl-sm"},pt={class:"col-12 col-md-4"},vt=t("div",{class:"text-primary"},"Email",-1),ft={class:"text-dark q-pl-sm"},ht={key:0,class:"text-body2 text-dark"},yt={class:"row q-py-sm"},bt={class:"col-12 col-md-6 text-left"},$t={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},gt=["id"],qt={class:"col-12 col-md-4"},kt=t("div",{class:"text-primary"},"Name",-1),Ct={class:"text-dark q-pl-sm"},Vt=t("div",{class:"text-primary"},"Phone",-1),Et={class:"text-dark q-pl-sm"},St=t("div",{class:"text-primary"},"Relationship",-1),wt={class:"text-dark q-pl-sm"},_t={key:1,class:"items-center"},Ut=["onSubmit"],Pt={class:"row"},Nt={class:"col-12 col-md-3 q-pr-md"},At={class:"col-12 col-md-3 q-pr-md"},Ot={class:"col-12 col-md-3 q-pr-md"},zt={class:"col-12 col-md-3"},Rt={class:"row q-mt-md"},It={class:"col text-right"};function Mt(e,l,$,y,h,_){return r(),V(ye,{name:e.name,title:e.title},{default:n(()=>[t("div",null,[s(ue,{class:"q-px-xs"},{default:n(()=>[s(x,null,{default:n(()=>[t("div",{class:S(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[ee(c(e.$q.screen.gt.sm?"Personal Contact Info":"Personal")+" ",1),s(k,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit"},null,8,["size"])],2),t("div",{class:S(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[t("div",ut,[ct,t("div",mt,c(e.employeeData[25]),1)]),t("div",pt,[vt,t("div",ft,c(e.employeeData[26]),1)])],2)]),_:1}),e.$q.screen.gt.sm?m("",!0):(r(),V(te,{key:0})),e.editing?m("",!0):(r(),V(x,{key:1,class:S(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[e.$q.screen.gt.sm?m("",!0):(r(),w("div",ht,"Emergency Contacts")),t("div",yt,[t("div",bt,[s(k,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:(e.allContacts.length>0,"Add Emergency Contact"),onClick:e.addNewContactRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(r(),V(te,{key:2})):m("",!0),s(x,{class:S([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:n(()=>[e.allContacts.length===0?(r(),w("div",$t,"Add your Emergency Contact(s). This is required to continue.")):m("",!0),(r(!0),w(Ce,null,ke(e.allContacts,(o,p)=>(r(),w("div",{id:o[3],key:o[3]},[s(ue,{class:"q-pa-sm",flat:""},{default:n(()=>[o.editing?m("",!0):(r(),w("div",{key:0,class:S(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[t("div",qt,[t("div",null,[kt,t("div",Ct,c(e.helpers.formatName(o[6]))+" "+c(e.helpers.formatName(o[7])),1)])]),t("div",{class:S(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[t("div",null,[Vt,t("div",Et,c(e.helpers.formatPhone(o[8])),1)])],2),t("div",{class:S(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[t("div",null,[St,t("div",wt,c(o[12]),1)])],2),t("div",{class:S(e.$q.screen.gt.sm?"col-2 text-right":"col-12 q-pt-md text-right")},[t("div",null,[s(k,{size:"sm",round:"",onClick:i=>e.editItem(p),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),s(k,{size:"sm",round:"",onClick:i=>e.removeItem(p),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),o.editing?(r(),w("div",_t,[t("form",{onSubmit:pe(i=>e.saveItem(o,p),["prevent"])},[t("div",Pt,[t("div",Nt,[s(N,{modelValue:o[6],"onUpdate:modelValue":i=>o[6]=i,dense:"",label:"First Name",error:!!e.firstError.value,"bottom-slots":""},{error:n(()=>[ee(c(e.firstError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",At,[s(N,{modelValue:o[7],"onUpdate:modelValue":i=>o[7]=i,dense:"",label:"Last Name",error:!!e.lastError.value,"bottom-slots":""},{error:n(()=>[ee(c(e.lastError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Ot,[s(N,{modelValue:o[16],"onUpdate:modelValue":i=>o[16]=i,dense:"",label:"Phone",error:!!e.phoneError.value,"bottom-slots":""},{error:n(()=>[ee(c(e.phoneError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",zt,[s(X,{behavior:"menu",position:"top middle",modelValue:o.contact,"onUpdate:modelValue":i=>o.contact=i,dense:"",label:"Relationship",options:e.formOptions.relationships,error:!!e.relationshipError.value,"bottom-slots":""},{error:n(()=>[ee(c(e.relationshipError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])])]),t("div",Rt,[t("div",It,[s(k,{onClick:i=>e.cancelEdit(p),color:"secondary",label:"Cancel",class:"q-mr-sm"},null,8,["onClick"]),s(k,{type:"submit",color:"info",label:"Save"})])])],40,Ut)])):m("",!0)]),_:2},1024),p<e.allContacts.length-1?(r(),V(te,{key:0})):m("",!0)],8,gt))),128))]),_:1},8,["class"])]),_:1}),e.editing?m("",!0):(r(),V(ve,{key:0,class:"text-right"},{default:n(()=>[s(k,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),s(k,{onClick:e.save,color:"info",label:"Continue",disabled:e.savedEmergencyContacts.length===0},null,8,["onClick","disabled"])]),_:1}))])]),_:1},8,["name","title"])}var Ft=le(dt,[["render",Mt]]);const Lt=se({props:{title:String,step:Number,name:Number},setup(){const e=Se(),l=U(3),$=U(!1),y=qe(),h=ne(),{formOptions:_,disabilityForm:o,hasAffirmative:p,hasVets:i,goToVoluntary:R}=oe(ie()),{savedHistory:I}=oe(de()),{addHistory:H,updateHistory:L,removeHistory:A,employeeData:b}=de(),O=U([]),{getVoluntaryFormOptions:Q}=ie(),{toggleLoader:P}=h,M=z({craft:z().required("Select a Craft!").nullable(),experience:z().required("Select Experience").nullable(),employment:z().required("Select Employment Status").nullable()}),{meta:B,errors:F,handleSubmit:D}=he({validationSchema:M,initialValues:{craft:b[51]?{value:b[51],label:b[52]}:null,experience:b[53]?{value:b[53],label:b[54]}:null,employment:b[55]?{value:b[55],label:b[56]}:null}}),{value:j}=v("craft"),{value:Y}=v("experience"),{value:J}=v("employment"),d=D(async a=>{console.log(R.value);const E={40:{value:a.craft.value,label:a.craft.label},42:{value:a.experience.value,label:a.experience.label},44:{value:a.employment.value,label:a.employment.label},39:{value:new Date}};if(R.value){const C={next:o.value?6:p.value?7:i.value?8:0,values:E};P(!0),await Q(),e.push({name:"voluntary"}),P(!1),await h.updateProfile(C),h.submitProfileToQB()}else{const C={next:0,values:E};P(!0),await h.updateProfile(C),h.submitProfileToQB(),e.replace({path:"/"}),P(!1)}}),u=Z(()=>{const a=I.value.concat(O.value);return a.sort(function(E,C){return E.editing&&!C.editing?-1:!E.editing&&C.editing?1:0}),a}),f=Z(()=>u.value.filter(E=>E.editing).length>0);function T(){const a={3:u.value.length+1,6:"",7:"",10:"",11:"",12:"",13:"",15:"",16:"",editing:!0,new:!0,company:null,craft:null};O.value.push(a)}function K(){const a={next:4};h.updateProfile(a)}function W(){const a={next:2};h.updateProfile(a)}function re(a){I.value[a].editing=!0}function G(a){const E=u.value[a];console.log(E),y.dialog({title:"Alert",message:"Are you sure you want to remove?",cancel:!0,persistent:!0}).onOk(()=>{A(E[3])})}function g(a,E){const C=u.value[E];C[6]=a.company.value,C[7]=a.company.label,C[15]=a.craft.value,C[16]=a.craft.label,C.editing=!1,C.new?(C.new=!1,O.value.forEach((be,Ve)=>{be[3]===C[3]&&O.value.splice(Ve,1)}),H(C)):L(C)}function ce(a){const E=u.value[a];console.log(E),E.new?O.value.forEach((C,be)=>{C[3]===E[3]&&O.value.splice(be,1)}):u.value[a].editing=!1}function me(){$.value?(l.value=3,$.value=!1):($.value=!0,l.value=u.value.length)}return{save:K,back:W,allHistory:u,addNewRow:T,editItem:re,removeItem:G,saveItem:g,cancelEdit:ce,formOptions:_,editing:f,date:we,show:l,expanded:$,adjustRows:me,formMeta:B,formErrors:F,submitUpdate:d,craft:j,experience:Y,employment:J}}}),Qt={class:"row"},Dt={class:"col-12 col-md-4 q-px-xs"},Ht={class:"text-caption"},Bt={class:"col-12 col-md-4 q-px-xs"},jt={class:"text-caption"},Yt={class:"col-12 col-md-4 q-px-xs"},Tt={class:"text-caption"},Zt={key:0,class:"text-body2 text-dark"},Jt={class:"row q-py-sm"},Kt={class:"col-12 col-md-6"},Wt={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},Gt=["id"],Xt={class:"col-12 col-md-3"},xt=t("div",{class:"text-primary"},"Company",-1),eo={class:"text-dark q-pl-sm"},to=t("div",{class:"text-primary"},"Location",-1),oo={class:"text-dark q-pl-sm"},so=t("div",{class:"text-primary"},"Job Title",-1),lo={class:"text-dark q-pl-sm"},ao=t("div",{class:"text-primary"},"Start Date",-1),no={class:"text-dark q-pl-sm"},ro=t("div",{class:"text-primary"},"End Date",-1),io={class:"text-dark q-pl-sm"},uo={key:1,class:"items-center"},co=["onSubmit"],mo={class:"row"},po={class:"col-12 col-md-2 q-pr-md"},vo={class:"col-12 col-md-2 q-pr-md"},fo={class:"col-12 col-md-2 q-pr-md"},ho={class:"col-12 col-md-2 q-pr-md"},yo={class:"col-12 col-md-2 q-pr-md"},bo={class:"col-12 col-md-2 q-pr-md"},$o={class:"row q-mt-md"},go={class:"col text-right"},qo={class:"row q-pt-md"},ko={key:0,class:"col-12 text-right"},Co=ee("Show Less"),Vo=ee("Show More");function Eo(e,l,$,y,h,_){return r(),V(ye,{name:e.name,title:e.title,done:e.step>3},{default:n(()=>[t("div",null,[t("form",{onSubmit:l[3]||(l[3]=pe((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[s(ue,{class:"q-px-xs"},{default:n(()=>[s(x,{class:"q-pb-none"},{default:n(()=>[t("div",Qt,[t("div",Dt,[s(X,{behavior:"menu",position:"top middle",dense:"",modelValue:e.craft,"onUpdate:modelValue":l[0]||(l[0]=o=>e.craft=o),label:"Primary Craft",options:e.formOptions.crafts,error:!!e.formErrors.craft,"bottom-slots":""},{error:n(()=>[t("div",Ht,c(e.formErrors.craft),1)]),_:1},8,["modelValue","options","error"])]),t("div",Bt,[s(X,{behavior:"menu",position:"top middle",dense:"",modelValue:e.experience,"onUpdate:modelValue":l[1]||(l[1]=o=>e.experience=o),label:"Years of Experience",options:e.formOptions.experience,error:!!e.formErrors.experience,"bottom-slots":""},{error:n(()=>[t("div",jt,c(e.formErrors.experience),1)]),_:1},8,["modelValue","options","error"])]),t("div",Yt,[s(X,{behavior:"menu",position:"top middle",dense:"",modelValue:e.employment,"onUpdate:modelValue":l[2]||(l[2]=o=>e.employment=o),label:"Current Employment Status",options:e.formOptions.employment,error:!!e.formErrors.employment,"bottom-slots":""},{error:n(()=>[t("div",Tt,c(e.formErrors.employment),1)]),_:1},8,["modelValue","options","error"])])])]),_:1}),e.$q.screen.gt.sm?m("",!0):(r(),V(te,{key:0})),e.editing?m("",!0):(r(),V(x,{key:1,class:S(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[e.$q.screen.gt.sm?m("",!0):(r(),w("div",Zt,"Work History")),t("div",Jt,[t("div",Kt,[s(k,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:e.allHistory.length>0?"Add More History":"Add Employment History",onClick:e.addNewRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(r(),V(te,{key:2})):m("",!0),s(x,{class:S([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:n(()=>[e.allHistory.length===0?(r(),w("div",Wt,"Add your employment history. You may enter this information later.")):m("",!0),(r(!0),w(Ce,null,ke(e.allHistory,(o,p)=>(r(),w("div",{id:o[3],key:p},[e.expanded||p+1<=e.show?(r(),V(ue,{key:0,class:"q-px-sm q-pt-xs q-pb-sm",flat:""},{default:n(()=>[o.editing?m("",!0):(r(),w("div",{key:0,class:S(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[t("div",Xt,[t("div",null,[xt,t("div",eo,c(o[7]),1)])]),t("div",{class:S(e.$q.screen.gt.sm?"col-2":"hidden")},[t("div",null,[to,t("div",oo,c(o[10]!==""?o[10]:"N/A"),1)])],2),t("div",{class:S(e.$q.screen.gt.sm?"col-2":"col-12 q-pt-md")},[t("div",null,[so,t("div",lo,c(o[16])+" "+c(o[11]),1)])],2),t("div",{class:S(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",null,[ao,t("div",no,c(e.date.formatDate(o[12],"MM-DD-YYYY")),1)])],2),t("div",{class:S(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",null,[ro,t("div",io,c(e.date.formatDate(o[13],"MM-DD-YYYY")),1)])],2),t("div",{class:S(e.$q.screen.gt.sm?"col-1 text-right":"col-12 q-pt-md text-right")},[t("div",null,[s(k,{size:"sm",round:"",onClick:i=>e.editItem(p),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),s(k,{size:"sm",round:"",onClick:i=>e.removeItem(p),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),o.editing?(r(),w("div",uo,[t("form",{onSubmit:pe(i=>e.saveItem(o,p),["prevent"])},[t("div",mo,[t("div",po,[s(X,{modelValue:o.company,"onUpdate:modelValue":i=>o.company=i,dense:"",label:"Company",options:e.formOptions.companies},null,8,["modelValue","onUpdate:modelValue","options"])]),t("div",vo,[s(X,{modelValue:o.craft,"onUpdate:modelValue":i=>o.craft=i,dense:"",label:"Craft",options:e.formOptions.crafts},null,8,["modelValue","onUpdate:modelValue","options"])]),t("div",fo,[s(N,{modelValue:o[11],"onUpdate:modelValue":i=>o[11]=i,dense:"",label:"Job Title"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ho,[s(N,{modelValue:o[10],"onUpdate:modelValue":i=>o[10]=i,dense:"",label:"Location"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",yo,[s(N,{type:"date",modelValue:o[12],"onUpdate:modelValue":i=>o[12]=i,dense:"",filled:"",hint:"Start Date"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",bo,[s(N,{type:"date",modelValue:o[13],"onUpdate:modelValue":i=>o[13]=i,dense:"",filled:"",hint:"End Date"},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",$o,[t("div",go,[s(k,{onClick:i=>e.cancelEdit(p),color:"secondary",label:"Cancel",class:"q-mr-sm"},null,8,["onClick"]),s(k,{type:"submit",color:"info",label:"Save"})])])],40,co)])):m("",!0)]),_:2},1024)):m("",!0),p<e.allHistory.length-1?(r(),V(te,{key:1})):m("",!0)],8,Gt))),128)),e.allHistory.length>e.show||e.expanded?(r(),V(te,{key:1})):m("",!0),t("div",qo,[e.allHistory.length>e.show||e.expanded?(r(),w("div",ko,[s(k,{round:"",color:"secondary",onClick:e.adjustRows,icon:e.expanded?"expand_less":"expand_more"},{default:n(()=>[e.expanded?(r(),V(ge,{key:0,anchor:"top middle"},{default:n(()=>[Co]),_:1})):m("",!0),e.expanded?m("",!0):(r(),V(ge,{key:1,anchor:"top middle"},{default:n(()=>[Vo]),_:1}))]),_:1},8,["onClick","icon"])])):m("",!0)])]),_:1},8,["class"])]),_:1}),e.editing?m("",!0):(r(),V(ve,{key:0,class:"text-right"},{default:n(()=>[s(k,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),s(k,{type:"submit",color:"info",label:"Continue"})]),_:1}))],32)])]),_:1},8,["name","title","done"])}var So=le(Lt,[["render",Eo]]);const wo=se({components:{selectJob:Re,personalInfo:rt,emergencyContact:Ft,workHistory:So},setup(){const{step:e}=oe(ne()),l=U(null);return{step:e,jobSelection:l,jobOptions:[{label:"Default Job",value:0}]}}});function _o(e,l,$,y,h,_){const o=ae("select-job"),p=ae("personal-info"),i=ae("emergency-contact"),R=ae("work-history");return r(),w("div",null,[s(Pe,{modelValue:e.step,"onUpdate:modelValue":l[0]||(l[0]=I=>e.step=I),vertical:"",animated:"","done-color":"info","active-color":"dark","inactive-color":"secondary",class:S(e.$q.screen.lt.md?"q-px-none q-mx-none":"")},{default:n(()=>[s(o,{title:"Select a Job",step:e.step,name:0,done:e.step>0},null,8,["step","done"]),s(p,{title:"Personal Information",step:e.step,name:1,done:e.step>1},null,8,["step","done"]),s(i,{title:"Contact Information",step:e.step,name:2,done:e.step>2},null,8,["step","done"]),s(R,{title:"Employment Information",step:e.step,name:3,done:e.step>3},null,8,["step","done"])]),_:1},8,["modelValue","class"])])}var Uo=le(wo,[["render",_o]]);const Po=se({components:{profileStepper:Uo},setup(){}});function No(e,l,$,y,h,_){const o=ae("profile-stepper");return r(),w("div",null,[s(o)])}var Ao=le(Po,[["render",No]]);const Oo=se({components:{Profile:Ao},setup(){const e=U(0),{getKioskSetup:l,getFormOptions:$}=ie(),{loadingState:y}=oe(ne());return l(),$(),{step:e,loadingState:y}}}),zo={key:0,class:"absolute-center"},Ro={key:1,class:"row"},Io={class:"col-12 q-pt-sm"},Mo=t("div",{class:"q-pl-sm"},[t("div",{class:"text-h6 text-dark"}," Complete Application "),t("div",{class:"text-body1 text-secondary text-italic"}," Please complete the application. ")],-1);function Fo(e,l,$,y,h,_){const o=ae("profile");return r(),V(Ue,{style:{"max-width":"100vw"}},{default:n(()=>[e.loadingState?(r(),w("div",zo,[s(_e,{color:"primary",size:"5em"})])):m("",!0),e.loadingState?m("",!0):(r(),w("div",Ro,[t("div",Io,[s(ue,{flat:""},{default:n(()=>[s(x,{class:S(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[Mo]),_:1},8,["class"]),s(x,null,{default:n(()=>[s(o)]),_:1})]),_:1})])]))]),_:1})}var Ho=le(Oo,[["render",Fo]]);export{Ho as default};
