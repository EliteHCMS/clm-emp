var ie=Object.defineProperty,le=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var A=(e,a,o)=>a in e?ie(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,v=(e,a)=>{for(var o in a||(a={}))re.call(a,o)&&A(e,o,a[o]);if(H)for(var o of H(a))ue.call(a,o)&&A(e,o,a[o]);return e},S=(e,a)=>le(e,se(a));import{S as ce,a4 as de,aC as fe,a5 as ve,r as D,c as m,aD as he,a6 as me,aE as ge,a8 as ye,aF as Te,w as q,a1 as M,Q as j,K as L,aK as pe,h as Q,aN as be,g as Se,ac as Pe,R as we}from"./index.6fb27b25.js";import{u as Oe,v as N,a as Ce,p as R,b as Ee,c as ke,r as W,s as xe,d as He}from"./position-engine.e0f88bf6.js";import{c as K}from"./selection.3a4c914e.js";var je=ce({name:"QTooltip",inheritAttrs:!1,props:S(v(v(v({},Oe),de),fe),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:N},self:{type:String,default:"top middle",validator:N},offset:{type:Array,default:()=>[14,14],validator:Ce},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...ve],setup(e,{slots:a,emit:o,attrs:g}){let s,r;const y=Se(),{proxy:{$q:i}}=y,u=D(null),c=D(!1),_=m(()=>R(e.anchor,i.lang.rtl)),B=m(()=>R(e.self,i.lang.rtl)),F=m(()=>e.persistent!==!0),{registerTick:I,removeTick:P}=he(),{registerTimeout:h,removeTimeout:T}=me(),{transition:U,transitionStyle:V}=ge(e,c),{localScrollTarget:w,changeScrollEvent:$,unconfigureScrollTarget:z}=Ee(e,k),{anchorEl:n,canShow:G,anchorEvents:d}=ke({showing:c,configureAnchorEl:ae}),{show:J,hide:p}=ye({showing:c,canShow:G,handleShow:Y,handleHide:Z,hideOnRouteChange:F,processOnMount:!0});Object.assign(d,{delayShow:ee,delayHide:te});const{showPortal:O,hidePortal:C,renderPortal:X}=Te(y,u,ne);if(i.platform.is.mobile===!0){const t={anchorEl:n,innerRef:u,onClickOutside(l){return p(l),l.target.classList.contains("q-dialog__backdrop")&&we(l),!0}},b=m(()=>e.modelValue===null&&e.persistent!==!0&&c.value===!0);q(b,l=>{(l===!0?He:W)(t)}),M(()=>{W(t)})}function Y(t){P(),T(),O(),I(()=>{r=new MutationObserver(()=>f()),r.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),f(),k()}),s===void 0&&(s=q(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,f)),h(()=>{O(!0),o("show",t)},e.transitionDuration)}function Z(t){P(),T(),C(),E(),h(()=>{C(!0),o("hide",t)},e.transitionDuration)}function E(){r!==void 0&&(r.disconnect(),r=void 0),s!==void 0&&(s(),s=void 0),z(),j(d,"tooltipTemp")}function f(){const t=u.value;n.value===null||!t||xe({el:t,offset:e.offset,anchorEl:n.value,anchorOrigin:_.value,selfOrigin:B.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ee(t){if(i.platform.is.mobile===!0){K(),document.body.classList.add("non-selectable");const b=n.value,l=["touchmove","touchcancel","touchend","click"].map(x=>[b,x,"delayHide","passiveCapture"]);L(d,"tooltipTemp",l)}h(()=>{J(t)},e.delay)}function te(t){T(),i.platform.is.mobile===!0&&(j(d,"tooltipTemp"),K(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),h(()=>{p(t)},e.hideDelay)}function ae(){if(e.noParentEvent===!0||n.value===null)return;const t=i.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];L(d,"anchor",t)}function k(){if(n.value!==null||e.scrollTarget!==void 0){w.value=pe(n.value,e.scrollTarget);const t=e.noParentEvent===!0?f:p;$(w.value,t)}}function oe(){return c.value===!0?Q("div",S(v({},g),{ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",g.class],style:[g.style,V.value],role:"complementary"}),Pe(a.default)):null}function ne(){return Q(be,{name:U.value,appear:!0},oe)}return M(E),Object.assign(y.proxy,{updatePosition:f}),X}});export{je as Q};
