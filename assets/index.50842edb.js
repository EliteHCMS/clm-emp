import{l as le,I as de,av as re,a5 as ee,c as Y,aw as z,ax as be,ay as v,_ as se,p as n,P as V,M as a,t as S,v as t,d as l,L as c,x as Se,az as G,X as k,aA as ve,N as p,J as ue,r as A,aB as q,K as he,o as qe,aC as N,O as oe,a2 as ne,Q as x,S as te,y as E,R as ce,W as ke,a3 as Ce,F as Ve,aD as we,w as _e,a4 as Ue,aE as Pe,a6 as Ne}from"./index.31e59057.js";import{Q as fe,a as ye,b as Ae}from"./QStep.39c04072.js";import{Q as ge}from"./QTooltip.00f078a7.js";const Oe=le({props:{title:String,step:Number,name:Number},setup(){const{formOptionsLoaded:e,getEvergreenJobs:s,checkedIn:y,getFormOptions:$}=de(),{profile:f,updateProfile:U}=re(),{evergreenJobOptions:o}=ee(de()),h=Y(()=>y?z({selection:z().required("Please select a job!").nullable()}):!1),{meta:r,errors:R,handleSubmit:M,isSubmitting:B}=be({validationSchema:h,initialValues:{selection:f[19].value?{value:f[19].value,label:f[19].label}:null}}),{value:D}=v("selection"),I=M(P=>{const F={19:{value:P.selection.value,label:P.selection.label},40:{value:P.selection[13],label:P.selection[12]}};U({next:1,values:F})});async function C(){await s(),e||$()}return C(),{checkedIn:y,selection:D,formMeta:r,formErrors:R,isSubmitting:B,submitUpdate:I,evergreenJobOptions:o}}}),Ie={key:0},ze={class:"text-caption"};function Re(e,s,y,$,f,U){return n(),V(ye,{name:e.name,title:e.title,done:e.step>0},{default:a(()=>[e.checkedIn?(n(),S("div",Ie,[t("form",{onSubmit:s[1]||(s[1]=ve((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[l(G,{autofocus:"",label:"Select a Job",modelValue:e.selection,"onUpdate:modelValue":s[0]||(s[0]=o=>e.selection=o),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:e.evergreenJobOptions,style:Se(e.$q.screen.gt.md?"width: 50%":"width: 100%"),error:!!e.formErrors.selection,"bottom-slots":"",dense:""},{error:a(()=>[t("div",ze,c(e.formErrors.selection),1)]),_:1},8,["modelValue","options","style","error"]),l(fe,{class:"text-right"},{default:a(()=>[l(k,{type:"submit",color:"info",label:"Continue"})]),_:1})],32)])):p("",!0)]),_:1},8,["name","title","done"])}var Me=se(Oe,[["render",Re]]);const De=le({props:{title:String,step:Number,name:Number},components:{},setup(){const{employee:e}=ee(ue()),s=[{label:"Call",value:1},{label:"Text",value:2},{label:"Email",value:3},{label:"Call, Text, or Email",value:4},{label:"Do Not Contact Me",value:5}],y=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],$=A(!1),f=A(!1),U=A(null),o=re(),h=z({first:q().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:q().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:q().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:q().nullable().notRequired(),street1:q().required(),street2:q().nullable().notRequired(),city:q().required(),state:q().required(),postal:q().required(),addressCountry:z().required(),contact:z().nullable().notRequired()}),{meta:r,errors:R,handleSubmit:M,isSubmitting:B}=be({validationSchema:h,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:D,meta:I}=v("first"),{value:C,meta:P}=v("middle"),{value:F,meta:L}=v("last"),{value:O}=v("suffix"),{value:ae}=v("contact"),{value:H}=v("street1"),{value:J}=v("street2"),{value:j}=v("city"),{value:Q}=v("state"),{value:Z}=v("postal"),{value:i}=v("addressCountry"),b=Y(()=>{const g=`${D.value} ${F.value} ${O.value}`;return he.formatName(g)}),d=Y(()=>`${H.value}${J.value===""?"":` ${J.value}`}, ${j.value}, ${Q.value}, ${Z.value}, ${i.value.value}`);function T(){const g={next:2};o.updateProfile(g)}function K(){$.value=!0}const W=M(async g=>{const me={23:g.first,24:g.middle,25:g.last,26:g.suffix,46:g.contact,32:g.street1,33:g.street2,34:g.city,35:g.state,36:g.postal,37:g.addressCountry.value},pe={next:2,values:me};$.value=!1;const m=await o.updateProfile(pe);console.log(m)});function ie(){const g={next:0};o.updateProfile(g)}const X=g=>{U.value=g};return qe(()=>{console.log(e.value)}),{submitUpdate:W,isSubmitting:B,save:T,back:ie,updateCountry:X,first:D,middle:C,last:F,suffix:O,contact:ae,street1:H,street2:J,city:j,state:Q,postal:Z,addressCountry:i,hasPersonalInfo:f,showEdit:$,firstMeta:I,middleMeta:P,lastMeta:L,formMeta:r,formErrors:R,options:s,countries:y,fullName:b,fullAddress:d,employee:e,showEditFunction:K}}}),Qe={class:"row justify-between"},Fe={class:"col-12 col-md-5"},Le={class:"text-caption"},He={class:"text-caption"},Be={class:"text-caption"},je={class:"text-caption"},Te={class:"text-caption"},Ye={class:"col-12 col-md-6"},Je={class:"text-caption"};function Ze(e,s,y,$,f,U){return n(),S("form",{onSubmit:s[12]||(s[12]=ve((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[t("div",Qe,[t("div",Fe,[l(N,{dense:"",modelValue:e.first,"onUpdate:modelValue":s[0]||(s[0]=o=>e.first=o),label:"First Name *",error:!!e.formErrors.first,"bottom-slots":""},{error:a(()=>[t("div",Le,c(e.formErrors.first),1)]),_:1},8,["modelValue","error"]),l(N,{dense:"",modelValue:e.middle,"onUpdate:modelValue":s[1]||(s[1]=o=>e.middle=o),label:"Middle Name",error:!!e.formErrors.middle,"bottom-slots":""},{error:a(()=>[t("div",He,c(e.formErrors.middle),1)]),_:1},8,["modelValue","error"]),l(N,{dense:"",modelValue:e.last,"onUpdate:modelValue":s[2]||(s[2]=o=>e.last=o),label:"Last Name *",error:!!e.formErrors.last,"bottom-slots":""},{error:a(()=>[t("div",Be,c(e.formErrors.last),1)]),_:1},8,["modelValue","error"]),l(N,{dense:"",modelValue:e.suffix,"onUpdate:modelValue":s[3]||(s[3]=o=>e.suffix=o),label:"Suffix",error:!!e.formErrors.suffix,"bottom-slots":""},{error:a(()=>[t("div",je,c(e.formErrors.suffix),1)]),_:1},8,["modelValue","error"]),l(G,{dense:"",modelValue:e.contact,"onUpdate:modelValue":s[4]||(s[4]=o=>e.contact=o),label:"Preferred Contact Method",options:e.options,error:!!e.formErrors.contact,"bottom-slots":""},{error:a(()=>[t("div",Te,c(e.formErrors.contact),1)]),_:1},8,["modelValue","options","error"])]),e.$q.screen.gt.sm?(n(),V(oe,{key:0,vertical:""})):p("",!0),t("div",Ye,[l(N,{dense:"",modelValue:e.street1,"onUpdate:modelValue":s[5]||(s[5]=o=>e.street1=o),label:"Street Address 1 *",error:!!e.formErrors.street1,"bottom-slots":""},null,8,["modelValue","error"]),l(N,{dense:"",modelValue:e.street2,"onUpdate:modelValue":s[6]||(s[6]=o=>e.street2=o),label:"Street Address 2",error:!!e.formErrors.street2,"bottom-slots":""},null,8,["modelValue","error"]),l(N,{dense:"",modelValue:e.city,"onUpdate:modelValue":s[7]||(s[7]=o=>e.city=o),label:"City *",error:!!e.formErrors.city,"bottom-slots":""},null,8,["modelValue","error"]),l(N,{dense:"",modelValue:e.state,"onUpdate:modelValue":s[8]||(s[8]=o=>e.state=o),label:"State/Region *",error:!!e.formErrors.state,"bottom-slots":""},null,8,["modelValue","error"]),l(N,{dense:"",modelValue:e.postal,"onUpdate:modelValue":s[9]||(s[9]=o=>e.postal=o),label:"Postal Code *",error:!!e.formErrors.postal,"bottom-slots":""},null,8,["modelValue","error"]),l(G,{dense:"",modelValue:e.addressCountry,"onUpdate:modelValue":s[10]||(s[10]=o=>e.addressCountry=o),label:"Country *",options:e.countries,error:!!e.formErrors.addressCountry,"bottom-slots":""},{error:a(()=>[t("div",Je,c(e.formErrors.addressCountry),1)]),_:1},8,["modelValue","options","error"])])]),l(fe,{class:"text-right"},{default:a(()=>[l(k,{onClick:s[11]||(s[11]=o=>e.$emit("back")),color:"secondary",label:"Back",class:"q-mr-sm"}),l(k,{type:"submit",color:"info",label:"Continue"})]),_:1})],32)}var Ke=se(De,[["render",Ze]]);const We=/^[0-9]{10}/g,Xe=le({props:{title:String,step:Number,name:Number},components:{editPersonalInfo:Ke},setup(){const{employee:e}=ee(ue()),s=[{label:"Call",value:0},{label:"Text",value:1},{label:"Email",value:2}],y=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],$=A(!1),f=A(!1),U=A(null),o=re(),h=z({first:q().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:q().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:q().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:q().nullable().notRequired(),email:q().required("Email is required!").email("You must provide a valid email!"),phone:q().matches(We,{message:"Valid Phone Number Required!"}).required("Phone number is required!"),street1:q().required(),street2:q().nullable().notRequired(),city:q().required(),state:q().required(),postal:q().required(),addressCountry:z().required(),contact:z().nullable().notRequired()}),{meta:r,errors:R,handleSubmit:M,isSubmitting:B}=be({validationSchema:h,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",phone:e.value[27]?e.value[27]:"",email:e.value[26]?e.value[26]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:D,meta:I}=v("first"),{value:C,meta:P}=v("middle"),{value:F,meta:L}=v("last"),{value:O}=v("suffix"),{value:ae}=v("email"),{value:H}=v("phone"),{value:J}=v("contact"),{value:j}=v("street1"),{value:Q}=v("street2"),{value:Z}=v("city"),{value:i}=v("state"),{value:b}=v("postal"),{value:d}=v("addressCountry"),T=Y(()=>{const m=`${D.value} ${F.value} ${O.value}`;return he.formatName(m)}),K=Y(()=>`${j.value}${Q.value===""?"":` ${Q.value}`}, ${Z.value}, ${i.value}, ${b.value}, ${d.value.value}`),W=Y(()=>{let m="";return H.value.length===11?m=H.value.substring(1):m=H.value,he.formatPhone(m)});async function ie(){const m={23:e.value[20],24:e.value[21],25:e.value[22],26:e.value[23],27:e.value[27],28:e.value[26],46:e.value[57],32:e.value[41],33:e.value[42],34:e.value[43],35:e.value[44],36:e.value[45],37:e.value[46]},u={next:2,values:m};o.updateProfile(u)}function X(){$.value=!0}const g=M(m=>{const u={23:m.first,24:m.middle,25:m.last,26:m.suffix,27:m.phone,28:m.email,46:m.contact,32:m.street1,33:m.street2,34:m.city,35:m.state,36:m.postal,37:m.addressCountry.name},_={next:2,values:u};$.value=!1,o.updateProfile(_)});function me(){$.value=!1;const m={next:0};o.updateProfile(m)}const pe=m=>{U.value=m};return qe(()=>{console.log(e.value)}),{submitUpdate:g,isSubmitting:B,save:ie,back:me,updateCountry:pe,first:D,middle:C,last:F,suffix:O,email:ae,phone:H,contact:J,street1:j,street2:Q,city:Z,state:i,postal:b,addressCountry:d,hasPersonalInfo:f,showEdit:$,firstMeta:I,middleMeta:P,lastMeta:L,formMeta:r,formErrors:R,options:s,countries:y,fullName:T,fullAddress:K,formatPhone:W,employee:e,showEditFunction:X}}}),Ge={key:1},xe={class:"col-12 col-md-3 q-py-sm"},et=t("div",{class:"text-primary"},"Name",-1),tt={class:"text-dark q-pl-sm"},ot={class:"col-12 col-md-6 q-py-sm"},lt=t("div",{class:"text-primary"},"Address",-1),st={class:"text-dark q-pl-sm"},at={class:"col-12 col-md-3 q-py-sm"},nt=t("div",{class:"text-primary"},"Preferred Contact Method",-1),rt={class:"text-dark q-pl-sm"};function it(e,s,y,$,f,U){const o=ne("edit-personal-info");return n(),V(ye,{name:e.name,title:e.title,done:e.step>1},{default:a(()=>[e.showEdit?(n(),V(o,{key:0,onBack:e.back},null,8,["onBack"])):p("",!0),e.showEdit?p("",!0):(n(),S("div",Ge,[l(ce,null,{default:a(()=>[l(x,null,{default:a(()=>[t("div",{class:E(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[te(c(e.$q.screen.gt.sm?"Personal Info":"Personal")+" ",1),l(k,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit",onClick:e.showEditFunction},null,8,["size","onClick"])],2),t("div",{class:E(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[t("div",xe,[et,t("div",tt,c(e.employee[24]),1)]),t("div",ot,[lt,t("div",st,c(e.employee[40]),1)]),t("div",at,[nt,t("div",rt,c(e.employee[58]),1)])],2)]),_:1})]),_:1}),l(fe,{class:"text-right"},{default:a(()=>[l(k,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),l(k,{onClick:e.save,color:"info",label:"Continue"},null,8,["onClick"])]),_:1})]))]),_:1},8,["name","title","done"])}var dt=se(Xe,[["render",it]]);const ut=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,ct=le({props:{title:String,step:Number,name:Number},setup(){const e=ke(),s=re(),y=de(),{formOptions:$}=ee(y),{savedEmergencyContacts:f}=ee(ue()),{removeContact:U,addContact:o,updateContact:h,employeeData:r}=ue(),R=A({name:"first",value:null}),M=A({name:"last",value:null}),B=A({name:"phone",value:null}),D=A({name:"relationship",value:null}),I=A([]),C=Y(()=>{const i=f.value.concat(I.value);return i.sort(function(b,d){return b.editing&&!d.editing?-1:!b.editing&&d.editing?1:0}),i}),P=Y(()=>C.value.filter(b=>b.editing).length>0);function F(){const i={next:3};s.updateProfile(i)}function L(){const i={next:1};s.updateProfile(i)}function O(){const i={3:C.value.length+1,6:"",7:"",8:"",11:"",12:"",16:"",editing:!0,new:!0,contact:null};I.value.push(i),console.log(C.value)}function ae(i){f.value[i].editing=!0}function H(i){const b=C.value[i];console.log(b),e.dialog({title:"Alert",message:`Are you sure you want to remove ${b[6]} ${b[7]}?`,cancel:!0,persistent:!0}).onOk(()=>{U(b[3])})}const J=z({relationship:z().required("Relationship is required.").nullable(),phone:q().matches(ut,{message:"A valid phone number is required."}).length(10,{message:"Phone number must be 10 digits."}).required("Phone is required."),last:q().required("Last name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."}),first:q().required("First name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."})}).required();function j(i){const b=[R.value,M.value,B.value,D.value];i?b.forEach(d=>{d.name===i.name?d.value=i.message:d.value=null}):b.forEach(d=>{d.value=null})}async function Q(i,b){console.log(i);const d=C.value[b];try{await J.validate({relationship:i.contact,phone:i[16],last:i[7],first:i[6]}),d[11]=i.contact.value,d[12]=i.contact.label,d.editing=!1,j(),d.new?(d.new=!1,o(d),I.value.forEach((T,K)=>{T[3]===d[3]&&I.value.splice(K,1)})):h(d)}catch({name:T,path:K,errors:W,inner:ie}){let X="";W[0]instanceof Object?X=W[0].message:X=W[0],j({name:K,message:X})}}function Z(i){const b=C.value[i];console.log(b),b.new?I.value.forEach((d,T)=>{d[3]===b[3]&&I.value.splice(T,1)}):C.value[i].editing=!1}return{save:F,back:L,savedEmergencyContacts:f,allContacts:C,editing:P,formOptions:$,editItem:ae,removeItem:H,saveItem:Q,cancelEdit:Z,addNewContactRow:O,addContact:o,updateContact:h,firstError:R,lastError:M,phoneError:B,relationshipError:D,helpers:he,employeeData:r}}}),mt={class:"col-12 col-md-4"},pt=t("div",{class:"text-primary"},"Phone",-1),vt={class:"text-dark q-pl-sm"},ft={class:"col-12 col-md-4"},ht=t("div",{class:"text-primary"},"Email",-1),bt={class:"text-dark q-pl-sm"},yt={key:0,class:"text-body2 text-dark"},$t={class:"row q-py-sm"},gt={class:"col-12 col-md-6 text-left"},qt={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},kt=["id"],Ct={class:"col-12 col-md-4"},Vt=t("div",{class:"text-primary"},"Name",-1),Et={class:"text-dark q-pl-sm"},St=t("div",{class:"text-primary"},"Phone",-1),wt={class:"text-dark q-pl-sm"},_t=t("div",{class:"text-primary"},"Relationship",-1),Ut={class:"text-dark q-pl-sm"},Pt={key:1,class:"items-center"},Nt=["onSubmit"],At={class:"row"},Ot={class:"col-12 col-md-3 q-pr-md"},It={class:"col-12 col-md-3 q-pr-md"},zt={class:"col-12 col-md-3 q-pr-md"},Rt={class:"col-12 col-md-3"},Mt={class:"row q-mt-md"},Dt={class:"col text-right"};function Qt(e,s,y,$,f,U){return n(),V(ye,{name:e.name,title:e.title},{default:a(()=>[t("div",null,[l(ce,{class:"q-px-xs"},{default:a(()=>[l(x,null,{default:a(()=>[t("div",{class:E(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[te(c(e.$q.screen.gt.sm?"Personal Contact Info":"Personal")+" ",1),l(k,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit"},null,8,["size"])],2),t("div",{class:E(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[t("div",mt,[pt,t("div",vt,c(e.employeeData[25]),1)]),t("div",ft,[ht,t("div",bt,c(e.employeeData[26]),1)])],2)]),_:1}),e.$q.screen.gt.sm?p("",!0):(n(),V(oe,{key:0})),e.editing?p("",!0):(n(),V(x,{key:1,class:E(e.$q.screen.lt.md?"q-px-xs":"")},{default:a(()=>[e.$q.screen.gt.sm?p("",!0):(n(),S("div",yt,"Emergency Contacts")),t("div",$t,[t("div",gt,[l(k,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:(e.allContacts.length>0,"Add Emergency Contact"),onClick:e.addNewContactRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(n(),V(oe,{key:2})):p("",!0),l(x,{class:E([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:a(()=>[e.allContacts.length===0?(n(),S("div",qt,"Add your Emergency Contact(s). This is required to continue.")):p("",!0),(n(!0),S(Ve,null,Ce(e.allContacts,(o,h)=>(n(),S("div",{id:o[3],key:o[3]},[l(ce,{class:"q-pa-sm",flat:""},{default:a(()=>[o.editing?p("",!0):(n(),S("div",{key:0,class:E(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[t("div",Ct,[t("div",null,[Vt,t("div",Et,c(e.helpers.formatName(o[6]))+" "+c(e.helpers.formatName(o[7])),1)])]),t("div",{class:E(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[t("div",null,[St,t("div",wt,c(e.helpers.formatPhone(o[8])),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[t("div",null,[_t,t("div",Ut,c(o[12]),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2 text-right":"col-12 q-pt-md text-right")},[t("div",null,[l(k,{size:"sm",round:"",onClick:r=>e.editItem(h),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),l(k,{size:"sm",round:"",onClick:r=>e.removeItem(h),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),o.editing?(n(),S("div",Pt,[t("form",{onSubmit:ve(r=>e.saveItem(o,h),["prevent"])},[t("div",At,[t("div",Ot,[l(N,{modelValue:o[6],"onUpdate:modelValue":r=>o[6]=r,dense:"",label:"First Name",error:!!e.firstError.value,"bottom-slots":""},{error:a(()=>[te(c(e.firstError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",It,[l(N,{modelValue:o[7],"onUpdate:modelValue":r=>o[7]=r,dense:"",label:"Last Name",error:!!e.lastError.value,"bottom-slots":""},{error:a(()=>[te(c(e.lastError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",zt,[l(N,{modelValue:o[16],"onUpdate:modelValue":r=>o[16]=r,dense:"",label:"Phone",error:!!e.phoneError.value,"bottom-slots":""},{error:a(()=>[te(c(e.phoneError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Rt,[l(G,{behavior:"menu",position:"top middle",modelValue:o.contact,"onUpdate:modelValue":r=>o.contact=r,dense:"",label:"Relationship",options:e.formOptions.relationships,error:!!e.relationshipError.value,"bottom-slots":""},{error:a(()=>[te(c(e.relationshipError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])])]),t("div",Mt,[t("div",Dt,[l(k,{onClick:r=>e.cancelEdit(h),color:"secondary",label:"Cancel",class:"q-mr-sm"},null,8,["onClick"]),l(k,{type:"submit",color:"info",label:"Save"})])])],40,Nt)])):p("",!0)]),_:2},1024),h<e.allContacts.length-1?(n(),V(oe,{key:0})):p("",!0)],8,kt))),128))]),_:1},8,["class"])]),_:1}),e.editing?p("",!0):(n(),V(fe,{key:0,class:"text-right"},{default:a(()=>[l(k,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),l(k,{onClick:e.save,color:"info",label:"Continue",disabled:e.savedEmergencyContacts.length===0},null,8,["onClick","disabled"])]),_:1}))])]),_:1},8,["name","title"])}var Ft=se(ct,[["render",Qt]]);const Lt=le({props:{title:String,step:Number,name:Number},setup(){const e=we(),s=A(3),y=A(!1),$=ke(),f=re(),{formOptions:U,disabilityForm:o,hasAffirmative:h,hasVets:r,goToVoluntary:R}=ee(de()),{savedHistory:M}=ee(ue()),{addHistory:B,updateHistory:D,removeHistory:I,employeeData:C}=ue(),P=A([]),{getVoluntaryFormOptions:F}=de(),{toggleLoader:L,profile:O}=f,ae=z({craft:z().required("Select a Craft!").nullable(),experience:z().required("Select Experience").nullable(),employment:z().required("Select Employment Status").nullable()}),{meta:H,errors:J,handleSubmit:j}=be({validationSchema:ae,initialValues:{craft:O[40]?{value:O[40].value,label:O[40].label}:null,experience:C[53]?{value:C[53],label:C[54]}:null,employment:C[55]?{value:C[55],label:C[56]}:null}}),{value:Q}=v("craft"),{value:Z}=v("experience"),{value:i}=v("employment");_e(O,()=>{O[40].value!==Q.value.value&&(Q.value={value:O[40].value,label:O[40].label})});const b=j(async u=>{console.log(R.value);const _={40:{value:u.craft.value,label:u.craft.label},42:{value:u.experience.value,label:u.experience.label},44:{value:u.employment.value,label:u.employment.label},39:{value:new Date}};if(R.value){const w={next:o.value?6:h.value?7:r.value?8:0,values:_,completed:!0};L(!0),await F(),e.push({name:"voluntary"}),L(!1),await f.updateProfile(w),f.submitProfileToQB()}else{const w={next:0,values:_,completed:!0};L(!0),await f.updateProfile(w),f.submitProfileToQB(),e.replace({path:"/"}),L(!1)}}),d=Y(()=>{const u=M.value.concat(P.value);return u.sort(function(_,w){return _.editing&&!w.editing?-1:!_.editing&&w.editing?1:0}),u}),T=Y(()=>d.value.filter(_=>_.editing).length>0);function K(){const u={3:d.value.length+1,6:"",7:"",10:"",11:"",12:"",13:"",15:"",16:"",editing:!0,new:!0,company:null,craft:null};P.value.push(u)}function W(){const u={next:4};f.updateProfile(u)}function ie(){const u={next:2};f.updateProfile(u)}function X(u){M.value[u].editing=!0}function g(u){const _=d.value[u];console.log(_),$.dialog({title:"Alert",message:"Are you sure you want to remove?",cancel:!0,persistent:!0}).onOk(()=>{I(_[3])})}function me(u,_){const w=d.value[_];w[6]=u.company.value,w[7]=u.company.label,w[15]=u.craft.value,w[16]=u.craft.label,w.editing=!1,w.new?(w.new=!1,P.value.forEach(($e,Ee)=>{$e[3]===w[3]&&P.value.splice(Ee,1)}),B(w)):D(w)}function pe(u){const _=d.value[u];console.log(_),_.new?P.value.forEach((w,$e)=>{w[3]===_[3]&&P.value.splice($e,1)}):d.value[u].editing=!1}function m(){y.value?(s.value=3,y.value=!1):(y.value=!0,s.value=d.value.length)}return{save:W,back:ie,allHistory:d,addNewRow:K,editItem:X,removeItem:g,saveItem:me,cancelEdit:pe,formOptions:U,editing:T,date:Ue,show:s,expanded:y,adjustRows:m,formMeta:H,formErrors:J,submitUpdate:b,craft:Q,experience:Z,employment:i}}}),Ht={class:"row"},Bt={class:"col-12 col-md-4 q-px-xs"},jt={class:"text-caption"},Tt={class:"col-12 col-md-4 q-px-xs"},Yt={class:"text-caption"},Jt={class:"col-12 col-md-4 q-px-xs"},Zt={class:"text-caption"},Kt={key:0,class:"text-body2 text-dark"},Wt={class:"row q-py-sm"},Xt={class:"col-12 col-md-6"},Gt={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},xt=["id"],eo={class:"col-12 col-md-3"},to=t("div",{class:"text-primary"},"Company",-1),oo={class:"text-dark q-pl-sm"},lo=t("div",{class:"text-primary"},"Location",-1),so={class:"text-dark q-pl-sm"},ao=t("div",{class:"text-primary"},"Job Title",-1),no={class:"text-dark q-pl-sm"},ro=t("div",{class:"text-primary"},"Start Date",-1),io={class:"text-dark q-pl-sm"},uo=t("div",{class:"text-primary"},"End Date",-1),co={class:"text-dark q-pl-sm"},mo={key:1,class:"items-center"},po=["onSubmit"],vo={class:"row"},fo={class:"col-12 col-md-2 q-pr-md"},ho={class:"col-12 col-md-2 q-pr-md"},bo={class:"col-12 col-md-2 q-pr-md"},yo={class:"col-12 col-md-2 q-pr-md"},$o={class:"col-12 col-md-2 q-pr-md"},go={class:"col-12 col-md-2 q-pr-md"},qo={class:"row q-mt-md"},ko={class:"col text-right"},Co={class:"row q-pt-md"},Vo={key:0,class:"col-12 text-right"},Eo=te("Show Less"),So=te("Show More");function wo(e,s,y,$,f,U){return n(),V(ye,{name:e.name,title:e.title,done:e.step>3},{default:a(()=>[t("div",null,[t("form",{onSubmit:s[3]||(s[3]=ve((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[l(ce,{class:"q-px-xs"},{default:a(()=>[l(x,{class:"q-pb-none"},{default:a(()=>[t("div",Ht,[t("div",Bt,[l(G,{behavior:"menu",position:"top middle",dense:"",modelValue:e.craft,"onUpdate:modelValue":s[0]||(s[0]=o=>e.craft=o),label:"Primary Craft",options:e.formOptions.crafts,error:!!e.formErrors.craft,"bottom-slots":""},{error:a(()=>[t("div",jt,c(e.formErrors.craft),1)]),_:1},8,["modelValue","options","error"])]),t("div",Tt,[l(G,{behavior:"menu",position:"top middle",dense:"",modelValue:e.experience,"onUpdate:modelValue":s[1]||(s[1]=o=>e.experience=o),label:"Years of Experience",options:e.formOptions.experience,error:!!e.formErrors.experience,"bottom-slots":""},{error:a(()=>[t("div",Yt,c(e.formErrors.experience),1)]),_:1},8,["modelValue","options","error"])]),t("div",Jt,[l(G,{behavior:"menu",position:"top middle",dense:"",modelValue:e.employment,"onUpdate:modelValue":s[2]||(s[2]=o=>e.employment=o),label:"Current Employment Status",options:e.formOptions.employment,error:!!e.formErrors.employment,"bottom-slots":""},{error:a(()=>[t("div",Zt,c(e.formErrors.employment),1)]),_:1},8,["modelValue","options","error"])])])]),_:1}),e.$q.screen.gt.sm?p("",!0):(n(),V(oe,{key:0})),e.editing?p("",!0):(n(),V(x,{key:1,class:E(e.$q.screen.lt.md?"q-px-xs":"")},{default:a(()=>[e.$q.screen.gt.sm?p("",!0):(n(),S("div",Kt,"Work History")),t("div",Wt,[t("div",Xt,[l(k,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:e.allHistory.length>0?"Add More History":"Add Employment History",onClick:e.addNewRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(n(),V(oe,{key:2})):p("",!0),l(x,{class:E([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:a(()=>[e.allHistory.length===0?(n(),S("div",Gt,"Add your employment history. You may enter this information later.")):p("",!0),(n(!0),S(Ve,null,Ce(e.allHistory,(o,h)=>(n(),S("div",{id:o[3],key:h},[e.expanded||h+1<=e.show?(n(),V(ce,{key:0,class:"q-px-sm q-pt-xs q-pb-sm",flat:""},{default:a(()=>[o.editing?p("",!0):(n(),S("div",{key:0,class:E(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[t("div",eo,[t("div",null,[to,t("div",oo,c(o[7]),1)])]),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"hidden")},[t("div",null,[lo,t("div",so,c(o[10]!==""?o[10]:"N/A"),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"col-12 q-pt-md")},[t("div",null,[ao,t("div",no,c(o[16])+" "+c(o[11]),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",null,[ro,t("div",io,c(e.date.formatDate(o[12],"MM-DD-YYYY")),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",null,[uo,t("div",co,c(e.date.formatDate(o[13],"MM-DD-YYYY")),1)])],2),t("div",{class:E(e.$q.screen.gt.sm?"col-1 text-right":"col-12 q-pt-md text-right")},[t("div",null,[l(k,{size:"sm",round:"",onClick:r=>e.editItem(h),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),l(k,{size:"sm",round:"",onClick:r=>e.removeItem(h),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),o.editing?(n(),S("div",mo,[t("form",{onSubmit:ve(r=>e.saveItem(o,h),["prevent"])},[t("div",vo,[t("div",fo,[l(G,{modelValue:o.company,"onUpdate:modelValue":r=>o.company=r,dense:"",label:"Company",options:e.formOptions.companies},null,8,["modelValue","onUpdate:modelValue","options"])]),t("div",ho,[l(G,{modelValue:o.craft,"onUpdate:modelValue":r=>o.craft=r,dense:"",label:"Craft",options:e.formOptions.crafts},null,8,["modelValue","onUpdate:modelValue","options"])]),t("div",bo,[l(N,{modelValue:o[11],"onUpdate:modelValue":r=>o[11]=r,dense:"",label:"Job Title"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",yo,[l(N,{modelValue:o[10],"onUpdate:modelValue":r=>o[10]=r,dense:"",label:"Location"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",$o,[l(N,{type:"date",modelValue:o[12],"onUpdate:modelValue":r=>o[12]=r,dense:"",filled:"",hint:"Start Date"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",go,[l(N,{type:"date",modelValue:o[13],"onUpdate:modelValue":r=>o[13]=r,dense:"",filled:"",hint:"End Date"},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",qo,[t("div",ko,[l(k,{onClick:r=>e.cancelEdit(h),color:"secondary",label:"Cancel",class:"q-mr-sm"},null,8,["onClick"]),l(k,{type:"submit",color:"info",label:"Save"})])])],40,po)])):p("",!0)]),_:2},1024)):p("",!0),h<e.allHistory.length-1?(n(),V(oe,{key:1})):p("",!0)],8,xt))),128)),e.allHistory.length>e.show||e.expanded?(n(),V(oe,{key:1})):p("",!0),t("div",Co,[e.allHistory.length>e.show||e.expanded?(n(),S("div",Vo,[l(k,{round:"",color:"secondary",onClick:e.adjustRows,icon:e.expanded?"expand_less":"expand_more"},{default:a(()=>[e.expanded?(n(),V(ge,{key:0,anchor:"top middle"},{default:a(()=>[Eo]),_:1})):p("",!0),e.expanded?p("",!0):(n(),V(ge,{key:1,anchor:"top middle"},{default:a(()=>[So]),_:1}))]),_:1},8,["onClick","icon"])])):p("",!0)])]),_:1},8,["class"])]),_:1}),e.editing?p("",!0):(n(),V(fe,{key:0,class:"text-right"},{default:a(()=>[l(k,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),l(k,{type:"submit",color:"info",label:"Continue"})]),_:1}))],32)])]),_:1},8,["name","title","done"])}var _o=se(Lt,[["render",wo]]);const Uo=le({components:{selectJob:Me,personalInfo:dt,emergencyContact:Ft,workHistory:_o},setup(){const{step:e}=ee(re()),s=A(null);return{step:e,jobSelection:s,jobOptions:[{label:"Default Job",value:0}]}}});function Po(e,s,y,$,f,U){const o=ne("select-job"),h=ne("personal-info"),r=ne("emergency-contact"),R=ne("work-history");return n(),S("div",null,[l(Ae,{modelValue:e.step,"onUpdate:modelValue":s[0]||(s[0]=M=>e.step=M),vertical:"",animated:"","done-color":"info","active-color":"dark","inactive-color":"secondary",class:E(e.$q.screen.lt.md?"q-px-none q-mx-none":"")},{default:a(()=>[l(o,{title:"Select a Job",step:e.step,name:0,done:e.step>0},null,8,["step","done"]),l(h,{title:"Personal Information",step:e.step,name:1,done:e.step>1},null,8,["step","done"]),l(r,{title:"Contact Information",step:e.step,name:2,done:e.step>2},null,8,["step","done"]),l(R,{title:"Employment Information",step:e.step,name:3,done:e.step>3},null,8,["step","done"])]),_:1},8,["modelValue","class"])])}var No=se(Uo,[["render",Po]]);const Ao=le({components:{profileStepper:No},setup(){}});function Oo(e,s,y,$,f,U){const o=ne("profile-stepper");return n(),S("div",null,[l(o)])}var Io=se(Ao,[["render",Oo]]);const zo=le({components:{Profile:Io},setup(){const e=A(0),{getKioskSetup:s,getFormOptions:y}=de(),{loadingState:$}=ee(re());return s(),y(),{step:e,loadingState:$}}}),Ro={key:0,class:"absolute-center"},Mo={key:1,class:"row"},Do={class:"col-12 q-pt-sm"},Qo=t("div",{class:"q-pl-sm"},[t("div",{class:"text-h6 text-dark"}," Complete Application "),t("div",{class:"text-body1 text-secondary text-italic"}," Please complete the application. ")],-1);function Fo(e,s,y,$,f,U){const o=ne("profile");return n(),V(Ne,{style:{"max-width":"100vw"}},{default:a(()=>[e.loadingState?(n(),S("div",Ro,[l(Pe,{color:"primary",size:"5em"})])):p("",!0),e.loadingState?p("",!0):(n(),S("div",Mo,[t("div",Do,[l(ce,{flat:""},{default:a(()=>[l(x,{class:E(e.$q.screen.lt.md?"q-px-xs":"")},{default:a(()=>[Qo]),_:1},8,["class"]),l(x,null,{default:a(()=>[l(o)]),_:1})]),_:1})])]))]),_:1})}var jo=se(zo,[["render",Fo]]);export{jo as default};
