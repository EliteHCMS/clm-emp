import{l as T,Y as z,I as x,r as p,w as M,_ as L,p as a,t as f,v as t,R as v,N as o,d as s,Q as n,M as w,Z as Q,S as k,O as i,F as R,a5 as U,b4 as O,P as Y,b5 as K,o as Z,c as H,y as B,U as J,$ as W,b2 as X,aG as D,K as ee,a4 as N,af as se}from"./index.e2b8f266.js";import{u as q}from"./assessment.46f4df7c.js";const te=T({components:{},setup(){const e=z(),{toolsForCraft:r,toolListInstructions:c}=x(),{updateAssessment:d,startToolChecklist:_,finishToolChecklist:$}=q(),l=p([]),h=p(0);async function A(){await _(),h.value=1}async function S(){await d({next:1,type:"tools",values:l.value}),await $()&&e.replace({path:"/thanks"})}function V(y,g){console.log(y)}return M(l,(y,g)=>{console.log(y)}),{toolsForCraft:r,save:S,pushItem:V,selected:l,step:h,updateAssessment:d,toolListInstructions:c,start:A}}}),oe={class:"row justify-center"},ae={class:"col-12 col-md-10 q-pt-sm"},le=t("div",{class:"text-h6 text-primary"},"Scaffold Tool Assessment",-1),ne={class:"text-body1 text-dark"},re=t("div",{class:"text-h6 text-dark"}," Tool Assessment ",-1),ie=t("div",{class:"text-body1 text-secondary text-italic"}," Please select the tools you own from the following list. ",-1),ue={class:"row justify-center"},ce={class:"row items-center"},de={class:"col-11"},me={class:"text-body1 text-primary"},pe={class:"col-1"},fe={class:"row q-pt-md"},ve={class:"col-12 text-right"};function _e(e,r,c,d,_,$){return a(),f("div",null,[t("div",oe,[t("div",ae,[e.step===0?(a(),v(k,{key:0,class:"q-mt-xl"},{default:o(()=>[s(n,null,{default:o(()=>[le]),_:1}),s(n,null,{default:o(()=>[t("div",ne,w(e.toolListInstructions),1)]),_:1}),s(n,{class:"text-right"},{default:o(()=>[s(Q,{color:"primary",label:"Continue",onClick:e.start},null,8,["onClick"])]),_:1})]),_:1})):i("",!0),e.step===1?(a(),v(k,{key:1,flat:""},{default:o(()=>[s(n,null,{default:o(()=>[re,ie]),_:1}),s(n,null,{default:o(()=>[t("div",ue,[(a(!0),f(R,null,U(e.toolsForCraft,l=>(a(),f("div",{class:"col-12 col-md-6",key:l[3]},[s(k,{class:"tool-card q-ma-sm"},{default:o(()=>[s(n,null,{default:o(()=>[s(O,{style:{"max-height":"150px"},fit:"scale-down",src:l[11]},null,8,["src"])]),_:2},1024),s(Y),s(n,null,{default:o(()=>[t("div",ce,[t("div",de,[t("div",me,w(l[8]),1)]),t("div",pe,[s(K,{modelValue:e.selected,"onUpdate:modelValue":r[0]||(r[0]=h=>e.selected=h),color:"primary",val:l.value},null,8,["modelValue","val"])])])]),_:2},1024)]),_:2},1024)]))),128))]),t("div",fe,[t("div",ve,[s(Q,{color:"primary",onClick:e.save,label:"Continue"},null,8,["onClick"])])])]),_:1})]),_:1})):i("",!0)])])])}var he=L(te,[["render",_e]]);const ye=T({components:{},setup(){const e=z(),r=p(0),{testForCraft:c,startLevelForTest:d}=x(),{getAllQuestions:_,questionsLoaded:$,loadQuestionGroup:l,completeQuestion:h,startAssessment:A,finishAssessment:S,updateAssessment:V}=q(),y=p(!0),g=p(null),C=p(null),m=p([]),j=p(!1),b=p(!1);Z(async()=>{$||await _(),y.value=!1,m.value=await l(d,1)});const F=H(()=>{const u=m.value?m.value.length:0,I=Math.floor(Math.random()*(u-0));return m.value&&m.value.length>0?m.value[I]:null});M(g,(u,I)=>{u&&(C.value=null)});async function E(){if(!g.value)C.value="Select an answer";else{b.value=!0,C.value=null,F.value.response=g.value;const{data:u}=await h(F.value);if(g.value=null,u.nextQuestions.length>0)m.value=u.nextQuestions,b.value=!1;else try{m.value=await l(u.scope,u.iteration),b.value=!1}catch{m.value=[];const{success:P}=await S();P&&c[18]==="Yes"?V({next:1}):e.replace({path:"/thanks"})}}}async function G(){j.value=!0;try{await A(),r.value=1}catch(u){console.log(u)}}return{step:r,testForCraft:c,loading:y,currentQuestion:F,response:g,responseError:C,submit:E,launchAssessment:G,starting:j,submitting:b}}}),ge={key:0,class:"row justify-center"},ke={class:"col-12 col-md-10 q-pt-sm"},$e={class:"text-h6 text-primary"},we={class:"text-body1 text-dark"},Ce={class:"text-h5 text-primary"},be={class:"q-pa-sm"},Qe={class:"text-body1 q-pb-md"},qe=t("hr",null,null,-1),Ae={key:0,class:"col-5 text-center"},Se=["src","alt"],Ve={key:1,class:"absolute-center"};function Fe(e,r,c,d,_,$){return a(),f("div",null,[e.loading?i("",!0):(a(),f("div",ge,[t("div",ke,[e.step===0?(a(),v(k,{key:0,class:"q-mt-xl"},{default:o(()=>[s(n,null,{default:o(()=>[t("div",$e,w(e.testForCraft[29]),1)]),_:1}),s(n,null,{default:o(()=>[t("div",we,w(e.testForCraft[28]),1)]),_:1}),s(n,{class:"text-right"},{default:o(()=>[s(Q,{color:"primary",label:"Continue",onClick:e.launchAssessment,loading:e.starting,disabled:e.starting},null,8,["onClick","loading","disabled"])]),_:1})]),_:1})):i("",!0),e.step===1?(a(),v(k,{key:1,flat:""},{default:o(()=>[s(n,null,{default:o(()=>[t("div",Ce,w(e.testForCraft[29]),1)]),_:1}),e.currentQuestion?(a(),v(n,{key:0},{default:o(()=>[s(k,{flat:""},{default:o(()=>[s(n,null,{default:o(()=>[t("div",{class:B(e.currentQuestion.hasImage?"row justify-between items-start":"row justify-center items-start")},[t("div",{class:B(e.currentQuestion.hasImage?"col-6":"col-10")},[s(k,null,{default:o(()=>[s(n,null,{default:o(()=>[t("div",be,[t("div",Qe,[J(w(e.currentQuestion[9])+" ",1),e.responseError?(a(),v(W,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):i("",!0)]),s(X,{options:e.currentQuestion[19],type:"radio",modelValue:e.response,"onUpdate:modelValue":r[0]||(r[0]=l=>e.response=l)},null,8,["options","modelValue"])])]),_:1}),qe,s(n,{class:"text-right"},{default:o(()=>[s(Q,{color:"primary",label:"Submit",onClick:e.submit,loading:e.submitting,disabled:e.submitting},null,8,["onClick","loading","disabled"])]),_:1})]),_:1})],2),e.currentQuestion.hasImage?(a(),f("div",Ae,[t("img",{class:"question-img",src:e.currentQuestion.imageData.src,alt:e.currentQuestion.imageData.alt},null,8,Se)])):i("",!0)],2)]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1})):i("",!0)])])),e.loading?(a(),f("div",Ve,[s(D,{color:"primary",size:"5em"})])):i("",!0)])}var Ie=L(ye,[["render",Fe]]);const Te=T({components:{tools:he,test:Ie},setup(){const e=q(),{dataLoaded:r}=q(),{step:c,loading:d}=ee(e),{getCraftTools:_}=x();return _(),r(),{step:c,loading:d}}}),xe={key:0,class:"row"},Le={class:"col"},je={key:1,class:"absolute-center"};function Be(e,r,c,d,_,$){const l=N("tools"),h=N("test");return a(),v(se,{class:"window-height window-width"},{default:o(()=>[e.loading?i("",!0):(a(),f("div",xe,[t("div",Le,[e.step===1?(a(),v(l,{key:0})):i("",!0),e.step===0?(a(),v(h,{key:1})):i("",!0)])])),e.loading?(a(),f("div",je,[s(D,{color:"primary",size:"5em"})])):i("",!0)]),_:1})}var Me=L(Te,[["render",Be]]);export{Me as default};
