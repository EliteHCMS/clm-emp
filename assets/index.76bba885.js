import{D as E,c as _,h as H,aI as T,l as I,Y as K,r as C,a0 as D,K as U,_ as J,p as s,P as d,M as t,d as l,v as n,X as S,y as $,S as f,L as c,N as u,Q as M,O as L,t as k,R,I as N,aw as W,Z as X,ay as Y,W as Z,aO as q,aP as j,aQ as w,aR as v,F,$ as Q,aS as O,aA as G,a1 as x}from"./index.256d63a2.js";const ee=["top","middle","bottom"];var V=E({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ee.includes(e)}},setup(e,{slots:r}){const p=_(()=>e.align!==void 0?{verticalAlign:e.align}:null),y=_(()=>{const h=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(h!==void 0?` text-${h}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>H("div",{class:y.value,style:p.value,role:"alert","aria-label":e.label},T(r.default,e.label!==void 0?[e.label]:[]))}});const te=I({props:{job:Object},setup(e){const r=K(),p=C(!1),y=_(()=>{const m=new Date,b=e.job[1].$d,a=D.getDateDiff(m,b,"days")<1?null:D.getDateDiff(m,b,"days"),g=D.getDateDiff(m,b,"hours");return`${a||g} ${a?a>1?"days":"day":g>1?"hours":"hour"} ago`}),h=_(()=>{const m=e.job;return m[201]?!(r.screen.lt.md&&m.recommended):!1});return{helpers:U,duration:y,showDisa:h,showMore:p}}}),le={class:"row items-center"},ae=["hidden"],oe={class:"col-12 col-md-7"},se=f("Recommended"),ne=f("DISA"),re={class:"text-primary text-caption"},ie={key:0,class:"text-dark text-body2 q-mb-md"},de={key:1,class:"text-dark text-body2"};function ue(e,r,p,y,h,m){return s(),d(R,{class:"q-mb-md job-card",onClick:r[0]||(r[0]=b=>e.showMore=!e.showMore)},{default:t(()=>[l(M,{class:$(["q-py-lg",e.$q.screen.gt.sm?"q-pl-none":""])},{default:t(()=>[n("div",le,[n("div",{hidden:e.$q.screen.lt.md,class:"col-1 text-center"},[l(S,{size:"md",name:e.job.icon!==""?e.job.icon:"fa-solid fa-helmet-safety",color:"primary"},null,8,["name"])],8,ae),n("div",oe,[n("div",null,[n("div",{class:$(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[f(c(e.job[43])+" "+c(e.job[12])+" ",1),e.job.recommended?(s(),d(V,{key:0,class:$(["q-ml-md",e.$q.screen.gt.sm?"q-pa-sm":"q-pa-xs"]),color:"positive"},{default:t(()=>[se]),_:1},8,["class"])):u("",!0),e.showDisa?(s(),d(V,{key:1,class:$(["q-ml-md",e.$q.screen.gt.sm?"q-pa-sm":"q-pa-xs"]),color:"info"},{default:t(()=>[ne]),_:1},8,["class"])):u("",!0)],2),n("div",{class:$(["text-secondary q-mt-sm",e.$q.screen.gt.sm?"text-body2":"text-caption"])},c(e.helpers.formatName(e.job[226]))+", "+c(e.helpers.formatName(e.job[227])),3)])]),n("div",{class:$(["col-12 col-md-4",e.$q.screen.gt.sm?"text-right":"q-pt-sm"])},[n("div",re,c(e.duration),1)],2)])]),_:1},8,["class"]),e.showMore?(s(),d(L,{key:0})):u("",!0),e.showMore?(s(),d(M,{key:1},{default:t(()=>[e.job.purpose!==""&&e.job.purpose!==void 0?(s(),k("div",ie,c(e.job.purpose),1)):u("",!0),e.job.summary!==""&&e.job.summary!==void 0?(s(),k("div",de,c(e.job.summary),1)):u("",!0)]),_:1})):u("",!0)]),_:1})}var ce=J(te,[["render",ue]]);const fe=I({components:{Job:ce},setup(){const{getRequestJobs:e}=N(),{jobsForBoard:r}=W(N()),p=C(!0),y=C(""),h=C(null),m=C(null),b=C(null);async function a(){await e(),p.value=!1}a();const g=_(()=>{let o=[];return r.value.forEach(i=>{`${i[12]} ${i[43]} ${i[226]} ${i[227]} ${i[54]}`.toLowerCase().includes(y.value.toLowerCase())&&o.push(i)}),o=h.value?o.filter(i=>i[69]===h.value.value):o,o=m.value?o.filter(i=>i[227]===m.value.value):o,o=b.value?o.filter(i=>i[56]===b.value.value):o,o.sort((i,B)=>i.recommended===B.recommended?i[1].$d>B[1].$d?-1:1:i.recommended?-1:1),o}),A=_(()=>[...new Map(g.value.map(o=>[o[69],{label:o[43],value:o[69]}])).values()]),z=_(()=>[...new Map(g.value.map(o=>[o[227],{label:o[227],value:o[227]}])).values()]),P=_(()=>[...new Map(g.value.map(o=>[o[56],{label:o[104],value:o[56]}])).values()]);return{filteredJobs:g,loading:p,search:y,craftFilter:h,stateFilter:m,hiringCenterFilter:b,craftOptions:A,stateOptions:z,hiringCenterOptions:P}}}),me={key:0,class:"q-px-md q-py-lg"},he=n("div",{class:"text-h4 text-primary"},"Job Board",-1),be={class:"row items-center justify-between"},ge={class:"col-12 col-md-6"},ve=f("Craft"),pe=f("State"),ye=f("Hiring Center"),ke={class:"q-pa-md"},_e={class:"q-mt-md"},$e={class:"row justify-between q-mb-md"},we={class:"col-5"},Ce={class:"text-body2 text-dark"},qe=f("Found "),je={class:"text-primary"},Fe=f(" jobs!"),Qe=n("div",{class:"col-6 text-right"},[n("div",{class:"text-body2 text-dark"},"Sort by:")],-1),Se={key:1,class:"absolute-center"};function Be(e,r,p,y,h,m){const b=X("job");return s(),d(x,{class:"window-height full-width"},{default:t(()=>[e.loading?u("",!0):(s(),k("div",me,[he,l(R,{class:"q-my-md"},{default:t(()=>[l(M,null,{default:t(()=>[n("div",be,[n("div",ge,[l(Y,{modelValue:e.search,"onUpdate:modelValue":r[0]||(r[0]=a=>e.search=a),label:"Search"},null,8,["modelValue"])]),n("div",{class:$(["col-12 col-md-5",e.$q.screen.gt.sm?"":"q-pt-md"])},[l(Z,{color:"dark",label:"Filter","icon-right":"filter_list"},{default:t(()=>[l(q,null,{default:t(()=>[l(j,{style:{"min-width":"200px"}},{default:t(()=>[e.craftOptions.length>1?(s(),d(w,{key:0,clickable:""},{default:t(()=>[l(v,null,{default:t(()=>[ve]),_:1}),l(v,{side:""},{default:t(()=>[l(S,{name:"keyboard_arrow_right"})]),_:1}),l(q,{anchor:"top right",self:"top right","auto-close":""},{default:t(()=>[l(j,{style:{"min-width":"100px"}},{default:t(()=>[(s(!0),k(F,null,Q(e.craftOptions,a=>(s(),d(w,{key:a,clickable:"",onClick:g=>e.craftFilter?e.craftFilter=null:e.craftFilter=a},{default:t(()=>[l(v,null,{default:t(()=>[f(c(a.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):u("",!0),e.stateOptions.length>1?(s(),d(w,{key:1,clickable:""},{default:t(()=>[l(v,null,{default:t(()=>[pe]),_:1}),l(v,{side:""},{default:t(()=>[l(S,{name:"keyboard_arrow_right"})]),_:1}),l(q,{anchor:"top right",self:"top right","auto-close":""},{default:t(()=>[l(j,{style:{"min-width":"100px"}},{default:t(()=>[(s(!0),k(F,null,Q(e.stateOptions,a=>(s(),d(w,{key:a,clickable:"",onClick:g=>e.stateFilter?e.stateFilter=null:e.stateFilter=a},{default:t(()=>[l(v,null,{default:t(()=>[f(c(a.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):u("",!0),e.hiringCenterOptions.length>1?(s(),d(w,{key:2,clickable:""},{default:t(()=>[l(v,null,{default:t(()=>[ye]),_:1}),l(v,{side:""},{default:t(()=>[l(S,{name:"keyboard_arrow_right"})]),_:1}),l(q,{anchor:"top right",self:"top right","auto-close":""},{default:t(()=>[l(j,{style:{"min-width":"100px"}},{default:t(()=>[(s(!0),k(F,null,Q(e.hiringCenterOptions,a=>(s(),d(w,{key:a,clickable:"",onClick:g=>e.hiringCenterFilter?e.hiringCenterFilter=null:e.hiringCenterFilter=a},{default:t(()=>[l(v,null,{default:t(()=>[f(c(a.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1})]),_:1})]),_:1}),n("div",ke,[e.craftFilter?(s(),d(O,{key:0,clickable:"",onClick:r[1]||(r[1]=a=>e.craftFilter=null),color:"info","text-color":"white","icon-right":"close"},{default:t(()=>[f(c(e.craftFilter.label),1)]),_:1})):u("",!0),e.stateFilter?(s(),d(O,{key:1,clickable:"",onClick:r[2]||(r[2]=a=>e.stateFilter=null),color:"info","text-color":"white","icon-right":"close"},{default:t(()=>[f(c(e.stateFilter.label),1)]),_:1})):u("",!0),e.hiringCenterFilter?(s(),d(O,{key:2,clickable:"",onClick:r[3]||(r[3]=a=>e.hiringCenterFilter=null),color:"info","text-color":"white","icon-right":"close"},{default:t(()=>[f(c(e.hiringCenterFilter.label),1)]),_:1})):u("",!0)])],2)])]),_:1})]),_:1}),l(L),n("div",_e,[n("div",$e,[n("div",we,[n("div",Ce,[qe,n("span",je,c(e.filteredJobs.length),1),Fe])]),Qe]),(s(!0),k(F,null,Q(e.filteredJobs,a=>(s(),d(b,{key:a[3],job:a},null,8,["job"]))),128))])])),e.loading?(s(),k("div",Se,[l(G,{color:"primary",size:"5em"})])):u("",!0)]),_:1})}var Oe=J(fe,[["render",Be]]);export{Oe as default};
