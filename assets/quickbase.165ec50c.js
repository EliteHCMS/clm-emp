var mi=Object.defineProperty,yi=Object.defineProperties;var gi=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var bi=Object.prototype.hasOwnProperty,vi=Object.prototype.propertyIsEnumerable;var ve=(e,t,i)=>t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Q=(e,t)=>{for(var i in t||(t={}))bi.call(t,i)&&ve(e,i,t[i]);if(rt)for(var i of rt(t))vi.call(t,i)&&ve(e,i,t[i]);return e},we=(e,t)=>yi(e,gi(t));var R=(e,t,i)=>(ve(e,typeof t!="symbol"?t+"":t,i),i);import{l as wi,P as bt,m as Oi,p as F,n as vt,q as W,s as Ai,t as K,f as Di}from"./index.f9748b21.js";import{c as Ii,a as Ci}from"./_commonjsHelpers.d497b07e.js";import{dayjs as b}from"./dayjs.36de73c7.js";import Si,{localforage as y}from"./localForage.7ffb4e17.js";import{r as Ti,a as ki}from"./index.7dbe61ef.js";import{i as Oe}from"./i18n.ebfed6a6.js";const fe=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function $i(e){return Fi(e)===0}function Ri(e,t){return t<=6?31:t<=11||$i(e)?30:29}function Fi(e){const t=fe.length;let i=fe[0],s,r,a,o,n;if(e<i||e>=fe[t-1])throw new Error("Invalid Jalaali year "+e);for(n=1;n<t&&(s=fe[n],r=s-i,!(e<s));n+=1)i=s;return o=e-i,r-o<6&&(o=o-r+Ei(r+4,33)*33),a=at(at(o+1,33)-1,4),a===-1&&(a=4),a}function Ei(e,t){return~~(e/t)}function at(e,t){return e-~~(e/t)*t}const wt=864e5,Mi=36e5,Se=6e4,Ot="YYYY-MM-DDTHH:mm:ss.SSSZ",ji=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,qi=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Ae={};function Ni(e,t){const i="("+t.days.join("|")+")",s=e+i;if(Ae[s]!==void 0)return Ae[s];const r="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",o="("+t.monthsShort.join("|")+")",n={};let c=0;const d=e.replace(qi,w=>{switch(c++,w){case"YY":return n.YY=c,"(-?\\d{1,2})";case"YYYY":return n.YYYY=c,"(-?\\d{1,4})";case"M":return n.M=c,"(\\d{1,2})";case"MM":return n.M=c,"(\\d{2})";case"MMM":return n.MMM=c,o;case"MMMM":return n.MMMM=c,a;case"D":return n.D=c,"(\\d{1,2})";case"Do":return n.D=c++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return n.D=c,"(\\d{2})";case"H":return n.H=c,"(\\d{1,2})";case"HH":return n.H=c,"(\\d{2})";case"h":return n.h=c,"(\\d{1,2})";case"hh":return n.h=c,"(\\d{2})";case"m":return n.m=c,"(\\d{1,2})";case"mm":return n.m=c,"(\\d{2})";case"s":return n.s=c,"(\\d{1,2})";case"ss":return n.s=c,"(\\d{2})";case"S":return n.S=c,"(\\d{1})";case"SS":return n.S=c,"(\\d{2})";case"SSS":return n.S=c,"(\\d{3})";case"A":return n.A=c,"(AM|PM)";case"a":return n.a=c,"(am|pm)";case"aa":return n.aa=c,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return i;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return n.Z=c,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return n.ZZ=c,"(Z|[+-]\\d{2}\\d{2})";case"X":return n.X=c,"(-?\\d+)";case"x":return n.x=c,"(-?\\d{4,})";default:return c--,w[0]==="["&&(w=w.substring(1,w.length-1)),w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),m={map:n,regex:new RegExp("^"+d)};return Ae[s]=m,m}function At(e,t){return e!==void 0?e:t!==void 0?t.date:Oi.date}function nt(e,t=""){const i=e>0?"-":"+",s=Math.abs(e),r=Math.floor(s/60),a=s%60;return i+F(r)+t+F(a)}function Pi(e,t,i){let s=e.getFullYear(),r=e.getMonth();const a=e.getDate();return t.year!==void 0&&(s+=i*t.year,delete t.year),t.month!==void 0&&(r+=i*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(s),e.setMonth(r),e.setDate(Math.min(a,Ue(e))),t.date!==void 0&&(e.setDate(e.getDate()+i*t.date),delete t.date),e}function Li(e,t,i){const s=t.year!==void 0?t.year:e[`get${i}FullYear`](),r=t.month!==void 0?t.month-1:e[`get${i}Month`](),a=new Date(s,r+1,0).getDate(),o=Math.min(a,t.date!==void 0?t.date:e[`get${i}Date`]());return e[`set${i}Date`](1),e[`set${i}Month`](2),e[`set${i}FullYear`](s),e[`set${i}Month`](r),e[`set${i}Date`](o),delete t.year,delete t.month,delete t.date,e}function Le(e,t,i){const s=Dt(t),r=new Date(e),a=s.year!==void 0||s.month!==void 0||s.date!==void 0?Pi(r,s,i):r;for(const o in s){const n=wi(o);a[`set${n}`](a[`get${n}`]()+i*s[o])}return a}function Dt(e){const t=Q({},e);return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function It(e,t,i){const s=Dt(t),r=i===!0?"UTC":"",a=new Date(e),o=s.year!==void 0||s.month!==void 0||s.date!==void 0?Li(a,s,r):a;for(const n in s){const c=n.charAt(0).toUpperCase()+n.slice(1);o[`set${r}${c}`](s[n])}return o}function Ui(e,t,i){const s=_i(e,t,i),r=new Date(s.year,s.month===null?null:s.month-1,s.day===null?1:s.day,s.hour,s.minute,s.second,s.millisecond),a=r.getTimezoneOffset();return s.timezoneOffset===null||s.timezoneOffset===a?r:Le(r,{minutes:s.timezoneOffset-a},1)}function _i(e,t,i,s,r){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(a,r),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=Ot);const o=At(i,bt.props),n=o.months,c=o.monthsShort,{regex:d,map:m}=Ni(t,o),w=e.match(d);if(w===null)return a;let O="";if(m.X!==void 0||m.x!==void 0){const S=parseInt(w[m.X!==void 0?m.X:m.x],10);if(isNaN(S)===!0||S<0)return a;const k=new Date(S*(m.X!==void 0?1e3:1));a.year=k.getFullYear(),a.month=k.getMonth()+1,a.day=k.getDate(),a.hour=k.getHours(),a.minute=k.getMinutes(),a.second=k.getSeconds(),a.millisecond=k.getMilliseconds()}else{if(m.YYYY!==void 0)a.year=parseInt(w[m.YYYY],10);else if(m.YY!==void 0){const S=parseInt(w[m.YY],10);a.year=S<0?S:2e3+S}if(m.M!==void 0){if(a.month=parseInt(w[m.M],10),a.month<1||a.month>12)return a}else m.MMM!==void 0?a.month=c.indexOf(w[m.MMM])+1:m.MMMM!==void 0&&(a.month=n.indexOf(w[m.MMMM])+1);if(m.D!==void 0){if(a.day=parseInt(w[m.D],10),a.year===null||a.month===null||a.day<1)return a;const S=s!=="persian"?new Date(a.year,a.month,0).getDate():Ri(a.year,a.month);if(a.day>S)return a}m.H!==void 0?a.hour=parseInt(w[m.H],10)%24:m.h!==void 0&&(a.hour=parseInt(w[m.h],10)%12,(m.A&&w[m.A]==="PM"||m.a&&w[m.a]==="pm"||m.aa&&w[m.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),m.m!==void 0&&(a.minute=parseInt(w[m.m],10)%60),m.s!==void 0&&(a.second=parseInt(w[m.s],10)%60),m.S!==void 0&&(a.millisecond=parseInt(w[m.S],10)*10**(3-w[m.S].length)),(m.Z!==void 0||m.ZZ!==void 0)&&(O=m.Z!==void 0?w[m.Z].replace(":",""):w[m.ZZ],a.timezoneOffset=(O[0]==="+"?-1:1)*(60*O.slice(1,3)+1*O.slice(3,5)))}return a.dateHash=F(a.year,6)+"/"+F(a.month)+"/"+F(a.day),a.timeHash=F(a.hour)+":"+F(a.minute)+":"+F(a.second)+O,a}function Yi(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function Ki(e,t){return It(new Date,e,t)}function Xi(e){const t=new Date(e).getDay();return t===0?7:t}function Te(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const i=new Date(t.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);const s=t.getTimezoneOffset()-i.getTimezoneOffset();t.setHours(t.getHours()-s);const r=(t-i)/(wt*7);return 1+Math.floor(r)}function Bi(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function De(e,t){const i=new Date(e);return t===!0?Bi(i):i.getTime()}function Hi(e,t,i,s={}){const r=De(t,s.onlyDate),a=De(i,s.onlyDate),o=De(e,s.onlyDate);return(o>r||s.inclusiveFrom===!0&&o===r)&&(o<a||s.inclusiveTo===!0&&o===a)}function Qi(e,t){return Le(e,t,1)}function zi(e,t){return Le(e,t,-1)}function H(e,t,i){const s=new Date(e),r=`set${i===!0?"UTC":""}`;switch(t){case"year":case"years":s[`${r}Month`](0);case"month":case"months":s[`${r}Date`](1);case"day":case"days":case"date":s[`${r}Hours`](0);case"hour":case"hours":s[`${r}Minutes`](0);case"minute":case"minutes":s[`${r}Seconds`](0);case"second":case"seconds":s[`${r}Milliseconds`](0)}return s}function Ji(e,t,i){const s=new Date(e),r=`set${i===!0?"UTC":""}`;switch(t){case"year":case"years":s[`${r}Month`](11);case"month":case"months":s[`${r}Date`](Ue(s));case"day":case"days":case"date":s[`${r}Hours`](23);case"hour":case"hours":s[`${r}Minutes`](59);case"minute":case"minutes":s[`${r}Seconds`](59);case"second":case"seconds":s[`${r}Milliseconds`](999)}return s}function Wi(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(i=>{t=Math.max(t,new Date(i))}),t}function Zi(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(i=>{t=Math.min(t,new Date(i))}),t}function ue(e,t,i){return(e.getTime()-e.getTimezoneOffset()*Se-(t.getTime()-t.getTimezoneOffset()*Se))/i}function Ct(e,t,i="days"){const s=new Date(e),r=new Date(t);switch(i){case"years":case"year":return s.getFullYear()-r.getFullYear();case"months":case"month":return(s.getFullYear()-r.getFullYear())*12+s.getMonth()-r.getMonth();case"days":case"day":case"date":return ue(H(s,"day"),H(r,"day"),wt);case"hours":case"hour":return ue(H(s,"hour"),H(r,"hour"),Mi);case"minutes":case"minute":return ue(H(s,"minute"),H(r,"minute"),Se);case"seconds":case"second":return ue(H(s,"second"),H(r,"second"),1e3)}}function ke(e){return Ct(e,H(e,"year"),"days")+1}function Vi(e){return vt(e)===!0?"date":typeof e=="number"?"number":"string"}function Gi(e,t,i){const s=new Date(e);if(t){const r=new Date(t);if(s<r)return r}if(i){const r=new Date(i);if(s>r)return r}return s}function es(e,t,i){const s=new Date(e),r=new Date(t);if(i===void 0)return s.getTime()===r.getTime();switch(i){case"second":case"seconds":if(s.getSeconds()!==r.getSeconds())return!1;case"minute":case"minutes":if(s.getMinutes()!==r.getMinutes())return!1;case"hour":case"hours":if(s.getHours()!==r.getHours())return!1;case"day":case"days":case"date":if(s.getDate()!==r.getDate())return!1;case"month":case"months":if(s.getMonth()!==r.getMonth())return!1;case"year":case"years":if(s.getFullYear()!==r.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${i}`)}return!0}function Ue(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function ot(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const ct={YY(e,t,i){const s=this.YYYY(e,t,i)%100;return s>0?F(s):"-"+F(Math.abs(s))},YYYY(e,t,i){return i!=null?i:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return F(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ot(this.Q(e))},D(e){return e.getDate()},Do(e){return ot(e.getDate())},DD(e){return F(e.getDate())},DDD(e){return ke(e)},DDDD(e){return F(ke(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Te(e)},ww(e){return F(Te(e))},H(e){return e.getHours()},HH(e){return F(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return F(this.h(e))},m(e){return e.getMinutes()},mm(e){return F(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return F(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return F(Math.floor(e.getMilliseconds()/10))},SSS(e){return F(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,i,s){const r=s==null?e.getTimezoneOffset():s;return nt(r,":")},ZZ(e,t,i,s){const r=s==null?e.getTimezoneOffset():s;return nt(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function ts(e,t,i,s,r){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=Ot);const o=At(i,bt.props);return t.replace(ji,(n,c)=>n in ct?ct[n](a,o,s,r):c===void 0?n:c.split("\\]").join("]"))}function is(e){return vt(e)===!0?new Date(e.getTime()):e}var N={isValid:Yi,extractDate:Ui,buildDate:Ki,getDayOfWeek:Xi,getWeekOfYear:Te,isBetweenDates:Hi,addToDate:Qi,subtractFromDate:zi,adjustDate:It,startOfDate:H,endOfDate:Ji,getMaxDate:Wi,getMinDate:Zi,getDateDiff:Ct,getDayOfYear:ke,inferDateFormat:Vi,getDateBetween:Gi,isSameDate:es,daysInMonth:Ue,formatDate:ts,clone:is},St={exports:{}};(function(e){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(t,i){typeof Ii=="function"&&!0&&e&&e.exports?e.exports=i():(t.dcodeIO=t.dcodeIO||{}).bcrypt=i()})(Ci,function(){var t={},i=null;function s(p){if(e&&e.exports)try{return require("crypto").randomBytes(p)}catch{}try{var h;return(self.crypto||self.msCrypto).getRandomValues(h=new Uint32Array(p)),Array.prototype.slice.call(h)}catch{}if(!i)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return i(p)}var r=!1;try{s(1),r=!0}catch{}i=null,t.setRandomFallback=function(p){i=p},t.genSaltSync=function(p,h){if(p=p||q,typeof p!="number")throw Error("Illegal arguments: "+typeof p+", "+typeof h);p<4?p=4:p>31&&(p=31);var u=[];return u.push("$2a$"),p<10&&u.push("0"),u.push(p.toString()),u.push("$"),u.push(w(s(k),k)),u.join("")},t.genSalt=function(p,h,u){if(typeof h=="function"&&(u=h,h=void 0),typeof p=="function"&&(u=p,p=void 0),typeof p=="undefined")p=q;else if(typeof p!="number")throw Error("illegal arguments: "+typeof p);function f(l){o(function(){try{l(null,t.genSaltSync(p))}catch(x){l(x)}})}if(u){if(typeof u!="function")throw Error("Illegal callback: "+typeof u);f(u)}else return new Promise(function(l,x){f(function(g,D){if(g){x(g);return}l(D)})})},t.hashSync=function(p,h){if(typeof h=="undefined"&&(h=q),typeof h=="number"&&(h=t.genSaltSync(h)),typeof p!="string"||typeof h!="string")throw Error("Illegal arguments: "+typeof p+", "+typeof h);return be(p,h)},t.hash=function(p,h,u,f){function l(x){typeof p=="string"&&typeof h=="number"?t.genSalt(h,function(g,D){be(p,D,x,f)}):typeof p=="string"&&typeof h=="string"?be(p,h,x,f):o(x.bind(this,Error("Illegal arguments: "+typeof p+", "+typeof h)))}if(u){if(typeof u!="function")throw Error("Illegal callback: "+typeof u);l(u)}else return new Promise(function(x,g){l(function(D,v){if(D){g(D);return}x(v)})})};function a(p,h){for(var u=0,f=0,l=0,x=p.length;l<x;++l)p.charCodeAt(l)===h.charCodeAt(l)?++u:++f;return u<0?!1:f===0}t.compareSync=function(p,h){if(typeof p!="string"||typeof h!="string")throw Error("Illegal arguments: "+typeof p+", "+typeof h);return h.length!==60?!1:a(t.hashSync(p,h.substr(0,h.length-31)),h)},t.compare=function(p,h,u,f){function l(x){if(typeof p!="string"||typeof h!="string"){o(x.bind(this,Error("Illegal arguments: "+typeof p+", "+typeof h)));return}if(h.length!==60){o(x.bind(this,null,!1));return}t.hash(p,h.substr(0,29),function(g,D){g?x(g):x(null,a(D,h))},f)}if(u){if(typeof u!="function")throw Error("Illegal callback: "+typeof u);l(u)}else return new Promise(function(x,g){l(function(D,v){if(D){g(D);return}x(v)})})},t.getRounds=function(p){if(typeof p!="string")throw Error("Illegal arguments: "+typeof p);return parseInt(p.split("$")[2],10)},t.getSalt=function(p){if(typeof p!="string")throw Error("Illegal arguments: "+typeof p);if(p.length!==60)throw Error("Illegal hash length: "+p.length+" != 60");return p.substring(0,29)};var o=typeof process!="undefined"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function n(p){var h=[],u=0;return S.encodeUTF16toUTF8(function(){return u>=p.length?null:p.charCodeAt(u++)},function(f){h.push(f)}),h}var c="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],m=String.fromCharCode;function w(p,h){var u=0,f=[],l,x;if(h<=0||h>p.length)throw Error("Illegal len: "+h);for(;u<h;){if(l=p[u++]&255,f.push(c[l>>2&63]),l=(l&3)<<4,u>=h){f.push(c[l&63]);break}if(x=p[u++]&255,l|=x>>4&15,f.push(c[l&63]),l=(x&15)<<2,u>=h){f.push(c[l&63]);break}x=p[u++]&255,l|=x>>6&3,f.push(c[l&63]),f.push(c[x&63])}return f.join("")}function O(p,h){var u=0,f=p.length,l=0,x=[],g,D,v,I,T,$;if(h<=0)throw Error("Illegal len: "+h);for(;u<f-1&&l<h&&($=p.charCodeAt(u++),g=$<d.length?d[$]:-1,$=p.charCodeAt(u++),D=$<d.length?d[$]:-1,!(g==-1||D==-1||(T=g<<2>>>0,T|=(D&48)>>4,x.push(m(T)),++l>=h||u>=f)||($=p.charCodeAt(u++),v=$<d.length?d[$]:-1,v==-1)||(T=(D&15)<<4>>>0,T|=(v&60)>>2,x.push(m(T)),++l>=h||u>=f)));)$=p.charCodeAt(u++),I=$<d.length?d[$]:-1,T=(v&3)<<6>>>0,T|=I,x.push(m(T)),++l;var Y=[];for(u=0;u<l;u++)Y.push(x[u].charCodeAt(0));return Y}var S=function(){var p={};return p.MAX_CODEPOINT=1114111,p.encodeUTF8=function(h,u){var f=null;for(typeof h=="number"&&(f=h,h=function(){return null});f!==null||(f=h())!==null;)f<128?u(f&127):f<2048?(u(f>>6&31|192),u(f&63|128)):f<65536?(u(f>>12&15|224),u(f>>6&63|128),u(f&63|128)):(u(f>>18&7|240),u(f>>12&63|128),u(f>>6&63|128),u(f&63|128)),f=null},p.decodeUTF8=function(h,u){for(var f,l,x,g,D=function(v){v=v.slice(0,v.indexOf(null));var I=Error(v.toString());throw I.name="TruncatedError",I.bytes=v,I};(f=h())!==null;)if((f&128)===0)u(f);else if((f&224)===192)(l=h())===null&&D([f,l]),u((f&31)<<6|l&63);else if((f&240)===224)((l=h())===null||(x=h())===null)&&D([f,l,x]),u((f&15)<<12|(l&63)<<6|x&63);else if((f&248)===240)((l=h())===null||(x=h())===null||(g=h())===null)&&D([f,l,x,g]),u((f&7)<<18|(l&63)<<12|(x&63)<<6|g&63);else throw RangeError("Illegal starting byte: "+f)},p.UTF16toUTF8=function(h,u){for(var f,l=null;(f=l!==null?l:h())!==null;){if(f>=55296&&f<=57343&&(l=h())!==null&&l>=56320&&l<=57343){u((f-55296)*1024+l-56320+65536),l=null;continue}u(f)}l!==null&&u(l)},p.UTF8toUTF16=function(h,u){var f=null;for(typeof h=="number"&&(f=h,h=function(){return null});f!==null||(f=h())!==null;)f<=65535?u(f):(f-=65536,u((f>>10)+55296),u(f%1024+56320)),f=null},p.encodeUTF16toUTF8=function(h,u){p.UTF16toUTF8(h,function(f){p.encodeUTF8(f,u)})},p.decodeUTF8toUTF16=function(h,u){p.decodeUTF8(h,function(f){p.UTF8toUTF16(f,u)})},p.calculateCodePoint=function(h){return h<128?1:h<2048?2:h<65536?3:4},p.calculateUTF8=function(h){for(var u,f=0;(u=h())!==null;)f+=p.calculateCodePoint(u);return f},p.calculateUTF16asUTF8=function(h){var u=0,f=0;return p.UTF16toUTF8(h,function(l){++u,f+=p.calculateCodePoint(l)}),[u,f]},p}();Date.now=Date.now||function(){return+new Date};var k=16,q=10,j=16,se=100,Ge=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],et=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],tt=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function re(p,h,u,f){var l,x=p[h],g=p[h+1];return x^=u[0],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[1],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[2],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[3],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[4],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[5],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[6],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[7],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[8],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[9],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[10],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[11],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[12],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[13],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[14],l=f[x>>>24],l+=f[256|x>>16&255],l^=f[512|x>>8&255],l+=f[768|x&255],g^=l^u[15],l=f[g>>>24],l+=f[256|g>>16&255],l^=f[512|g>>8&255],l+=f[768|g&255],x^=l^u[16],p[h]=g^u[j+1],p[h+1]=x,p}function ee(p,h){for(var u=0,f=0;u<4;++u)f=f<<8|p[h]&255,h=(h+1)%p.length;return{key:f,offp:h}}function it(p,h,u){for(var f=0,l=[0,0],x=h.length,g=u.length,D,v=0;v<x;v++)D=ee(p,f),f=D.offp,h[v]=h[v]^D.key;for(v=0;v<x;v+=2)l=re(l,0,h,u),h[v]=l[0],h[v+1]=l[1];for(v=0;v<g;v+=2)l=re(l,0,h,u),u[v]=l[0],u[v+1]=l[1]}function xi(p,h,u,f){for(var l=0,x=[0,0],g=u.length,D=f.length,v,I=0;I<g;I++)v=ee(h,l),l=v.offp,u[I]=u[I]^v.key;for(l=0,I=0;I<g;I+=2)v=ee(p,l),l=v.offp,x[0]^=v.key,v=ee(p,l),l=v.offp,x[1]^=v.key,x=re(x,0,u,f),u[I]=x[0],u[I+1]=x[1];for(I=0;I<D;I+=2)v=ee(p,l),l=v.offp,x[0]^=v.key,v=ee(p,l),l=v.offp,x[1]^=v.key,x=re(x,0,u,f),f[I]=x[0],f[I+1]=x[1]}function st(p,h,u,f,l){var x=tt.slice(),g=x.length,D;if(u<4||u>31)if(D=Error("Illegal number of rounds (4-31): "+u),f){o(f.bind(this,D));return}else throw D;if(h.length!==k)if(D=Error("Illegal salt length: "+h.length+" != "+k),f){o(f.bind(this,D));return}else throw D;u=1<<u>>>0;var v,I,T=0,$;Int32Array?(v=new Int32Array(Ge),I=new Int32Array(et)):(v=Ge.slice(),I=et.slice()),xi(h,p,v,I);function Y(){if(l&&l(T/u),T<u)for(var te=Date.now();T<u&&(T=T+1,it(p,v,I),it(h,v,I),!(Date.now()-te>se)););else{for(T=0;T<64;T++)for($=0;$<g>>1;$++)re(x,$<<1,v,I);var M=[];for(T=0;T<g;T++)M.push((x[T]>>24&255)>>>0),M.push((x[T]>>16&255)>>>0),M.push((x[T]>>8&255)>>>0),M.push((x[T]&255)>>>0);if(f){f(null,M);return}else return M}f&&o(Y)}if(typeof f!="undefined")Y();else for(var ae;;)if(typeof(ae=Y())!="undefined")return ae||[]}function be(p,h,u,f){var l;if(typeof p!="string"||typeof h!="string")if(l=Error("Invalid string / salt: Not a string"),u){o(u.bind(this,l));return}else throw l;var x,g;if(h.charAt(0)!=="$"||h.charAt(1)!=="2")if(l=Error("Invalid salt version: "+h.substring(0,2)),u){o(u.bind(this,l));return}else throw l;if(h.charAt(2)==="$")x=String.fromCharCode(0),g=3;else{if(x=h.charAt(2),x!=="a"&&x!=="b"&&x!=="y"||h.charAt(3)!=="$")if(l=Error("Invalid salt revision: "+h.substring(2,4)),u){o(u.bind(this,l));return}else throw l;g=4}if(h.charAt(g+2)>"$")if(l=Error("Missing salt rounds"),u){o(u.bind(this,l));return}else throw l;var D=parseInt(h.substring(g,g+1),10)*10,v=parseInt(h.substring(g+1,g+2),10),I=D+v,T=h.substring(g+3,g+25);p+=x>="a"?"\0":"";var $=n(p),Y=O(T,k);function ae(te){var M=[];return M.push("$2"),x>="a"&&M.push(x),M.push("$"),I<10&&M.push("0"),M.push(I.toString()),M.push("$"),M.push(w(Y,Y.length)),M.push(w(te,tt.length*4-1)),M.join("")}if(typeof u=="undefined")return ae(st($,Y,I));st($,Y,I,function(te,M){te?u(te,null):u(null,ae(M))},f)}return t.encodeBase64=w,t.decodeBase64=O,t})})(St);var lt=St.exports,Tt={get dev(){return!1},realm:"elitehcms",appDBID:"bp3gargfh",baseURL:"https://api.quickbase.com/v1",loginEndpoint:"https://elitehcms.quickbase.com/db/main?act=API_Authenticate",appToken:"cjibuvub93rvd2dbh4iksbeft4n4",refreshEndpoint:"https://api.quickbase.com/v1/auth/temporary",queryRecords:"https://api.quickbase.com/v1/records/query",insertRecords:"https://api.quickbase.com/v1/records",updateRecords:"https://api.quickbase.com/v1/records",runReport:"https://api.quickbase.com/v1/reports",storageUserKeyName:"clm_emp_user",storageUserTicketKeyName:"clm_emp_ticket",storageIPInfoKeyName:"clm_emp_ip",storagePermissionsKeyName:"clm_emp_permissions",storageAccessKeyName:"clm_emp_access",storageOfficeLocationKeyName:"clm_emp_office",storageEmployeeKeyName:"clm_emp_employee",storageCheckInKeyName:"clm_emp_checkin",storageJobBoardKeyName:"clm_emp_jobboard",cookieExpiration:"1d",officeExpiration:"6h",checkInExpiration:"5m",tokenExpiration:"4m 45s",userToken:"b3rntv_ng3q_0_b3f26wpbjxp4xdhqrxjmdpjmvus",commonParameters:{msInUTC:0,includeRids:1,fmt:"structured",options:"num-5000"},maxLoginAttempts:5,lastAttemptExpMinutes:5,loginAttemptMinutesBeforeLast:2,booleanFields:{br26nivmr:[21]}},C={get dev(){return!1},get userType(){const e=window.location.href;return e.startsWith("https://elitehcms.quickbase.com/db/bpzpy6n3x?a=dbpage&pageID=23")?"Candidate Kiosk":e.startsWith("https://elitehcms.quickbase.com/db/bpzpy6n3x?a=dbpage&pageID=16")?"Candidate":e.startsWith("https://elitehcms.quickbase.com/db/bpzpy6n3x?a=dbpage&pageID=13")?"Project User":e.startsWith("https://elitehcms.quickbase.com/db/bpzpy6n3x?a=dbpage&pageID=24")?"QuickBase User":"Candidate"},get storageName(){return this.userType==="Candidate Kiosk"||this.userType==="Candidate"?"clm_emp_":this.userType==="Project User"?"clm_proj_":this.userType==="QuickBase User"?"clm_qb_":"clm_"},get storageUserKeyName(){return this.storageName+"user"},get storageUserTicketKeyName(){return this.storageName+"ticket"},get storageIPInfoKeyName(){return this.storageName+"ip"},get storagePermissionsKeyName(){return this.storageName+"permissions"},get storageAccessKeyName(){return this.storageName+"access"},get storageOfficeLocationKeyName(){return this.storageName+"office"},get storageEmployeeKeyName(){return this.storageName+"employee"},get storageCheckInKeyName(){return this.storageName+"checkin"},get storageJobBoardKeyName(){return this.storageName+"job_board"},get storageProfile(){return this.storageName+"profile"},get storageProfileStep(){return this.storageName+"profile_step"},get storageProfileVoluntaryForms(){return this.storageName+"profile_voluntary_forms"},get storageExperienceOptions(){return this.storageName+"experience_options"},get storageContactMethods(){return this.storageName+"contact_method_options"},get storageEmploymentOptions(){return this.storageName+"employment_options"},get storageCompanyOptions(){return this.storageName+"company_options"},get storageCraftOptions(){return this.storageName+"craft_options"},get storageRelationshipOptions(){return this.storageName+"relationship_options"},get storageCredentialOptions(){return this.storageName+"credential_options"},get storageAffirmativeOptions(){return this.storageName+"affirmative_options"},get storageVeteranStatusOptions(){return this.storageName+"veteran_status_options"},get storageDisabilityPages(){return this.storageName+"disability_pages"},get storageDisabilityForm(){return this.storageName+"disability_form"},get storageEverGreenJobs(){return this.storageName+"ever_green_jobs"},get storageToolCheckList(){return this.storageName+"tool_check_list"},get storageKioskAccount(){return this.storageName+"kiosk_account"},get storageHiringCenter(){return this.storageName+"hiring_center"}};const _=W("hiringCenter",{state:()=>({hiringCenterInfo:null}),getters:{hiringCenter:e=>e.hiringCenterInfo},actions:{async fetchHiringCenter(e,t){const i=[{9:{value:e},7:{value:"Hiring Center"}}];if(!this.hiringCenterInfo||t){const{data:s}=await A.fetchFromStructureApp({fields:i});return this.setHiringCenter(s,!0),s}else return this.hiringCenterInfo},setHiringCenter(e,t){this.hiringCenterInfo=e,t&&y.setItem(C.storageHiringCenter,e)}}}),ss="toolsOptions",B=W("app",{state:()=>({checkIn:!0,checkInData:{},lang:null}),getters:{inHiringCenter:e=>e.checkInData[15]?e.checkInData[15]==="Waiting":!1,checkedIn:e=>e.checkInData[15]?e.checkInData[15]==="Waiting":!1,checkedInStatus:e=>e.checkInData[15]||null,userType(){return C.userType},onKiosk(){return this.userType==="Candidate Kiosk"}},actions:{setToolOptions(e){Ai.set(ss,e,{encrypt:!0,ttl:1728e5})},setCheckInData(e){const{setHiringCenter:t}=_();this.checkInData=e,y.setItem(C.storageCheckInKeyName,e),t(this.checkInData.office,!0)},openWindow(e,t){(t.fullScreen===null||t.fullScreen===void 0)&&(t.fullScreen=!0),t.name==="Full Profile"&&!t.height&&(t.height=775),t.width=t.width?t.width:screen.availWidth&&t.fullScreen?screen.availWidth:1450,t.height=t.height?t.height:screen.availHeight&&t.fullScreen?screen.availHeight:700;const i=window.top.outerHeight/2+window.top.screenY-t.height/2,s=window.top.outerWidth/2+window.top.screenX-t.width/2,r=[`width=${t.width}`,`height=${t.height}`,"popup","fullscreen=yes"];t.fullScreen||r.push(`top=${i}, left=${s}`);const a=window.open(t.url,t.name,r.join(","));(a.outerWidth<screen.availWidth||a.outerHeight<screen.availHeight)&&t.fullScreen&&(a.moveTo(0,0),a.resizeTo(screen.availWidth,screen.availHeight))},async addTaskToCheckin({task:e,reason:t,active:i}){const s={3:{value:this.checkInData[3]},10:{value:t},27:{value:e}};i&&Object.assign(s,{36:{value:!0}});const{data:r}=await A.upsertRecordsXML({to:"br26nivmr",data:[s],fieldsToReturn:[31],formatObject:31});if(r[0])return this.checkInData=r[0][31],this.checkInData;throw"Something went wrong"},setLang(e){this.lang=e}}});function rs(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function _e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var kt=function(){function e(s,r){this.operator=s,this.value=r,Object.defineProperty(this,"t",{writable:!0})}var t,i;return e.prototype.addNote=function(s){this.t=this.t||[],this.t.push(s)},t=e,(i=[{key:"notes",get:function(){return this.t}}])&&rs(t.prototype,i),e}(),Ye=function(e){function t(){return e.apply(this,arguments)||this}return _e(t,e),t}(kt),xe=function(e){function t(i,s){if(!Array.isArray(s))throw new Error('"'+i+'" operator expects to receive an array of conditions');return e.call(this,i,s)||this}return _e(t,e),t}(Ye),le="__itself__",me=function(e){function t(i,s,r){var a;return(a=e.call(this,i,r)||this).field=s,a}return _e(t,e),t}(kt),$t=new Ye("__null__",null),$e=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function as(e,t){return t instanceof xe&&t.operator===e}function Rt(e,t){return t.length===1?t[0]:new xe(e,function i(s,r,a){for(var o=a||[],n=0,c=r.length;n<c;n++){var d=r[n];as(s,d)?i(s,d.value,o):o.push(d)}return o}(e,t))}var ns=function(e){return e},Ft=function(){return Object.create(null)},Et=Object.defineProperty(Ft(),"__@type@__",{value:"ignore value"});function os(e,t,i){if(i===void 0&&(i=!1),!e||e&&e.constructor!==Object)return!1;for(var s in e)if($e(e,s)&&$e(t,s)&&(!i||e[s]!==Et))return!0;return!1}function cs(e){var t=[];for(var i in e)$e(e,i)&&e[i]!==Et&&t.push(i);return t}function Ie(e,t){t!==$t&&e.push(t)}var Mt=function(e){return Rt("and",e)},jt={compound:function(e,t,i){var s=(Array.isArray(t)?t:[t]).map(function(r){return i.parse(r)});return new xe(e.name,s)},field:function(e,t,i){return new me(e.name,i.field,t)},document:function(e,t){return new Ye(e.name,t)}},qt=function(){function e(i,s){var r=this;s===void 0&&(s=Ft()),this.i=void 0,this.o=void 0,this.u=void 0,this.s=void 0,this.h=void 0,this.parse=this.parse.bind(this),this.s={operatorToConditionName:s.operatorToConditionName||ns,defaultOperatorName:s.defaultOperatorName||"eq",mergeFinalConditions:s.mergeFinalConditions||Mt},this.i=Object.keys(i).reduce(function(a,o){return a[o]=oe({name:r.s.operatorToConditionName(o)},i[o]),a},{}),this.o=oe({},s.fieldContext,{field:"",query:{},parse:this.parse,hasOperators:function(a){return os(a,r.i,s.useIgnoreValue)}}),this.u=oe({},s.documentContext,{parse:this.parse,query:{}}),this.h=s.useIgnoreValue?cs:Object.keys}var t=e.prototype;return t.setParse=function(i){this.parse=i,this.o.parse=i,this.u.parse=i},t.parseField=function(i,s,r,a){var o=this.i[s];if(!o)throw new Error('Unsupported operator "'+s+'"');if(o.type!=="field")throw new Error("Unexpected "+o.type+' operator "'+s+'" at field level');return this.o.field=i,this.o.query=a,this.parseInstruction(o,r,this.o)},t.parseInstruction=function(i,s,r){return typeof i.validate=="function"&&i.validate(i,s),(i.parse||jt[i.type])(i,s,r)},t.parseFieldOperators=function(i,s){for(var r=[],a=this.h(s),o=0,n=a.length;o<n;o++){var c=a[o];if(!this.i[c])throw new Error('Field query for "'+i+'" may contain only operators or a plain object as a value');Ie(r,this.parseField(i,c,s[c],s))}return r},t.parse=function(i){var s=[],r=this.h(i);this.u.query=i;for(var a=0,o=r.length;a<o;a++){var n=r[a],c=i[n],d=this.i[n];if(d){if(d.type!=="document"&&d.type!=="compound")throw new Error('Cannot use parsing instruction for operator "'+n+'" in "document" context as it is supposed to be used in  "'+d.type+'" context');Ie(s,this.parseInstruction(d,c,this.u))}else this.o.hasOperators(c)?s.push.apply(s,this.parseFieldOperators(n,c)):Ie(s,this.parseField(n,this.s.defaultOperatorName,c,i))}return this.s.mergeFinalConditions(s)},e}();function Ce(e,t){var i=e[t];if(typeof i!="function")throw new Error('Unable to interpret "'+t+'" condition. Did you forget to register interpreter for it?');return i}function ls(e){return e.operator}function fs(e,t){var i,s=t,r=s&&s.getInterpreterName||ls;switch(s?s.numberOfArguments:0){case 1:i=function(o){var n=r(o,s);return Ce(e,n)(o,a)};break;case 3:i=function(o,n,c){var d=r(o,s);return Ce(e,d)(o,n,c,a)};break;default:i=function(o,n){var c=r(o,s);return Ce(e,c)(o,n,a)}}var a=oe({},s,{interpret:i});return a.interpret}function us(e,t){return function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];var o=e.apply(void 0,[i].concat(r)),n=t.bind(null,o);return n.ast=o,n}}qt.prototype.parseInstruction;function Nt(e,t){if(!Array.isArray(t))throw new Error('"'+e.name+'" expects value to be an array')}function Pt(e,t){if(Nt(e,t),!t.length)throw new Error('"'+e.name+'" expects to have at least one element in array')}var Ke=function(e){return function(t,i){if(typeof i!==e)throw new Error('"'+t.name+'" expects value to be a "'+e+'"')}},Lt={type:"compound",validate:Pt,parse:function(e,t,i){var s=i.parse,r=t.map(function(a){return s(a)});return Rt(e.name,r)}},ds=Lt,hs={type:"compound",validate:Pt},ps={type:"field",validate:function(e,t){if(!(t&&(t instanceof RegExp||t.constructor===Object)))throw new Error('"'+e.name+'" expects to receive either regular expression or object of field operators')},parse:function(e,t,i){var s=t instanceof RegExp?new me("regex",i.field,t):i.parse(t,i);return new xe(e.name,[s])}},Ut={type:"field",validate:function(e,t){if(!t||t.constructor!==Object)throw new Error('"'+e.name+'" expects to receive an object with nested query or field level operators')},parse:function(e,t,i){var s=i.parse,r=i.field,a=(0,i.hasOperators)(t)?s(t,{field:le}):s(t);return new me(e.name,r,a)}},_t={type:"field",validate:Ke("number")},ye={type:"field",validate:Nt},Yt=ye,Kt=ye,xs={type:"field",validate:function(e,t){if(!Array.isArray(t)||t.length!==2)throw new Error('"'+e.name+'" expects an array with 2 numeric elements')}},Xt={type:"field",validate:Ke("boolean")},Xe={type:"field",validate:function(e,t){if(!(typeof t=="string"||typeof t=="number"||t instanceof Date))throw new Error('"'+e.name+'" expects value to be comparable (i.e., string, number or date)')}},ge=Xe,Bt=ge,Ht=ge,Be={type:"field"},Qt=Be,zt={type:"field",validate:function(e,t){if(!(t instanceof RegExp)&&typeof t!="string")throw new Error('"'+e.name+'" expects value to be a regular expression or a string that represents regular expression')},parse:function(e,t,i){var s=typeof t=="string"?new RegExp(t,i.query.$options||""):t;return new me(e.name,i.field,s)}},Jt={type:"field",parse:function(){return $t}},ms={type:"document",validate:Ke("function")},ys=Object.freeze({__proto__:null,$and:Lt,$or:ds,$nor:hs,$not:ps,$elemMatch:Ut,$size:_t,$in:ye,$nin:Yt,$all:Kt,$mod:xs,$exists:Xt,$gte:Xe,$gt:ge,$lt:Bt,$lte:Ht,$eq:Be,$ne:Qt,$regex:zt,$options:Jt,$where:ms}),gs=function(e){var t,i;function s(r){return e.call(this,r,{defaultOperatorName:"$eq",operatorToConditionName:function(a){return a.slice(1)}})||this}return i=e,(t=s).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,s.prototype.parse=function(r,a){return a&&a.field?Mt(this.parseFieldOperators(a.field,r)):e.prototype.parse.call(this,r)},s}(qt),Re=ys;function He(e,t,i){for(var s=0,r=e.length;s<r;s++)if(i(e[s],t)===0)return!0;return!1}function Qe(e,t){return Array.isArray(e)&&Number.isNaN(Number(t))}function ft(e,t,i){if(!Qe(e,t))return i(e,t);for(var s=[],r=0;r<e.length;r++){var a=i(e[r],t);a!==void 0&&(s=s.concat(a))}return s}function G(e){return function(t,i,s){var r=s.get(i,t.field);return Array.isArray(r)?r.some(function(a){return e(t,a,s)}):e(t,r,s)}}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}var bs=function(e,t){return e[t]};function Wt(e,t,i){var s=t.lastIndexOf(".");return s===-1?[e,t]:[i(e,t.slice(0,s)),t.slice(s+1)]}function vs(e,t,i){if(i===void 0&&(i=bs),t===le)return e;if(!e)throw new Error('Unable to get field "'+t+'" out of '+String(e)+".");return function(s,r,a){if(r.indexOf(".")===-1)return ft(s,r,a);for(var o=r.split("."),n=s,c=0,d=o.length;c<d;c++)if(!(n=ft(n,o[c],a))||typeof n!="object")return n;return n}(e,t,i)}function Zt(e,t){return e===t?0:e>t?1:-1}function Vt(e,t){return t===void 0&&(t={}),fs(e,ze({get:vs,compare:Zt},t))}var Gt=function(e,t,i){var s=i.interpret;return e.value.some(function(r){return s(r,t)})},ws=function(e,t,i){return!Gt(e,t,i)},ei=function(e,t,i){var s=i.interpret;return e.value.every(function(r){return s(r,t)})},Os=function(e,t,i){return!(0,i.interpret)(e.value[0],t)},Je=function(e,t,i){var s=i.compare,r=(0,i.get)(t,e.field);return Array.isArray(r)&&!Array.isArray(e.value)?He(r,e.value,s):s(r,e.value)===0},ti=function(e,t,i){return!Je(e,t,i)},ii=G(function(e,t,i){var s=i.compare(t,e.value);return s===0||s===-1}),si=G(function(e,t,i){return i.compare(t,e.value)===-1}),ri=G(function(e,t,i){return i.compare(t,e.value)===1}),ai=G(function(e,t,i){var s=i.compare(t,e.value);return s===0||s===1}),ni=function(e,t,i){var s=i.get;if(e.field===le)return t!==void 0;var r=Wt(t,e.field,s),a=r[0],o=r[1],n=function(c){return!!c&&c.hasOwnProperty(o)===e.value};return Qe(a,o)?a.some(n):n(a)},As=G(function(e,t){return typeof t=="number"&&t%e.value[0]===e.value[1]}),oi=function(e,t,i){var s=i.get,r=Wt(t,e.field,s),a=r[0],o=r[1],n=function(c){var d=s(c,o);return Array.isArray(d)&&d.length===e.value};return e.field!==le&&Qe(a,o)?a.some(n):n(a)},ci=G(function(e,t){return typeof t=="string"&&e.value.test(t)}),pe=G(function(e,t,i){var s=i.compare;return He(e.value,t,s)}),li=function(e,t,i){return!pe(e,t,i)},fi=function(e,t,i){var s=i.compare,r=(0,i.get)(t,e.field);return Array.isArray(r)&&e.value.every(function(a){return He(r,a,s)})},ui=function(e,t,i){var s=i.interpret,r=(0,i.get)(t,e.field);return Array.isArray(r)&&r.some(function(a){return s(e.value,a)})},Ds=function(e,t){return e.value.call(t)},We=ze({},Object.freeze({__proto__:null,or:Gt,nor:ws,and:ei,not:Os,eq:Je,ne:ti,lte:ii,lt:si,gt:ri,gte:ai,exists:ni,mod:As,size:oi,regex:ci,within:pe,nin:li,all:fi,elemMatch:ui,where:Ds}),{in:pe});Vt(We);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function ut(e){return e instanceof Date?e.getTime():e&&typeof e.toJSON=="function"?e.toJSON():e}var Is=function(e,t){return Zt(ut(e),ut(t))};function Ze(e,t,i){var s=new gs(e),r=Vt(t,ce({compare:Is},i));if(i&&i.forPrimitives){var a={field:le},o=s.parse;s.setParse(function(n){return o(n,a)})}return us(s.parse,r)}Ze(Re,We);Ze(["$and","$or"].reduce(function(e,t){return e[t]=ce({},e[t],{type:"field"}),e},ce({},Re,{$nor:ce({},Re.$nor,{type:"field",parse:jt.compound})})),We,{forPrimitives:!0});function dt(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function di(e,t,i){return t&&dt(e.prototype,t),i&&dt(e,i),e}function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Fe.apply(this,arguments)}function Ve(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ee(e,t)}function Ee(e,t){return Ee=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s},Ee(e,t)}function Cs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return Array.isArray(e)?e:[e]}var ie="__caslSubjectType__";function gr(e,t){if(t){if(!t.hasOwnProperty(ie))Object.defineProperty(t,ie,{value:e});else if(e!==t[ie])throw new Error("Trying to cast object to subject type "+e+" but previously it was casted to "+t[ie])}return t}var je=function(t){var i=typeof t;return i==="string"||i==="function"},hi=function(t){return t.modelName||t.name},Ss=function(t){return typeof t=="string"?t:hi(t)};function Ts(e){return e.hasOwnProperty(ie)?e[ie]:hi(e.constructor)}function ht(e,t,i){for(var s=i;s<t.length;s++)e.push(t[s])}function pt(e,t){if(!e||!e.length)return t||[];if(!t||!t.length)return e||[];for(var i=0,s=0,r=[];i<e.length&&s<t.length;)e[i].priority<t[s].priority?(r.push(e[i]),i++):(r.push(t[s]),s++);return ht(r,e,i),ht(r,t,s),r}function de(e,t,i){var s=e.get(t);return s||(s=i(),e.set(t,s)),s}var ks=function(t){return t};function $s(e,t){if(Array.isArray(e.fields)&&!e.fields.length)throw new Error("`rawRule.fields` cannot be an empty array. https://bit.ly/390miLa");if(e.fields&&!t.fieldMatcher)throw new Error('You need to pass "fieldMatcher" option in order to restrict access by fields');if(e.conditions&&!t.conditionsMatcher)throw new Error('You need to pass "conditionsMatcher" option in order to restrict access by conditions')}var Rs=function(){function e(i,s,r){r===void 0&&(r=0),$s(i,s),this.action=s.resolveAction(i.action),this.subject=i.subject,this.inverted=!!i.inverted,this.conditions=i.conditions,this.reason=i.reason,this.fields=i.fields?Me(i.fields):void 0,this.priority=r,this.t=s}var t=e.prototype;return t.i=function(){return this.conditions&&!this.u&&(this.u=this.t.conditionsMatcher(this.conditions)),this.u},t.matchesConditions=function(s){if(!this.conditions)return!0;if(!s||je(s))return!this.inverted;var r=this.i();return r(s)},t.matchesField=function(s){return this.fields?s?(this.fields&&!this.o&&(this.o=this.t.fieldMatcher(this.fields)),this.o(s)):!this.inverted:!0},di(e,[{key:"ast",get:function(){var s=this.i();return s?s.ast:void 0}}]),e}();function Fs(e,t){var i={value:e,prev:t,next:null};return t&&(t.next=i),i}function Es(e){e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e.next=e.prev=null}var Ms=function(t){return{value:t.value,prev:t.prev,next:t.next}},xt=function(){return{rules:[],merged:!1}},mt=function(){return new Map},js=function(t,i){!t.h&&i.fields&&(t.h=!0)},qs=function(){function e(i,s){i===void 0&&(i=[]),s===void 0&&(s={}),this.h=!1,this.v=new Map,this.l={conditionsMatcher:s.conditionsMatcher,fieldMatcher:s.fieldMatcher,resolveAction:s.resolveAction||ks},this.p=s.anyAction||"manage",this.g=s.anySubjectType||"all",this.A=s.detectSubjectType||Ts,this.$=i,this.j=this.m(i)}var t=e.prototype;return t.detectSubjectType=function(s){return je(s)?s:s?this.A(s):this.g},t.update=function(s){var r={rules:s,ability:this,target:this};return this.M("update",r),this.$=s,this.j=this.m(s),this.M("updated",r),this},t.m=function(s){for(var r=new Map,a=s.length-1;a>=0;a--){var o=s.length-a-1,n=new Rs(s[a],this.l,o),c=Me(n.action),d=Me(n.subject||this.g);js(this,n);for(var m=0;m<d.length;m++)for(var w=de(r,d[m],mt),O=0;O<c.length;O++)de(w,c[O],xt).rules.push(n)}return r},t.possibleRulesFor=function(s,r){if(r===void 0&&(r=this.g),!je(r))throw new Error('"possibleRulesFor" accepts only subject types (i.e., string or class) as the 2nd parameter');var a=de(this.j,r,mt),o=de(a,s,xt);if(o.merged)return o.rules;var n=s!==this.p&&a.has(this.p)?a.get(this.p).rules:void 0,c=pt(o.rules,n);return r!==this.g&&(c=pt(c,this.possibleRulesFor(s,this.g))),o.rules=c,o.merged=!0,c},t.rulesFor=function(s,r,a){var o=this.possibleRulesFor(s,r);if(a&&typeof a!="string")throw new Error("The 3rd, `field` parameter is expected to be a string. See https://stalniy.github.io/casl/en/api/casl-ability#can-of-pure-ability for details");return this.h?o.filter(function(n){return n.matchesField(a)}):o},t.on=function(s,r){var a=this,o=this.v.get(s)||null,n=Fs(r,o);return this.v.set(s,n),function(){var c=a.v.get(s);!n.next&&!n.prev&&c===n?a.v.delete(s):n===c&&a.v.set(s,n.prev),Es(n)}},t.M=function(s,r){for(var a=this.v.get(s)||null;a!==null;){var o=a.prev?Ms(a.prev):null;a.value(r),a=o}},di(e,[{key:"rules",get:function(){return this.$}}]),e}(),Ns=function(e){Ve(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;return i.can=function(){var r=this.relevantRuleFor.apply(this,arguments);return!!r&&!r.inverted},i.relevantRuleFor=function(r,a,o){for(var n=this.detectSubjectType(a),c=this.rulesFor(r,n,o),d=0,m=c.length;d<m;d++)if(c[d].matchesConditions(a))return c[d];return null},i.cannot=function(){return!this.can.apply(this,arguments)},t}(qs),Ps={$eq:Be,$ne:Qt,$lt:Bt,$lte:Ht,$gt:ge,$gte:Xe,$in:ye,$nin:Yt,$all:Kt,$size:_t,$regex:zt,$options:Jt,$elemMatch:Ut,$exists:Xt},Ls={eq:Je,ne:ti,lt:si,lte:ii,gt:ri,gte:ai,in:pe,nin:li,all:fi,size:oi,regex:ci,elemMatch:ui,exists:ni,and:ei},Us=Ze(Ps,Ls),_s=/[-/\\^$+?.()|[\]{}]/g,Ys=/\.?\*+\.?/g,Ks=/\*+/,Xs=/\./g;function Bs(e,t,i){var s=i[0]==="*"||e[0]==="."&&e[e.length-1]==="."?"+":"*",r=e.indexOf("**")===-1?"[^.]":".",a=e.replace(Xs,"\\$&").replace(Ks,r+s);return t+e.length===i.length?"(?:"+a+")?":a}function Hs(e,t,i){return e==="."&&(i[t-1]==="*"||i[t+1]==="*")?e:"\\"+e}function Qs(e){var t=e.map(function(s){return s.replace(_s,Hs).replace(Ys,Bs)}),i=t.length>1?"(?:"+t.join("|")+")":t[0];return new RegExp("^"+i+"$")}var zs=function(t){var i;return function(s){return typeof i=="undefined"&&(i=t.every(function(r){return r.indexOf("*")===-1})?null:Qs(t)),i===null?t.indexOf(s)!==-1:i.test(s)}},Js=function(e){Ve(t,e);function t(i,s){return i===void 0&&(i=[]),s===void 0&&(s={}),e.call(this,i,Fe({conditionsMatcher:Us,fieldMatcher:zs},s))||this}return t}(Ns),Ws=function(t){return'Cannot execute "'+t.action+'" on "'+t.subjectType+'"'},pi=function(t){this.message=t};pi.prototype=Object.create(Error.prototype);var Zs=function(e){Ve(t,e),t.setDefaultMessage=function(r){this._=typeof r=="string"?function(){return r}:r},t.from=function(r){return new this(r)};function t(s){var r;return r=e.call(this,"")||this,r.ability=s,typeof Error.captureStackTrace=="function"&&(r.name="ForbiddenError",Error.captureStackTrace(Cs(r),r.constructor)),r}var i=t.prototype;return i.setMessage=function(r){return this.message=r,this},i.throwUnlessCan=function(){var r,a=(r=this.ability).relevantRuleFor.apply(r,arguments);if(!(a&&!a.inverted)){this.action=arguments.length<=0?void 0:arguments[0],this.subject=arguments.length<=1?void 0:arguments[1],this.subjectType=Ss(this.ability.detectSubjectType(arguments.length<=1?void 0:arguments[1])),this.field=arguments.length<=2?void 0:arguments[2];var o=a?a.reason:"";throw this.message=this.message||o||this.constructor._(this),this}},t}(pi);Zs._=Ws;Object.freeze({__proto__:null});var qe=[{action:"read",subject:"auth"},{action:"read",subject:"open"}];const Vs=new Js(qe);var yt=Vs;const ne=W("user",{state:()=>({user:{},access:[],permissions:[]}),getters:{getUser:e=>e.user,userData:e=>e.user,fullName:e=>`${e.user[35]}${e.user[36]!==""?` ${e.user[36]} `:" "}${e.user[37]}`,userLoggedIn:e=>!!e.user[3],userAccess:e=>e.access,employeeLinkRequired:e=>e.user[84]===!0&&(e.user[85]===!0||e.user[82]===!1||e.user[82]===!0&&e.user[80]===""),verifyRequired:e=>(e.user[32]==="Candidate"||e.user[32]==="Employee"||e.user[32]==="Project User")&&!e.user.verified,passwordRequired:e=>e.user[17]||e.user[7]==="",employeeLinked:e=>e.user[82],employeeProfileRID:e=>e.user[80],createEmployeeProfile:e=>e.user[85],userPermissions:e=>e.permissions,primaryOffice:e=>e.access.find(t=>t[15]===!0&&t[7]==="Office")||null,userOffices:e=>e.access.filter(t=>t[7]==="Office"),userProjects:e=>e.access.filter(t=>t[7]==="Project")},actions:{async fetchUser(e){const t=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}`,i=[{7:{value:"User"},8:{value:t},9:{value:e.rid?e.rid:1},14:{value:76}}],s=await A.fetchFromStructureApp({fields:i}),{user:r,access:a,permissions:o}=s.data;return this.setUser(r,!0),this.setAccess(a,!0),this.setPermissions(o,!0),s},async updateUserData({fields:e}){if(!e)throw"No Fields Provided";e[3]===void 0&&Object.assign(e,{3:{value:this.userData[3]}});const{data:t}=await A.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:[e],formatObject:76}),i=t[0][76],s=Object.assign({},i);return delete s.access,delete s.permissions,this.setPermissions(i.permissions,!0),this.setAccess(i.access,!0),this.setUser(s,!0),i},setUser(e,t){this.user=e,t&&y.setItem(C.storageUserKeyName,e)},setPhoneNumberVerified(e){this.user[50]=e},setVerified(e){this.user.verified=e},setIdentityVerified(e){typeof e=="number"?this.user[80]=e:this.user[85]=e},setAccess(e,t){this.access=e,t&&y.setItem(C.storageAccessKeyName,e)},setPermissions(e,t){for(let s=0;s<e.length;s++)if(e[s].conditions){if(e[s].conditions.deny&&!Array.isArray(e[s].conditions.deny)){let r=e[s].conditions.deny.split(",");r.forEach(a=>{a=a.trim()}),e[s].conditions.deny=r;continue}if(e[s].conditions.accept&&!Array.isArray(e[s].conditions.accept)){let r=e[s].conditions.accept.split(",");r.forEach(a=>{a=a.trim()}),e[s].conditions.accept=r;continue}}const i=e.concat(qe);yt.update(i),this.permissions=i,t&&y.setItem(C.storagePermissionsKeyName,e)},async logout(){return await A.logout(),yt.update(qe)}}}),Ne=W("boardAppStore",{state:()=>({boardApp:{},requestJobs:null,requestedTimestamp:null}),getters:{getBoardApp:e=>e.boardApp,profileData(){const{profileData:e}=J();return e},jobsForBoard(){if(this.requestJobs){const{employeeData:e}=E(),t=this.requestJobs;return e[3]||(t.forEach(i=>{Object.assign(i,{recommended:i[68]===e[53]&&i[69]===e[51]});const s=e[537].find(r=>r[10]===i[3]);s!==void 0&&Object.assign(i,{applied:!0,appliedOn:s[1].$d!==void 0?N.formatDate(s[1].$d,"MM-DD-YYYY"):s[1].date})}),t.sort((i,s)=>i.recommended===s.recommended?s[1].isAfter(i[1]):i.recommended?-1:1)),t}else return[]},timeRequested(){return this.requestedTimestamp}},actions:{async getRequestJobs(){const e=[{14:{value:224},9:{value:1},8:{value:"{'17'.EX.'Open'}AND{'182'.EX.'false'}AND{'175'.EX.'true'}"},7:{value:"Table Query"},6:{value:"bpzpyqcu4"}}],{data:t}=await A.fetchFromProjectsApp({fields:e});if(t.length>0)return this.setRequestJobs(t,!0),this.requestedTimestamp=b(),t;throw"No jobs"},async applyOnBoard({job:e}){const{employeeData:t}=E(),{data:i}=await A.upsertRecordsXML({to:"bsfq6uktu",data:[{6:{value:t[3]},8:{value:e[56]},10:{value:e[3]},12:{value:e[61]}}],fieldsToReturn:[19],formatObject:19});if(console.log(i),i[0])return i[0][19];throw"Cannot apply"},storeBoardApp(e){this.boardApp=e},setRequestJobs(e,t){const i=e.sort((s,r)=>r[1].isAfter(s[1]));this.requestJobs=i,t&&y.setItem(C.storageJobBoardKeyName,i)}}}),U=W("kiosk",{state:()=>({kiosk:null}),getters:{kioskAccount:e=>e.kiosk,kioskHiringCenter:e=>e.kiosk?e.kiosk[37]:null,hasAffirmative:e=>e.kiosk?e.kiosk.voluntaryForms.affirmative:!1,hasVets:e=>e.kiosk?e.kiosk.voluntaryForms.vets:!1,hasDisability:e=>e.kiosk?!!e.kiosk.voluntaryForms.disability:!1,goToVoluntary:e=>e.hasAffirmative||e.hasVets||e.hasDisability,hasTests:e=>e.kiosk&&e.kiosk.tests?e.kiosk.tests.length>0:!1,testForCraft:e=>{const{lang:t}=B(),{craftId:i}=J();return e.kiosk&&e.kiosk.tests&&e.kiosk.tests.find(s=>s[15]===i&&s[16]===t)||!1}},actions:{async fetchKioskAccount(e,t){const i=`{'11'.EX.'${e.email}'}AND{'6'.EX.'Active'}`,s=[{7:{value:"Kiosks"},8:{value:i},9:{value:1},14:{value:30}}];if(!this.kiosk||t){const{data:r}=await A.fetchFromStructureApp({fields:s});if(r.length>0){const{setHiringCenter:a}=_(),o=Object.assign({},r[0][37]);delete o.kiosk,r[0][37]=o,this.setKioskAccount(r[0],!0),a(o,!0)}return r}else return[this.kiosk]},setKioskAccount(e,t){this.kiosk=e,t&&y.setItem(C.storageKioskAccount,e)}}}),J=W("profile",{state:()=>({profile:{6:{field:"Related Employee"},15:{field:"Related Hiring Center"},19:{field:"Related Job"},23:{field:"First"},24:{field:"Middle"},25:{field:"Last"},26:{field:"Suffix"},27:{field:"Phone"},28:{field:"Email"},32:{field:"Street1"},33:{field:"Street2"},34:{field:"City"},35:{field:"State"},36:{field:"Zip"},37:{field:"Country"},38:{field:"Preferred Name"},40:{field:"Related Craft"},42:{field:"Related Experience Option"},44:{field:"Related Employment Status"},46:{field:"Related Contact Method"},49:{field:"Related Kiosk Session"},67:{field:"Related Available Language"}},voluntaryForms:{affirmative:{6:{field:"Related Kiosk Profile"},12:{field:"Related Hiring Center"},16:{field:"Related Affirmative Option (Gender)"},18:{field:"Related Job"},20:{field:"Related Affirmative Option (Ethnicity)"},22:{field:"Related Affirmative Option (Race)"},25:{field:"Related Kiosk Session"},24:{field:"Completion Timestamp"}},veterans:{6:{field:"Related Kiosk Profile"},8:{field:"Related Veteran Status Form"},10:{field:"Related Hiring Center"},16:{field:"Initials"},18:{field:"Related Kiosk Session"},17:{field:"Completion Timestamp"}},disability:{6:{field:"Completion Timestamp"},7:{field:"Name Entered"},8:{field:"Date Entered"},9:{field:"Related Kiosk Profile"},10:{field:"Related Disability Form"},15:{field:"Related Disability Form Option"},17:{field:"Related Hiring Center"},19:{field:"Related Job"},21:{field:"Related Kiosk Session"}},children:{vets:{field:"Veteran Form Selections",value:[]}}},step:0,loading:!0,completed:!1,jobBoardApplication:{},vetsSelections:null,vetsForm:null,craft:null,levelStartTest:null}),getters:{personalInfoNeeded(){const{employeeData:e}=E();return!(e[3]&&e[20]!==""&&e[22]!==""&&e[41]!==""&&e[43]!==""&&e[44]!==""&&e[45]!==""&&e[46]!=="")},onJobBoard(){const{getBoardApp:e}=Ne();return!(!e[3]||e[3]===void 0)},profileData:e=>e.profile,profileComplete:e=>e.completed,loadingState:e=>e.loading,proceedToTest(){const{onKiosk:e}=B(),{testForCraft:t}=U(),{employeeData:i}=E();return i.needsTest&&i.needsTest?e&&!!t:!1},selectedPreferencesOnProfile(){return{craft:this.profile[40],language:this.profile[67]}},experienceLevelOnProfile(){return this.profile[42].value?this.profile[42].value:null},submitProfileData(){const{employeeData:e}=E(),{hiringCenter:t}=_(),i={},s=[3];for(const[r,a]of Object.entries(this.profile))a.value!==void 0&&a.value!==null&&(Object.assign(i,{[r]:{value:a.value}}),s.push(parseInt(r)));return i[6]===void 0?(Object.assign(i,{6:{value:e[3]}}),s.push(6)):i[6].value=e[3],i[15]===void 0?(Object.assign(i,{15:{value:t?t[3]:""}}),s.push(15)):i[15].value=t?t[3]:"",i[77]&&delete i[77],s.push(77),{to:"bp3gci48x",data:[i],fieldsToReturn:s}},submitDisabilityData(){const{employeeData:e}=E(),{hiringCenter:t}=_(),i={},s=[];for(const[r,a]of Object.entries(this.voluntaryForms.disability))a.value!==void 0&&a.value!==null&&(Object.assign(i,{[r]:{value:a.value}}),s.push(parseInt(r)));return i[17]===void 0?(Object.assign(i,{17:{value:t?t[3]:""}}),s.push(17)):i[17].value=t?t[3]:"",this.onJobBoard?i[24]===void 0?(Object.assign(i,{24:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),s.push(24)):i[24].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":i[9]===void 0?(Object.assign(i,{9:{value:this.profile[3]?this.profile[3].value:""}}),s.push(9)):i[9].value=this.profile[3]?this.profile[3].value:"",i[22]===void 0?(Object.assign(i,{22:{value:e[3]?e[3]:""}}),s.push(22)):i[22].value=e[3]?e[3]:"",{to:"bqaiuve9q",data:[i],fieldsToReturn:s}},submitAffirmativeData(){const{employeeData:e}=E(),{hiringCenter:t}=_(),i={},s=[];for(const[r,a]of Object.entries(this.voluntaryForms.affirmative))a.value!==void 0&&a.value!==null&&(Object.assign(i,{[r]:{value:a.value}}),s.push(parseInt(r)));return i[12]===void 0?(Object.assign(i,{12:{value:t?t[3]:""}}),s.push(12)):i[12].value=t?t[3]:"",this.onJobBoard?i[38]===void 0?(Object.assign(i,{38:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),s.push(38)):i[38].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":i[6]===void 0?(Object.assign(i,{6:{value:this.profile[3]?this.profile[3].value:""}}),s.push(6)):i[6].value=this.profile[3]?this.profile[3].value:"",i[35]===void 0?(Object.assign(i,{35:{value:e[3]?e[3]:""}}),s.push(35)):i[35].value=e[3]?e[3]:"",s.push(33),s.push(17),{to:"bp3gcmump",data:[i],fieldsToReturn:s}},async submitVeteransData(){const{employeeData:e}=E(),{hiringCenter:t}=_(),i={},s=[];if(this.vetsForm){for(const[r,a]of Object.entries(this.voluntaryForms.veterans))a.value!==void 0&&a.value!==null?(Object.assign(i,{[r]:{value:a.value}}),s.push(parseInt(r))):this.vetsForm[r]&&this.vetsForm[r].value&&(Object.assign(i,{[r]:{value:this.vetsForm[r].value}}),s.push(parseInt(r)));return i[10]===void 0?(Object.assign(i,{10:{value:t?t[3]:""}}),s.push(10)):i[10].value=t?t[3]:"",this.onJobBoard?i[20]===void 0?(Object.assign(i,{20:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),s.push(20)):i[20].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":i[6]===void 0?(Object.assign(i,{6:{value:this.profile[3]?this.profile[3].value:""}}),s.push(6)):i[6].value=this.profile[3]?this.profile[3].value:"",i[19]===void 0?(Object.assign(i,{19:{value:e[3]?e[3]:""}}),s.push(19)):i[19].value=e[3]?e[3]:"",s.includes(3)||s.push(3),{to:"bqamq3kr4",data:[i],fieldsToReturn:s}}else return{}},vetsFormSelections(){const e=this.vetsSelections?this.vetsSelections:[],t=[];return e.length>0&&e.forEach(i=>{const s={};for(const[r,a]of Object.entries(i))a.value!==void 0&&a.value!==null&&Object.assign(s,{[r]:{value:a.value}});s[6]===void 0?Object.assign(s,{6:{value:this.voluntaryForms.veterans[3]?this.voluntaryForms.veterans[3].value:""}}):s[6].value=this.voluntaryForms.veterans[3]?this.voluntaryForms.veterans[3].value:"",this.onJobBoard||(s[10]===void 0?Object.assign(s,{10:{value:this.profile[19]?this.profile[19].value:""}}):s[10].value=this.profile[19]?this.profile[19].value:""),t.push(s)}),{to:"bqamrfpj9",data:t,fieldsToReturn:[1,2,3,8,9]}},startLevelForTest:e=>e.levelStartTest,craftId:e=>e.craft},actions:{async submitProfileToQB(){const{updateEmployeeData:e}=E(),{onKiosk:t}=B(),{testForCraft:i}=U(),{hiringCenter:s}=_();if(this.onJobBoard)return(await e({fields:{16:{value:s[3]},20:{value:this.profile[23].value===void 0?"":this.profile[23].value},21:{value:this.profile[24].value===void 0?"":this.profile[24].value},22:{value:this.profile[25].value===void 0?"":this.profile[25].value},23:{value:this.profile[26].value===void 0?"":this.profile[26].value},41:{value:this.profile[32].value===void 0?"":this.profile[32].value},42:{value:this.profile[33].value===void 0?"":this.profile[33].value},43:{value:this.profile[34].value===void 0?"":this.profile[34].value},44:{value:this.profile[35].value===void 0?"":this.profile[35].value},45:{value:this.profile[36].value===void 0?"":this.profile[36].value},46:{value:this.profile[37].value===void 0?"":this.profile[37].value},51:{value:this.profile[40].value===void 0?"":this.profile[40].value},53:{value:this.profile[42].value===void 0?"":this.profile[42].value},55:{value:this.profile[44].value===void 0?"":this.profile[44].value},57:{value:this.profile[46].value===void 0?"":this.profile[46].value}}})).needsTest&&i?(e({fields:{122:{value:7}}}),this.storeLocalForage(),this.submitProfileData):(this.storeLocalForage(),this.submitProfileData);{const{data:r}=await A.upsertRecordsXML(this.submitProfileData);if(r[0]){const a=r[0];!this.profile[3]||this.profile[3].value===void 0?Object.assign(this.profile,{3:{value:r[0][3]}}):this.profile[3].value=r[0][3],!this.profile[77]||this.profile[77].value===void 0?Object.assign(this.profile,{77:{value:r[0][77]}}):this.profile[77].value=r[0][77];const o={16:{value:s[3]},20:{value:a[23]===void 0?"":a[23]},21:{value:a[24]===void 0?"":a[24]},22:{value:a[25]===void 0?"":a[25]},23:{value:a[26]===void 0?"":a[26]},41:{value:a[32]===void 0?"":a[32]},42:{value:a[33]===void 0?"":a[33]},43:{value:a[34]===void 0?"":a[34]},44:{value:a[35]===void 0?"":a[35]},45:{value:a[36]===void 0?"":a[36]},46:{value:a[37]===void 0?"":a[37]},51:{value:a[40]===void 0?"":a[40]},53:{value:a[42]===void 0?"":a[42]},55:{value:a[44]===void 0?"":a[44]},57:{value:a[46]===void 0?"":a[46]}},n=await e({fields:o});return n[119]!==void 0&&(this.profile[77].value=n[119]==="Yes"?"No":"Yes"),this.storeLocalForage(),n.needsTest&&i&&!t&&await e({fields:{122:{value:7}}}),a}else throw"Something went wrong"}},async submitDisabilityToQB(){const{updateEmployeeFromApp:e}=E(),{data:t}=await A.upsertRecordsXML(this.submitDisabilityData);if(t[0])Object.assign(this.voluntaryForms.disability,{3:{value:t[0][3]}}),e({action:"push",values:this.voluntaryForms.disability,key:"disability"});else throw"Something went wrong";return this.submitDisabilityData},async submitAffirmativeToQB(){const{updateEmployeeData:e}=E(),{data:t}=await A.upsertRecordsXML(this.submitAffirmativeData);if(t[0]){Object.assign(this.voluntaryForms.affirmative,{3:{value:t[0][3]}});const i={406:{value:t[0][33]},380:{value:t[0][17]}};e({fields:i})}else throw"Something went wrong";return this.submitAffirmativeData},async submitVeteransToQB(){const{updateEmployeeFromApp:e}=E(),t=await this.submitVeteransData,{data:i}=await A.upsertRecordsXML(t);if(i[0]){if(this.voluntaryForms.veterans[3]===void 0?Object.assign(this.voluntaryForms.veterans,{3:{value:i[0][3]}}):this.voluntaryForms.veterans[3].value=i[0][3],(await A.upsertRecordsXML(this.vetsFormSelections)).data.length>0)return Object.assign(this.voluntaryForms.veterans,{selections:i}),e({action:"push",values:this.voluntaryForms.veterans,key:"vets"}),!0;throw"Cannot save vets form selections"}else throw"Cannot save veterans"},async updateProfile(e){if(this.completed=e.completed===void 0?!1:e.completed,this.step=e.next?e.next:0,e.values&&Object.entries(e.values).length>0)for(const[t,i]of Object.entries(e.values))i&&(this.profile[t]!==void 0?(this.profile[t].value=i.value?i.value:i||"",this.profile[t].label=i.label?i.label:""):Object.assign(this.profile,{[t]:{value:!i.value||i.value===void 0?!i||i===void 0?"":i:i.value,label:!i.label||i.label===void 0?"":i.label}}));return this.storeLocalForage(),this.submitProfileData},async updateVoluntaryForm(e){this.step=e.next?e.next:0;const t=this.voluntaryForms[e.type];if(e.values&&Object.entries(e.values).length>0){for(const[i,s]of Object.entries(e.values))t[i]!==void 0?Array.isArray(t[i].value)?s.value&&Array.isArray(s.value)?s.value.forEach(r=>{t[i].value.push(r)}):s&&Array.isArray(s)?s.forEach(r=>{t[i].value.push(r)}):t[i].value.push(s.value?s.value:s||""):(t[i].value=s.value?s.value:s||"",t[i].label=s.label?s.label:""):Object.assign(t,{[i]:{value:s.value?s.value:s||"",label:s.label?s.label:""}});return!0}else throw"Missing data"},async updateVetsForm({next:e,values:t,selections:i}){return this.step=e||0,this.vetsForm=t,this.vetsSelections=i,!0},async updateVetsSelections(e){this.vetsSelections=e},updateStep(e){this.step=e},dataLoaded(e){this.loading=e===void 0?!1:e},toggleLoader(e){this.loading=e},setLevelStartTest(e){this.levelStartTest=e},setCraft(e){this.craft=e},resetProfile(){this.profile={6:{field:"Related Employee"},15:{field:"Related Hiring Center"},19:{field:"Related Job"},23:{field:"First"},24:{field:"Middle"},25:{field:"Last"},26:{field:"Suffix"},27:{field:"Phone"},28:{field:"Email"},32:{field:"Street1"},33:{field:"Street2"},34:{field:"City"},35:{field:"State"},36:{field:"Zip"},37:{field:"Country"},38:{field:"Preferred Name"},40:{field:"Related Craft"},42:{field:"Related Experience Option"},44:{field:"Related Employment Status"},46:{field:"Related Contact Method"},49:{field:"Related Kiosk Session"},67:{field:"Related Available Language"}},this.step=0,this.voluntaryForms={affirmative:{6:{field:"Related Kiosk Profile"},12:{field:"Related Hiring Center"},16:{field:"Related Affirmative Option (Gender)"},18:{field:"Related Job"},20:{field:"Related Affirmative Option (Ethnicity)"},22:{field:"Related Affirmative Option (Race)"},25:{field:"Related Kiosk Session"},24:{field:"Completion Timestamp"}},veterans:{6:{field:"Related Kiosk Profile"},8:{field:"Related Veteran Status Form"},10:{field:"Related Hiring Center"},16:{field:"Initials"},18:{field:"Related Kiosk Session"},17:{field:"Completion Timestamp"}},disability:{6:{field:"Completion Timestamp"},7:{field:"Name Entered"},8:{field:"Date Entered"},9:{field:"Related Kiosk Profile"},10:{field:"Related Disability Form"},15:{field:"Related Disability Form Option"},17:{field:"Related Hiring Center"},19:{field:"Related Job"},21:{field:"Related Kiosk Session"}},children:{vets:{field:"Veteran Form Selections",value:[]}}}},setProfile(e,t){this.profile=e,t&&y.setItem(C.storageProfile,e)},setProfileStep(e,t){this.step=e,t&&y.setItem(C.storageProfileStep,e)},setVoluntaryForms(e,t){this.voluntaryForms=e,t&&y.setItem(C.storageProfileVoluntaryForms,e)},storeLocalForage(){const e=JSON.parse(JSON.stringify(this.profile)),t=JSON.parse(JSON.stringify(this.voluntaryForms));y.setItem(C.storageProfile,e),y.setItem(C.storageProfileStep,this.step),y.setItem(C.storageProfileVoluntaryForms,t)}}}),E=W("employee",{state:()=>({devEmployee:{3:46},employee:{},emergencyContacts:[],history:[],training:[{3:2,6:"Security Passport",7:1,8:"Identification Credentials",11:"",20:"IDs",21:1},{3:1,6:"TWIC Card",7:1,8:"Identification Credentials",11:"",20:"IDs",21:1}],jobBoardApplications:[]}),getters:{noTasks(){return!this.checkInActive&&this.employeeData.complete&&this.voluntaryFormsComplete&&!this.showInProcess&&!this.employeeData.needsTest},employeeActive(){return this.employeeData[408]==="Active"},checkInActive(){const{checkedIn:e,checkInData:t}=B();return this.showInProcess||this.employeeData[79]===6||t[36]?!1:!!(this.employeeData[408]==="Active"&&e)},voluntaryFormsSubmitted(){return this.employee[3]?{disability:this.employee.disability.length>0?this.employee.disability.sort((e,t)=>e[3]>t[3]?-1:1)[0]:null,affirmative:this.employee.affirmative.length>0?this.employee.affirmative.sort((e,t)=>e[3]>t[3]?-1:1)[0]:null,vets:this.employee.vets.length>0?this.employee.vets.filter(e=>e.selections.length>0).sort((e,t)=>e[3]>t[3]?-1:1)[0]:null}:null},voluntaryFormsComplete(){return!(!this.voluntaryFormsSubmitted||!this.voluntaryFormsSubmitted.disability||!this.voluntaryFormsSubmitted.affirmative||!this.voluntaryFormsSubmitted.vets)},applicationsSubmitted:e=>e.jobBoardApplications,showInProcess(){return this.employee[519]?this.employee[519]===1:!1},showEmployment(){return this.employee[408]?this.employee[408]==="Active":!1},employeeData:e=>e.employee,employeeAvailable(){return!!this.employee[3]},offerData(){return this.employee[1516]&&!Array.isArray(this.employee[1516].offer)?this.employee[1516].offer:null},processingData(){return this.employee[1516]&&!Array.isArray(this.employee[1516].processing)?this.employee[1516].processing:null},savedEmergencyContacts(){return this.emergencyContacts},savedHistory(){const e=[];return this.employee[513]&&this.employee[513].forEach(t=>{const i=t[12].includes("-")?t[12].split("-"):null,s=t[13].includes("-")?t[13].split("-"):null,r=i?N.buildDate({year:i[2],date:i[1],month:i[0]}):t[12],a=s?N.buildDate({year:s[2],date:s[1],month:s[0]}):t[13];t[12]=N.formatDate(r,"MM/DD/YYYY"),t[13]=N.formatDate(a,"MM/DD/YYYY"),Object.assign(t,{company:{value:t[6],label:t[7]}}),Object.assign(t,{craft:{value:t[15],label:t[16]}}),e.push(t)}),e},savedTraining(){return this.training},getEmployee:e=>e.employee,socialRequired:e=>e.employee[3]?e.employee[109]===""||!e.employee[109]:!1},actions:{async updateEmployeeData({fields:e}){if(!e)throw"No Fields Provided";e[3]===void 0&&Object.assign(e,{3:{value:this.employeeData[3]}});const{data:t}=await A.upsertRecordsXML({to:"bp3gb7ng2",fieldsToReturn:[500],data:[e],formatObject:500}),i=t[0][500];return this.setEmployee(i,!0),i},setEmployee(e,t){const{setLang:i}=B(),{setCraft:s,setLevelStartTest:r}=J();e[507]&&(this.emergencyContacts=e[507]),e.lang&&i(e.lang),e.craft&&s(e.craft),e[53]&&r(e[53]),this.employee=e,t&&y.setItem(C.storageEmployeeKeyName,e)},async removeContact(e){await A.upsertRecordsXML({to:"bruxz7dsh",data:[{3:{value:e},17:{value:!0},18:{value:new Date}}],fieldsToReturn:[3,14],formatObject:14}),this.employee[507]=this.employee[507].filter(t=>t[3]!==e)},async addContact(e){const{data:t}=await A.upsertRecordsXML({to:"bruxz7dsh",data:[{6:{value:e[6]},7:{value:e[7]},8:{value:e[16]},10:{value:this.employee[3]},11:{value:e[11]}}],fieldsToReturn:[3,14],formatObject:14});if(!t.length>0)throw"Cannot save contact";e=t[0][14],this.employee[507].push(e)},async updateContact(e){const{data:t}=await A.upsertRecordsXML({to:"bruxz7dsh",data:[{3:{value:e[3]},6:{value:e[6]},7:{value:e[7]},8:{value:e[16]},11:{value:e[11]}}],fieldsToReturn:[3,14],formatObject:14});this.employee[507].forEach((i,s)=>{i[3]===e[3]&&(this.employee[507][s]=t[0][14])})},async addHistory(e){const t={6:{value:e.company.value},10:{value:e[10]},11:{value:e[11]},12:{value:e[12]},13:{value:e[13]},15:{value:e.craft.value},34:{value:this.employeeData[3]}};this.employeeData[234]>0&&Object.assign(t,{8:{value:this.employeeData[234]}});const{data:i}=await A.upsertRecordsXML({to:"bpzpy6pj7",data:[t],fieldsToReturn:[3]});if(!i.length>0)throw"Cannot save experience";e[3]=i[0][3],e[12]=N.formatDate(N.addToDate(e[12],{days:1}),"MM/DD/YYYY"),e[13]=N.formatDate(N.addToDate(e[13],{days:1}),"MM/DD/YYYY"),this.employee[513]&&Array.isArray(this.employee[513])?this.employee[513].push(e):this.employee[513]=[e]},async updateHistory(e){const{data:t}=await A.upsertRecordsXML({to:"bpzpy6pj7",data:[{3:{value:e[3]},6:{value:e.company.value},10:{value:e[10]},11:{value:e[11]},12:{value:e[12]},13:{value:e[13]},15:{value:e.craft.value},34:{value:this.employeeData[3]}}],fieldsToReturn:[3]});if(!t.length>0)throw"Cannot save history";e[12]=N.formatDate(N.addToDate(e[12],{days:1}),"MM/DD/YYYY"),e[13]=N.formatDate(N.addToDate(e[13],{days:1}),"MM/DD/YYYY"),this.employee[513].forEach((i,s)=>{i[3]===e[3]&&(this.employee[513][s]=e)})},async removeHistory(e){const{data:t}=await A.upsertRecordsXML({to:"bpzpy6pj7",data:[{3:{value:e},32:{value:!0},33:{value:new Date}}],fieldsToReturn:[3]});if(!t.length>0)throw"Cannot save history";this.employee[513]=this.employee[513].filter(i=>i[3]!==t[0][3])},addTraining(e){this.training.push(e)},updateTraining(e){this.training.forEach((t,i)=>{t[3]===e[3]&&(this.training[i]=e)})},removeTraining(e){this.training=this.training.filter(t=>t[3]!==e)},async applyOnBoard(e){const{data:t}=await A.upsertRecordsXML({to:"bsfq6uktu",data:[{6:{value:this.employeeData[3]},8:{value:e[56]},10:{value:e[3]},12:{value:e[61]}}],fieldsToReturn:[19],formatObject:19});if(t[0])return this.employee[537].push(t[0][19]),t;throw"Cannot apply"},async acceptDeployment(e){const{data:t}=await A.upsertRecordsXML({to:"bsf2qqd63",data:[{8:{value:this.employeeData[3]},9:{value:e},6:{value:new Date},7:{value:"accept"}}],fieldsToReturn:[11],formatObject:11});if(t[0])return this.employee[1516].processing=t[0][11],t;throw"Cannot accept"},updateEmployeeFromApp({action:e,values:t,key:i}){e==="push"?this.employee[i]===void 0?Object.assign(this.employee,{[i]:t}):this.employee[i].push(t):e==="replace"&&(this.employee[i]===void 0?Object.assign(this.employee,{[i]:t}):this.employee[i]=t)}}});class Gs{formatName(t){if(typeof t!="string")return"";const i=t.trim().split(" ");if(i.length===1){if(t=t.toLowerCase(),t==="de"||t==="dela"||t==="del"||t==="las"||t==="y"||t==="la")return t;try{t=t.charAt(0).toUpperCase()+t.slice(1)}catch{t=t.charAt(0)+t.slice(1)}if(t.startsWith("Mc"))try{t=t.slice(0,2)+t.charAt(2).toUpperCase()+t.slice(3)}catch{t=t.slice(0,2)+t.charAt(2)+t.slice(3)}if(t.includes("'")){const s=t.indexOf("'");try{t=t.slice(0,s+1)+t.charAt(s+1).toUpperCase()+t.slice(s+2)}catch{t=t.slice(0,s+1)+t.charAt(s+1)+(t.slice(s+2)?t.slice(s+2):"")}}if(t.includes("-")){const s=t.indexOf("-");try{t=t.slice(0,s+1)+t.charAt(s+1).toUpperCase()+t.slice(s+2)}catch{t=t.slice(0,s+1)+t.charAt(s+1)+(t.slice(s+2)?t.slice(s+2):"")}}return t}else{for(let s=i.length-1;s>=0;s--)if(i[s]===""){i.splice(s);continue}else{try{i[s]=i[s].toLowerCase()}catch{return i[s]}if(i[s]==="de"||i[s]==="dela"||i[s]==="del"||i[s]==="la"||i[s]==="las"||i[s]==="y")if(s===0&&i[s]==="la"){try{i[s]=i[s].charAt(0).toUpperCase()+i[s].slice(1)}catch{i[s]=i[s].charAt(0)+i[s].slice(1)}continue}else continue;else{try{i[s]=i[s].charAt(0).toUpperCase()+i[s].slice(1)}catch{i[s]=i[s].charAt(0)+i[s].slice(1)}if(i[s].startsWith("Mc"))try{i[s]=i[s].slice(0,2)+i[s][2].toUpperCase()+i[s].slice(3)}catch{i[s]=i[s].slice(0,2)+i[s][2]+i[s].slice(3)}if(i[s].includes("'")){const r=i[s].indexOf("'");try{i[s]=i[s].slice(0,r+1)+i[s][r+1].toUpperCase()+(i[s].slice(r+2)?i[s].slice(r+2):"")}catch{i[s]=i[s].slice(0,r+1)+(i[s][r+1]?i[s][r+1]:"")+(i[s].slice(r+2)?i[s].slice(r+2):"")}}if(i[s].includes("-")){const r=i[s].indexOf("-");try{i[s]=i[s].slice(0,r+1)+i[s][r+1].toUpperCase()+i[s].slice(r+2)}catch{i[s]=i[s].slice(0,r+1)+(i[s][r+1]?i[s][r+1]:"")+(i[s].slice(r+2)?i[s].slice(r+2):"")}}}}return i.join(" ")}}calculateDuration(t){return N.getDateDiff(t.end,t.start,t.unit)}formatPhone(t){const s=(""+t).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return s?`(${s[1]}) ${s[2]}-${s[3]}`:null}async converter(t){let i;return t&&Array.isArray(t)?(i=[],t.forEach(s=>{const r=JSON.parse(s);i.push(r)})):i=JSON.parse(t),i}async decode(t){if(t){const i=document.createElement("div");return i.innerHTML=t,i.childNodes[0].nodeValue}else return""}}function er(){return{helpers:new Gs}}const{helpers:gt}=er(),tr=25,ir=W("assessment",{state:()=>({step:0,loading:!0,tools:[],testData:{allQuestions:[],selectedQuestions:[],completedQuestions:[],nextQuestions:null,testStatus:"In Progress",currentScope:0,loadIteration:0,qb:{testRecord:{3:{field:"Record ID#",value:24712},6:{field:"Related Kiosk Profile"},13:{field:"Related Hiring Center"},15:{field:"Related Employee"},17:{field:"Related Craft"},23:{field:"Related Available Language"},34:{field:"Test Completion Timestamp"},37:{field:"Test Status"},testQuestions:[{6:{field:"Related Test"},7:{field:"Related All Test Question"},11:{field:"Status"},questionResponse:[{6:{field:"Related Test Question"},8:{field:"Related Question Alternative"}}]}]}}},testId:null,qb:null,questions:[],answers:[],toolListId:null,toolChecklists:[]}),getters:{questionsLoaded(){return this.testData.allQuestions.length>0},nextQuestions(){return this.testData.nextQuestions?this.testData.nextQuestions:null},completedOnIteration(){return this.testData.completedQuestions.filter(e=>e.iteration===this.testData.loadIteration)},algo(){const e=this.testData.completedQuestions.filter(t=>t.selection[14]===1&&t.iteration===this.testData.loadIteration);return e!==void 0?e:[]},ratio(){return isNaN(this.algo.length/this.completedOnIteration.length)?0:(this.algo.length/this.completedOnIteration.length).toFixed(2)},nextScope(){return this.completedOnIteration.length>0?this.ratio>.6?this.testData.currentScope<6?this.testData.currentScope+1:this.testData.currentScope:this.ratio===.6?this.testData.currentScope:this.testData.currentScope>2?this.testData.currentScope-1:this.testData.currentScope:this.testData.currentScope},nextIteration(){return this.testData.loadIteration+1},timeToStop(){const e=this.testData.completedQuestions.filter(i=>i[23]>this.testData.currentScope).length,t=this.testData.completedQuestions.filter(i=>i[23]<this.testData.currentScope).length;return e>0&&t>0&&this.testData.completedQuestions.length>=tr},toolChecklistData(){const{testForCraft:e}=U(),{hiringCenter:t}=_(),{employeeData:i}=E(),s={6:{value:this.testId?this.testId:0},11:{value:t?t[3]:0},15:{value:i[3]?i[3]:0},20:{value:e[15]?e[15]:0},22:{value:e[16]?e[16]:0}};return{to:"bp3gcpk2w",data:[s],fieldsToReturn:[3]}},toolsData(){const e=[];return this.tools.length>0&&this.tools.forEach(t=>{const i={6:{value:this.toolListId?this.toolListId:0},7:{value:t.value}};e.push(i)}),{to:"bp928wac2",data:e,fieldsToReturn:[3]}},availableToolChecklists:e=>e.toolChecklists,toolsForCraft(){const{testForCraft:e}=U();if(e){const t=this.availableToolChecklists.find(i=>i[6]===e[3]);return t!==void 0?t[11]:[]}else return[]},toolListInstructions(){const{testForCraft:e}=U();if(e){const t=this.availableToolChecklists.find(i=>i[6]===e[3]);return t!==void 0?t[13]:null}else return null},toolListName(){const{testForCraft:e}=U();if(e){const t=this.availableToolChecklists.find(i=>i[6]===e[3]);return t!==void 0?t[8]:null}else return null}},actions:{async startAssessment(){const{profile:e}=J(),{testForCraft:t}=U(),{hiringCenter:i}=_(),{employeeData:s,updateEmployeeData:r}=E(),a={13:{value:i[3]},15:{value:s[3]},17:{value:t[15]},23:{value:t[16]},51:{value:t[3]}};e[3]!==void 0&&Object.assign(a,{6:{value:e[3].value}});const{data:o}=await A.upsertRecordsXML({to:"bp3gckirf",data:[a],fieldsToReturn:[3]});if(o[0])return this.testId=o[0][3],r({fields:{122:{value:8}}}),o[0];throw"Something went wrong"},async finishAssessment(){const{metadata:e}=await A.upsertRecordsXML({to:"bp3gckirf",data:[{3:{value:this.testId},34:{value:new Date},37:{value:"Complete"}}],mergeFieldId:3,fieldsToReturn:[3]});if(e.updatedRecordIds[0]){const{data:t}=await A.upsertRecordsXML({to:"bp9np6ckn",data:this.questions,fieldsToReturn:[3,7]});if(!t.length>0)throw"Cannot save questions";{const i=[];t.forEach(r=>{const a=this.answers.findIndex(o=>o.link===r[7]);if(a>-1){const o={6:{value:r[3]},8:{value:this.answers[a][8]}};i.push(o)}});const{metadata:s}=await A.upsertRecordsXML({to:"bp9np9vk7",data:i,fieldsToReturn:[3]});if(!s.createdRecordIds.length===this.answers.length)throw"Something went wrong";return{success:!0}}}else throw"Cannot finish assessment"},async startToolChecklist(){const{data:e}=await A.upsertRecordsXML(this.toolChecklistData);if(e[0])return this.toolListId=e[0][3],e[0];throw"Cannot start checklist"},async finishToolChecklist(){const{metadata:e}=await A.upsertRecordsXML({to:"bp3gcpk2w",data:[{3:{value:this.toolListId},18:{value:new Date},17:{value:"Complete"}}],mergeFieldId:3,fieldsToReturn:[3]});if(e.updatedRecordIds[0]){const{data:t}=await A.upsertRecordsXML(this.toolsData);if(t.length>0)return!0;throw"Cannot save tools"}else throw"Cannot finish tool checklist"},async submitToQB(){const{profile:e}=J(),{testForCraft:t}=U(),{hiringCenter:i}=_(),{devEmployee:s}=E();this.testData.qb.testRecord[6].value=e[3].value,this.testData.qb.testRecord[13].value=i[3],this.testData.qb.testRecord[15].value=s[3],this.testData.qb.testRecord[17].value=t[15],this.testData.qb.testRecord[23].value=t[16],this.testData.qb.testRecord[34].value=Date.now(),this.testData.qb.testRecord[37].value="Complete";const r=[];return this.testData.completedQuestions.forEach(a=>{const o={6:{value:this.testData.qb.testRecord[3].value},7:{value:a[8]},11:{value:"Complete"},questionResponse:[{6:{value:0},8:{value:a.selection[3]}}]};r.push(o)}),this.testData.qb.testRecord.testQuestions=r,this.testData.qb.testRecord},async updateAssessment(e){return this.step=e.next,e.type==="tools"&&(this.tools=e.values),!0},updateStep(e){this.step=e},dataLoaded(){this.loading=!1},async getAllQuestions(){const{testForCraft:e}=U();if(this.questionsLoaded)return!0;if(e)try{const{data:t}=await A.fetchFromStructureApp({fields:[{6:{value:"bqamed7sr"},7:{value:"Table Query"},8:{value:`{'6'.EX.'${e[9]}'}`},9:{value:1},14:{value:17}}]});if(t)return t.forEach(async i=>{i[20]&&(i.hasImage=!0,i.imageData={src:i[22],alt:i[21]}),i[19].forEach(s=>{s.value=s[3],s.label=s[6]})}),this.testData.allQuestions=t,!0;throw"Something went wrong"}catch(t){console.log(t);const{data:i}=await A.doQuery({from:"bqamed7sr",where:`{'6'.EX.'${e[9]}'}`,select:[3,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24],sortBy:[{fieldId:11,order:"ASC"}]});if(i)return i.forEach(async s=>{s[20]==="Yes"&&(s.hasImage=!0,s.imageData={src:s[22],alt:s[21]}),s[19]=await gt.converter(s[19]),s[24]=await gt.converter(s[24]),s[19].forEach(r=>{r.value=r[3],r.label=r[6]})}),this.testData.allQuestions=i,!0;throw"Something went wrong"}else throw"No test for craft"},async loadQuestionGroup(e,t){if(e!==void 0){const i=this.testData.allQuestions.filter(s=>s[23]===e);if(i.length>0)return i.length>5&&(i.length=5),i.forEach(s=>{s.response=null;const r=this.testData.allQuestions.findIndex(a=>a[3]===s[3]);r>-1&&this.testData.allQuestions.splice(r,1)}),this.testData.nextQuestions=i,this.testData.currentScope=e,this.testData.loadIteration=t,i;throw"There are no questions"}},async completeQuestion(e){const t=e.response,i=e[19].find(a=>a.value===t);if(i!==void 0)e.selection=i;else throw"No selection";e.iteration=this.testData.loadIteration,e.storedData={};const s={6:{value:this.testId},7:{value:e[8]},11:{value:"Complete"}};this.questions.push(s);const r={6:null,8:e.selection[3],link:e[8]};return this.answers.push(r),this.testData.completedQuestions.push(e),this.testData.nextQuestions=this.testData.nextQuestions.filter(a=>a[3]!==e[3]),{data:{nextQuestions:this.timeToStop?[]:this.testData.nextQuestions,scope:this.nextScope,iteration:this.nextIteration}}},async fetchCraftToolsFromStorage(){const e=await y.getItem(C.storageToolCheckList);if(e){for(let t=0;t<e.length;t++){const i=Object.keys(e[t]);for(let s=0;s<i.length;s++){typeof e[t][i[s]]=="object"&&e[t][i[s]]!==null&&Object.prototype.hasOwnProperty.call(e[t][i[s]],"$d")&&(e[t][i[s]]=b(e[t][i[s]].$d));try{e[t][i[s]].endsWith(".000Z")&&(e[t][i[s]]=b(e[t][i[s]]))}catch{}}}this.setCraftTools(e,!1)}else return!1},async fetchCraftTools(e){await this.fetchCraftToolsFromStorage();const t=[{6:{value:"bqamh3rpi"},7:{value:"Table Query"},8:{value:"{'10'.EX.'Active'}"},9:{value:1},14:{value:12}}];if(this.toolChecklists.length===0||e){const{data:i}=await A.fetchFromStructureApp({fields:t});return this.setCraftTools(i,!0),i}else return this.toolChecklists},setCraftTools(e,t){this.toolChecklists=e,t&&y.setItem(C.storageToolCheckList,e)}}}),L=W("application",{state:()=>({formOptions:{crafts:[],experience:[],companies:[],credentials:[],relationships:[],employment:[],contactMethods:[]},voluntaryFormOptions:{affirmative:[],veterans:[],disability:{pages:[],options:[],form:{}}},formOptionsLoading:!1,voluntaryFormsLoading:!1,evergreenJobs:[]}),getters:{craftOptions:e=>e.formOptions.crafts,experienceOptions:e=>e.formOptions.experience,companyOptions:e=>e.formOptions.companies,credentialOptions:e=>e.formOptions.credentials,relationshipOptions:e=>e.formOptions.relationships,employmentOptions:e=>e.formOptions.employment,contactMethodOptions:e=>e.formOptions.contactMethods,affirmativeOptions:e=>e.voluntaryFormOptions.affirmative,veteranOptions:e=>e.voluntaryFormOptions.veterans,disabilityOptions:e=>e.voluntaryFormOptions.disability.options,disabilityPages:e=>e.voluntaryFormOptions.disability.pages,disabilityForm:e=>e.voluntaryFormOptions.disability.form,evergreenJobOptions:e=>e.evergreenJobs,formOptionsLoadingState:e=>e.formOptionsLoading,voluntaryLoadingState:e=>e.voluntaryFormsLoading,credentialGroups(){const e=[];return this.formOptions.credentials.forEach(t=>{const i={value:t[7],label:t[8],acronym:t[20],number:t[21]};e.find(r=>r.value===i.value)||e.push(i)}),e.sort((t,i)=>t.number>i.number?1:t.number<i.number?-1:0)},compiledCredentials(){const e=[];return this.credentialGroups.forEach(t=>{const i=t.value;t.list=[],this.formOptions.credentials.forEach(s=>{s[7]===i&&t.list.push(s)}),e.push(t)}),e}},actions:{async fetchFormOptions(){this.formOptionsLoading=!0;const e=[this.fetchExperienceOptions(),this.fetchContactMethodOptions(),this.fetchEmploymentOptions(),this.fetchCompanyOptions(),this.fetchCraftOptions(),this.fetchRelationshipOptions(),this.fetchEverGreenJobs()],t=await Promise.allSettled(e);return this.formOptionsLoading=!1,t},async fetchVoluntaryForms(){this.voluntaryFormsLoading=!0;const e=[this.fetchAffirmativeOptions(),this.fetchVeteranStatusOptions(),this.fetchDisabilityPages()],t=await Promise.allSettled(e);return this.voluntaryFormsLoading=!1,t},async fetchExperienceOptions(e){const t=[{7:{value:"Experience Options"},9:{value:1},14:{value:44}}];if(this.formOptions.experience.length===0||e){const{data:i}=await A.fetchFromRecruitingApp({fields:t});return this.setExperienceOptions(i,!0),i}else return this.formOptions.experience},setExperienceOptions(e,t){this.formOptions.experience=e,t&&y.setItem(C.storageExperienceOptions,e)},async fetchContactMethodOptions(e){const t=[{7:{value:"Contact Methods"},9:{value:1},14:{value:15}}];if(this.formOptions.contactMethods.length===0||e){const{data:i}=await A.fetchFromRecruitingApp({fields:t});return this.setContactMethods(i,!0),i}else return this.formOptions.contactMethods},setContactMethods(e,t){this.formOptions.contactMethods=e,t&&y.setItem(C.storageContactMethods,e)},async fetchEmploymentOptions(e){const t=[{7:{value:"Employment Options"},9:{value:1},14:{value:15}}];if(this.formOptions.employment.length===0||e){const{data:i}=await A.fetchFromRecruitingApp({fields:t});return this.setEmploymentOptions(i,!0),i}else return this.formOptions.employment},setEmploymentOptions(e,t){this.formOptions.employment=e,t&&y.setItem(C.storageEmploymentOptions,e)},async fetchCompanyOptions(e){const t=[{7:{value:"Company Options"},9:{value:1},14:{value:15}}];if(this.formOptions.companies.length===0||e){const{data:i}=await A.fetchFromStructureApp({fields:t});return this.setCompanyOptions(i,!0),i}else return this.formOptions.companies},setCompanyOptions(e,t){this.formOptions.companies=e,t&&y.setItem(C.storageCompanyOptions,e)},async fetchCraftOptions(e){const t=[{6:{value:"bp2pcb379"},7:{value:"Table Query"},8:{value:"{'12'.EX.'Yes'}"},9:{value:1},14:{value:59}}];if(this.formOptions.crafts.length===0||e){const{data:i}=await A.fetchFromStructureApp({fields:t});return this.setCraftOptions(i,!0),i}else return this.formOptions.crafts},setCraftOptions(e,t){this.formOptions.crafts=e,t&&y.setItem(C.storageCraftOptions,e)},async fetchRelationshipOptions(e){const t=[{6:{value:"brux2ptjd"},7:{value:"Table Query"},8:{value:"{'3'.GT.0}"},9:{value:1},14:{value:15}}];if(this.formOptions.relationships.length===0||e){const{data:i}=await A.fetchFromHiringApp({fields:t});return this.setRelationshipOptions(i,!0),i}else return this.formOptions.relationships},setRelationshipOptions(e,t){this.formOptions.relationships=e,t&&y.setItem(C.storageRelationshipOptions,e)},async fetchCredentialOptions(e){const t=[{6:{value:"bp2cdv2rd"},7:{value:"Table Query"},8:{value:"{'3'.GT.0}"},9:{value:1},14:{value:22}}];if(this.formOptions.credentials.length===0||e){const{data:i}=await A.fetchFromCredentialsAndTrainingApp({fields:t});return this.setCredentialOptions(i,!0),i}else return this.formOptions.credentials},setCredentialOptions(e,t){this.formOptions.credentials=e,t&&y.setItem(C.storageCredentialOptions,e)},async fetchAffirmativeOptions(e){const t=[{6:{value:"bqamkyebu"},7:{value:"Table Query"},8:{value:"{'7'.EX.'Active'}"},9:{value:1},14:{value:18}}];if(this.voluntaryFormOptions.affirmative.length===0||e){const{data:i}=await A.fetchFromCredentialsAndTrainingApp({fields:t});return this.setAffirmativeOptions(i,!0),i}else return this.voluntaryFormOptions.affirmative},setAffirmativeOptions(e,t){this.voluntaryFormOptions.affirmative=e,t&&y.setItem(C.storageAffirmativeOptions,e)},async fetchVeteranStatusOptions(e){const t=[{6:{value:"bqampwqag"},7:{value:"Table Query"},8:{value:"{'8'.EX.'Active'}"},9:{value:1},14:{value:14}}];if(this.voluntaryFormOptions.veterans.length===0||e){const{data:i}=await A.fetchFromCredentialsAndTrainingApp({fields:t});return this.setVeteranStatusOptions(i,!0),i}else return this.voluntaryFormOptions.veterans},setVeteranStatusOptions(e,t){this.voluntaryFormOptions.veterans=e,t&&y.setItem(C.storageVeteranStatusOptions,e)},async fetchDisabilityPages(e){const{hasDisability:t,kioskAccount:i}=U();if(t){const s=[{6:{value:"bp96dpdmp"},7:{value:"Table Query"},8:{value:`{26.EX.${i.voluntaryForms.disability[9]}}AND{'46'.EX.'Active'}`},9:{value:1},14:{value:59}}],r=Object.assign({},i.voluntaryForms.disability);if(r.controlNumber=r[11],r.expiration=r[13],r.formId=r[12],r.rid=r[9],r.title=r[10],r.pages=this.voluntaryFormOptions.disability.pages,this.voluntaryFormOptions.disability.pages.length===0||e){const{data:a}=await A.fetchFromCredentialsAndTrainingApp({fields:s});return this.setDisabilityPages(a,!0),r.pages=a,this.setDisabilityForm(r,!0),a}else return this.voluntaryFormOptions.disability.pages}else return!1},setDisabilityPages(e,t){this.voluntaryFormOptions.disability.pages=e,t&&y.setItem(C.storageDisabilityPages,e)},setDisabilityForm(e,t){this.voluntaryFormOptions.disability.form=e,t&&y.setItem(C.storageDisabilityForm,e)},async fetchEverGreenJobs(e){const t=[{6:{value:"bpzpqe2q5"},7:{value:"Jobs"},8:{value:"{'60'.EX.'Yes'}AND{'71'.XEX.'Pending'}"},9:{value:1},14:{value:94}}];if(this.evergreenJobs.length===0||e){const{data:i}=await A.fetchFromStructureApp({fields:t});return this.setEverGreenJobs(i,!0),i}else return this.evergreenJobs},setEverGreenJobs(e,t){this.evergreenJobs=e,t&&y.setItem(C.storageEverGreenJobs,e)}}});class sr{constructor(t,i){R(this,"axiosIns",null);R(this,"config",Q({},Tt));R(this,"appConfig",C);R(this,"isAlreadyFetchingAccessToken",{});R(this,"subscribers",[]);R(this,"rateLimit",null);R(this,"rateLimitRemaining",null);R(this,"rateLimitReset",null);R(this,"router",null);R(this,"loginAttempts",{invalidLogins:0,login:null,exp:null,currentTime:null});R(this,"appStore",null);R(this,"userStore",null);R(this,"employeeStore",null);R(this,"jobBoardStore",null);R(this,"profileStore",null);R(this,"assessmentStore",null);R(this,"applicationStore",null);R(this,"kioskStore",null);R(this,"hiringCenterStore",null);this.axiosIns=t,this.config=Q(Q({},this.config),i),this.axiosIns.interceptors.request.use(async s=>new Promise(r=>{const{url:a,data:o}=s;let n=null;if(a.includes("act=API_Authenticate")||a.includes("a=API_GetUserInfo")||a.includes("a=API_DoQuery")||a.includes("a=API_AddRecord")||a.includes("?a=API_EditRecord"))r(s);else if(a.includes("auth/temporary"))this.config.realm&&(s.headers["QB-Realm-Hostname"]=`${this.config.realm}.quickbase.com`),this.config.appToken&&(s.headers["QB-App-Token"]=this.config.appToken),s.headers["Request-Count"]?s.headers["Request-Count"]+=1:s.headers["Request-Count"]=1,r(s);else{if(this.config.realm&&(s.headers["QB-Realm-Hostname"]=`${this.config.realm}.quickbase.com`),this.config.appToken&&(s.headers["QB-App-Token"]=this.config.appToken),s.headers["Request-Count"]?s.headers["Request-Count"]+=1:s.headers["Request-Count"]=1,a==="https://api.quickbase.com/v1/records/query")n=o.from;else if(a==="https://api.quickbase.com/v1/records")n=o.to;else if(a.startsWith("https://api.quickbase.com/v1/reports")){const d=new URL(a);n=new URLSearchParams(d.search).get("tableId")}const c=this;if(!n){const d=JSON.parse(o);n=d.from?d.from:d.to}this.getToken(n).then(d=>{const m=d;if(m)s.headers.Authorization=m,r(s);else if(!c.isAlreadyFetchingAccessToken[`${n}`])c.isAlreadyFetchingAccessToken[`${n}`]=!0,c.refreshToken(n).then(w=>{const{data:O}=w;c.isAlreadyFetchingAccessToken[`${n}`]=!1,c.setToken(O.temporaryAuthorization,n).then(()=>{c.onAccessTokenFetched(O.temporaryAuthorization),s.headers.Authorization=`QB-TEMP-TOKEN ${O.temporaryAuthorization}`,r(s)})});else{const w=m;async function O(){c.getToken(n).then(S=>{const k=S;if(k===w){setTimeout(O,50);return}s.headers.Authorization=k,r(s)})}O()}})}}),s=>Promise.reject(s)),this.axiosIns.interceptors.response.use(s=>{if(s&&s.headers){const{headers:r}=s;this.rateLimit=r["x-ratelimit-limit"],this.rateLimitRemaining=r["x-ratelimit-remaining"],this.rateLimitReset=r["x-ratelimit-reset"]}return s},s=>new Promise((r,a)=>{const{config:o,response:n}=s;console.log(s);const{headers:c}=n;this.rateLimit=c["x-ratelimit-limit"],this.rateLimitRemaining=c["x-ratelimit-remaining"],this.rateLimitReset=c["x-ratelimit-reset"];const d=o,{url:m,data:w}=d;let O=this.config.appDBID;const S=w?JSON.parse(w):null;if(m==="https://api.quickbase.com/v1/records/query"?O=S.from:m==="https://api.quickbase.com/v1/records"&&(O=S.to),n&&n.status===401){const k=new Promise(q=>{this.addSubscriber(j=>{d.headers.Authorization=j,q(this.axiosIns(d))})});this.isAlreadyFetchingAccessToken[`${O}`]||(this.isAlreadyFetchingAccessToken[`${O}`]=!0,this.refreshToken(O).then(q=>{this.isAlreadyFetchingAccessToken[`${O}`]=!1,this.setToken(q.data.temporaryAuthorization,O),this.onAccessTokenFetched(q.data.temporaryAuthorization)})),r(k)}else if(n&&n.status===429){const k=this,q=new Promise(j=>{setTimeout(()=>{j(this.axiosIns(d))},k.rateLimitReset)});d.headers["Request-Count"]&&d.headers["Request-Count"]>4?a(s):r(q)}else if(n&&n.status===400){const{data:k}=n;if(k.description==="You are not currently signed into the realm.")window.close(),a(s);else if(k.description==="Required header 'Authorization' not specified"){this.isAlreadyFetchingAccessToken[`${O}`]||(this.isAlreadyFetchingAccessToken[`${O}`]=!0,this.refreshToken(O).then(j=>{this.isAlreadyFetchingAccessToken[`${O}`]=!1,this.setToken(j.data.temporaryAuthorization,O),this.onAccessTokenFetched(j.data.temporaryAuthorization)}));const q=new Promise(j=>{this.addSubscriber(se=>{d.headers.Authorization=se,j(this.axiosIns(d))})});r(q)}else if(k.description==="Invalid Authorization"){this.isAlreadyFetchingAccessToken[`${O}`]||(this.isAlreadyFetchingAccessToken[`${O}`]=!0,this.refreshToken(O).then(j=>{this.isAlreadyFetchingAccessToken[`${O}`]=!1,this.setToken(j.data.temporaryAuthorization,O),this.onAccessTokenFetched(j.data.temporaryAuthorization)}));const q=new Promise(j=>{this.addSubscriber(se=>{d.headers.Authorization=se,j(this.axiosIns(d))})});r(q)}}a(s)}))}onAccessTokenFetched(t){this.subscribers=this.subscribers.filter(i=>i(t))}addSubscriber(t){this.subscribers.push(t)}async getToken(t){return this.config.dev&&this.config.userToken?`QB-USER-TOKEN ${this.config.userToken}`:K.has(`${t}`)?`QB-TEMP-TOKEN ${K.get(`${t}`)}`:null}refreshToken(t){return this.axiosIns.get(`${this.config.refreshEndpoint}/${t}`,{withCredentials:!0})}async setToken(t,i){const s=i||this.config.appDBID;K.set(`${s}`,t,{expires:this.config.tokenExpiration,secure:!0,sameSite:"Strict"})}async setIpInfo(t){y.setItem(this.appConfig.storageIPInfoKeyName,t)}async getIpInfo(){return await y.getItem(this.appConfig.storageIPInfoKeyName)}setUserTicket(t){K.set(this.appConfig.storageUserTicketKeyName,t,{expires:this.config.cookieExpiration,secure:!0,sameSite:"Strict"})}getUserTicket(){return K.get(this.appConfig.storageUserTicketKeyName)}setOfficeLocation(t){this.hiringCenterStore=this.hiringCenterStore||_(),this.appConfig.userType!=="Candidate Kiosk"&&this.hiringCenterStore.fetchHiringCenter(t.rid,!0),K.set(this.appConfig.storageOfficeLocationKeyName,t,{expires:this.config.officeExpiration,secure:!0,sameSite:"Strict"})}setCheckIn(t){K.set(this.appConfig.storageCheckInKeyName,t,{expires:this.config.checkInExpiration,secure:!0,sameSite:"Strict"})}removeCheckIn(){K.remove(this.appConfig.storageCheckInKeyName,{secure:!0,sameSite:"Strict"})}getCheckIn(){return K.get(this.appConfig.storageCheckInKeyName)}getOfficeLocation(){return K.get(this.appConfig.storageOfficeLocationKeyName)}async setUserInfo(t,i){this.userStore.setUser(t,i)}async setUserAccess(t,i){this.userStore.setAccess(t,i)}async setUserPermissions(t,i){this.userStore.setPermissions(t,i)}async getUserInfo(){return await y.getItem(this.appConfig.storageUserKeyName)}async getUserAccess(){return await y.getItem(this.appConfig.storageAccessKeyName)}async getUserPermissions(){return await y.getItem(this.appConfig.storagePermissionsKeyName)}async setEmployee(t,i){this.employeeStore.setEmployee(t,i)}async setJobBoard(t,i){this.jobBoardStore.setRequestJobs(t,i)}async getEmployeeFromStore(){return this.employeeStore.getEmployee}async getSocialRequired(){return this.employeeStore.socialRequired}async getUserFromStore(){return this.userStore.getUser}async getLoggedInFromStore(){return this.userStore.isLoggedIn}async verifyRequired(){return this.userStore.verifyRequired}async setPhoneNumberVerified(t){this.userStore.setPhoneNumberVerified(t)}async setVerified(t){this.userStore.setVerified(t)}async employeeLinkRequired(){return this.userStore.employeeLinkRequired}async setIdentityVerified(t){this.userStore.setIdentityVerified(t)}async isUserLoggedIn(){const t=this.getUserInfo(),i=this.getUserAccess(),s=this.getUserPermissions(),r=await t,a=await i,o=await s;return!!(r&&a&&o&&this.getUserTicket())}async reloadUserInfo(t){const i=await this.getUserInfo();return this.userStore=this.userStore||ne(),t.reAuthenticate&&i?(await this.fetchAndSetUserData({phoneNumber:i[8],userType:i[32],rid:i[3]}),this.updateStore()):this.updateStore()}async updateUserData(t){const i=await this.getUserInfo();if(this.appStore=this.appStore||B(),i)return this.userStore=this.userStore||ne(),await this.userStore.updateUserData(t)}async updateEmployeeData(t){const i=await this.getUserInfo();if(this.appStore=this.appStore||B(),(this.appStore.userType==="Candidate"||this.appStore.userType==="Candidate Kiosk")&&i)return this.employeeStore=this.employeeStore||E(),await this.employeeStore.updateEmployeeData(t)}async updateStore(t){const i=await y.keys();for(let s=0;s<i.length;s++){if(i[s]===this.appConfig.storageUserKeyName){const r=await y.getItem(i[s]);Object.keys(r).forEach(a=>{if(typeof r[a]=="object"&&r[a]!==null&&Object.prototype.hasOwnProperty.call(r[a],"$d")){r[a]=b(r[a].$d);return}try{r[a].endsWith(".000Z")&&(r[a]=b(r[a]))}catch{}}),await this.setUserInfo(r,!1)}if(i[s]===this.appConfig.storageAccessKeyName){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}await this.setUserAccess(r,!1)}if(i[s]===this.appConfig.storagePermissionsKeyName){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}await this.setUserPermissions(r,!1)}if(i[s]===this.appConfig.storageEmployeeKeyName){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}await this.setEmployee(r,!1)}if(i[s]===this.appConfig.storageJobBoardKeyName){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.jobBoardStore=this.jobBoardStore||Ne(),await this.setJobBoard(r,!1)}if(i[s]===this.appConfig.storageExperienceOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setExperienceOptions(r,!1)}if(i[s]===this.appConfig.storageContactMethods){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setContactMethods(r,!1)}if(i[s]===this.appConfig.storageEmploymentOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setEmploymentOptions(r,!1)}if(i[s]===this.appConfig.storageCompanyOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setCompanyOptions(r,!1)}if(i[s]===this.appConfig.storageCraftOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setCraftOptions(r,!1)}if(i[s]===this.appConfig.storageRelationshipOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setRelationshipOptions(r,!1)}if(i[s]===this.appConfig.storageCredentialOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setCredentialOptions(r,!1)}if(i[s]===this.appConfig.storageAffirmativeOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setAffirmativeOptions(r,!1)}if(i[s]===this.appConfig.storageVeteranStatusOptions){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setVeteranStatusOptions(r,!1)}if(i[s]===this.appConfig.storageDisabilityPages){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setDisabilityPages(r,!1)}if(i[s]===this.appConfig.storageDisabilityForm){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setDisabilityForm(r,!1)}if(i[s]===this.appConfig.storageEverGreenJobs){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||L(),await this.applicationStore.setEverGreenJobs(r,!1)}if(i[s]===this.appConfig.storageProfile){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.profileStore=this.profileStore||J(),await this.profileStore.setProfile(r,!1)}if(i[s]===this.appConfig.storageProfileStep){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.profileStore=this.profileStore||J(),await this.profileStore.setProfileStep(r,!1)}if(i[s]===this.appConfig.storageProfileVoluntaryForms){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.profileStore=this.profileStore||J(),await this.profileStore.setVoluntaryForms(r,!1)}if(i[s]===this.appConfig.storageKioskAccount){const r=await y.getItem(i[s]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.kioskStore=this.kioskStore||U(),await this.kioskStore.setKioskAccount(r,!1)}if(i[s]===this.appConfig.storageHiringCenter){const r=await y.getItem(i[s]);if(r){for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=b(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=b(r[a][o[n]]))}catch{}}}this.hiringCenterStore=this.hiringCenterStore||_(),await this.hiringCenterStore.setHiringCenter(r,!1)}}}return!0}async login(t){let i=null;t.redirectPath&&(i=t.redirectPath,delete t.redirectPath);const s=`{'10'.EX.'Active'}${t.email?`AND{'6'.EX.'${t.email}'}`:""}${t.phoneNumber?`AND{'8'.EX.'${t.phoneNumber}'}`:""}${t.userType?`AND{'32'.EX.'${t.userType}'}`:""}`,r=[{7:{value:"User Request"},8:{value:s},9:{value:1},14:{value:77}}],a=t.email?t.email:t.phoneNumber,o=b();if(this.loginAttempts.invalidLogins>=this.config.maxLoginAttempts&&a===this.loginAttempts.login)if(o.isBefore(this.loginAttempts.exp)){const m=o.to(this.loginAttempts.exp,!0);throw{response:{data:{errtext:"Too many failed Login Attempts",errdetail:`Please wait ${m} before attempting to try again.`}}}}else this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null};else this.loginAttempts.exp&&o.isAfter(this.loginAttempts.exp)&&(this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null});const{data:n}=await this.fetchFromStructureApp({fields:r}),c=[{6:{value:"login"}}];let d=await this.getIpInfo();if(d)c.push({8:{value:d.ip}}),c.push({9:{value:d.loc}}),c.push({10:{value:d.uag}}),c.push({11:{value:d.colo}});else{try{d=await this.fetchIpInfo()}catch{d=null}d&&(c.push({8:{value:d.ip}}),c.push({9:{value:d.loc}}),c.push({10:{value:d.uag}}),c.push({11:{value:d.colo}}))}if(n.length===1){const m=n[0];if(c.push({12:{value:m[3]}}),m[63]===!0&&o.isBefore(m[60])){this.loginAttempts={invalidLogins:m[59],login:a,exp:m[60],currentTime:null};const w=o.to(this.loginAttempts.exp,!0);throw{response:{data:{errtext:"Too many failed Login Attempts",errdetail:`Please wait ${w} before attempting to try again.`}}}}if(m[32]==="QuickBase User"){const w={qdbapi:{username:t.email,password:t.password,hours:t.hours||72}};if(!t.email)throw c.push({7:{value:"Invalid Login"}}),this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:z(w),withCredentials:!0}).then(O=>{const S=V(new window.DOMParser().parseFromString(O.data,"text/xml"));if(S.email=t.email,S.errcode!==0)throw O.data=S,c.push({7:{value:"Invalid Login"}}),this.addLoginAttempt(c),{response:O};if(S.userid==="1.ckbs"||S.userid.startsWith("1."))throw O.data=S,c.push({7:{value:"Invalid Login"}}),this.addLoginAttempt(c),{response:O};return delete S.action,delete S.errcode,delete S.errtext,O.data=S,c.push({7:{value:"Successful"}}),this.addLoginAttempt(c),this.setUserTicket(O.data.ticket),this.fetchAndSetUserData(we(Q({},O.data),{redirect:!0,redirectPath:i,rid:m[3]}))}).catch(O=>{throw c.push({7:{value:"Invalid Password"}}),this.addLoginAttempt(c),O})}else if(m[32]==="Candidate"){if(await lt.compare(t.password,m[7]))return c.push({7:{value:"Successful"}}),await this.addLoginAttempt(c,!0),this.fetchAndSetUserData({redirect:!0,redirectPath:i,rid:m[3]});throw c.push({7:{value:"Invalid Password"}}),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else if(m[32]==="Project User"){if(await lt.compare(t.password,m[7]))return c.push({7:{value:"Successful"}}),await this.addLoginAttempt(c,!0),this.fetchAndSetUserData({redirect:!0,redirectPath:i,rid:m[3]});throw c.push({7:{value:"Invalid Password"}}),this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw c.push({7:{value:"Invalid Login"}}),this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw c.push({7:{value:"Invalid Login"}}),this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}async checkIfUserExist(t){const i=`{'10'.EX.'Active'}${t.email?`AND{'6'.EX.'${t.email}'}`:""}${t.phoneNumber?`AND{'8'.EX.'${t.phoneNumber}'}`:""}${t.userType?`AND{'32'.EX.'${t.userType}'}`:""}`,s=[{7:{value:"User Request"},8:{value:i},9:{value:1},14:{value:77}}],{data:r}=await this.fetchFromStructureApp({fields:s});return r.length>0}async fetchAndSetUserData(t){this.userStore=this.userStore||ne();const{data:i}=await this.userStore.fetchUser(t);if(!i.user)throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};const s=i.user,r=this.getOfficeLocation(),a=this.getCheckIn();if(s[32]==="QuickBase User"||s[32]==="Candidate"&&(this.employeeStore=this.employeeStore||E(),this.userType=s[32],X(s[53])&&await this.setUserTicket(s[53])),s[82]===!0&&s[80]){const o=[{9:{value:s[80]},7:{value:"Employee"}}],{data:n}=await this.fetchFromHiringApp({fields:o});this.employeeStore=this.employeeStore||E(),this.employeeStore.setEmployee(n.employee,!0)}if(s[100]===""){this.userStore.$patch(n=>n.user[100]=Oe.global.locale.value);const o=[{3:{value:s[3]},26:{value:"now"},100:{value:Oe.global.locale.value}}];this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:o,formatObject:76})}else Oe.global.locale.value=s[100];if(X(s[86])){const o=[{9:{value:s[86]},7:{value:"Self Check-In"}}],{data:n}=await this.fetchFromRecruitingApp({fields:o});n&&(n[13].isToday()&&n[15]==="Called"&&r&&a?this.checkInUser():n[13].isToday()?(this.appStore=this.appStore||B(),this.appStore.setCheckInData(n)):r&&a?this.checkInUser():(this.appStore=this.appStore||B(),this.appStore.setCheckInData({})))}else r&&a&&this.checkInUser();return s}async nativeQuickbaseLogin(t){const i={qdbapi:{username:t.email,password:t.password,hours:t.hours||336}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:z(i),withCredentials:!0}).then(s=>{const r=V(new window.DOMParser().parseFromString(s.data,"text/xml"));if(r.email=t.email,r.errcode!==0)throw s.data=r,{response:s};if(r.userid==="1.ckbs"||r.userid.startsWith("1."))throw s.data=r,{response:s};return s.data=r,s.data}).catch(s=>{throw s})}async checkInUser(t){t=t||{};const i=await this.getUserInfo(),s=this.getOfficeLocation(),r=await this.getIpInfo();if(this.userStore=this.userStore||ne(),this.appStore=this.appStore||B(),this.employeeStore=this.employeeStore||E(),!i||!s)return;if(this.appStore.checkedIn){console.log("already checked in",this.appStore.checkedIn),this.removeCheckIn();return}const a=[{6:{value:i[9]?i[9].phoneNumber:i[8].replace(/[^0-9]/g,"")},7:{value:i[35]},8:{value:i[37]},9:{value:s.rid},10:{value:t.reason?t.reason:"Applying"},11:{value:t.position?t.position:""},13:{value:"now"},16:{value:i[80]},21:{value:!0},24:{value:r?JSON.stringify(r):""}}];try{const{data:o}=await this.upsertRecordsXML({to:"br26nivmr",fieldsToReturn:[3,31],data:a,formatObject:31});this.removeCheckIn(),this.appStore.setCheckInData(o[0][31]);const n=[{3:{value:i[3]},26:{value:"now"},86:{value:o[0][3]}}],{data:c}=await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:n,formatObject:76}),d=c[0][76];if(this.userStore.userLoggedIn){const m=Object.assign({},d);delete m.access,delete m.permissions,this.setUserPermissions(d.permissions,!0),this.setUserAccess(d.access,!0),await this.setUserInfo(m,!0)}return d}catch(o){console.log(o)}}async deActivateAccount(t){const i=`{'10'.EX.'Active'}${t.email?`AND{'6'.EX.'${t.email}'}`:""}${t.phoneNumber?`AND{'8'.EX.'${t.phoneNumber}'}`:""}${t.userType?`AND{'32'.EX.'${t.userType}'}`:""}`,s=[{7:{value:"User Request"},8:{value:i},9:{value:1},14:{value:77}}],{data:r}=await this.fetchFromStructureApp({fields:s});if(r.length>0){const o=[{3:{value:r[0][3]},10:{value:"Inactive"},50:{value:!1},17:{value:!1}}];return await this.upsertRecordsFormat({to:"br4pxrbs6",fieldsToReturn:[76],data:o}),!0}return r}async resetPassword(t){const i=`{'10'.EX.'Active'}${t.email?`AND{'6'.EX.'${t.email}'}`:""}${t.phoneNumber?`AND{'8'.EX.'${t.phoneNumber}'}`:""}${t.userType?`AND{'32'.EX.'${t.userType}'}`:""}${t.firstName?`AND{'35'.CT.'${t.firstName}'}`:""}${t.lastName?`AND{'37'.CT.'${t.lastName}'}`:""}`,s=[{7:{value:"User Request"},8:{value:i},9:{value:1},14:{value:77}}],r=await this.fetchFromStructureApp({fields:s}),a=r.data,o=new Date;if(a.length>0){const c=[{3:{value:a[0][3]},26:{value:o},17:{value:!0}}];return await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],formatObject:76,data:c})}return r}async clearLocalForage(){let t=[y.removeItem(this.appConfig.storageUserKeyName),y.removeItem(this.appConfig.storageUserTicketKeyName),y.removeItem(this.appConfig.storageIPInfoKeyName),y.removeItem(this.appConfig.storagePermissionsKeyName),y.removeItem(this.appConfig.storageAccessKeyName),y.removeItem(this.appConfig.storageOfficeLocationKeyName),y.removeItem(this.appConfig.storageEmployeeKeyName),y.removeItem(this.appConfig.storageCheckInKeyName),y.removeItem(this.appConfig.storageJobBoardKeyName),y.removeItem(this.appConfig.storageProfile),y.removeItem(this.appConfig.storageProfileStep),y.removeItem(this.appConfig.storageProfileVoluntaryForms)];return this.this.appConfig.userType!=="Candidate Kiosk"&&(t=t.concat([y.removeItem(this.appConfig.storageExperienceOptions),y.removeItem(this.appConfig.storageContactMethods),y.removeItem(this.appConfig.storageEmploymentOptions),y.removeItem(this.appConfig.storageCompanyOptions),y.removeItem(this.appConfig.storageCraftOptions),y.removeItem(this.appConfig.storageRelationshipOptions),y.removeItem(this.appConfig.storageCredentialOptions),y.removeItem(this.appConfig.storageAffirmativeOptions),y.removeItem(this.appConfig.storageVeteranStatusOptions),y.removeItem(this.appConfig.storageDisabilityPages),y.removeItem(this.appConfig.storageDisabilityForm),y.removeItem(this.appConfig.storageEverGreenJobs),Si.removeItem(this.appConfig.storageToolCheckList)])),await Promise.allSettled(t)}async logout(t){this.userStore=this.userStore||ne(),this.appStore=this.appStore||B(),(this.appStore.userType==="Candidate"||this.appStore.userType==="Candidate Kiosk")&&(this.employeeStore=this.employeeStore||E(),this.jobBoardStore=this.jobBoardStore||Ne(),this.profileStore=this.profileStore||J(),this.assessmentStore=this.assessmentStore||ir()),K.remove(this.appConfig.storageUserTicketKeyName,{secure:!0,sameSite:"Strict"});const i=[this.clearLocalForage(),this.userStore.$reset(),this.employeeStore.$reset(),this.jobBoardStore.$reset(),this.appStore.$reset(),this.profileStore.$reset(),this.assessmentStore.$reset()];return await Promise.allSettled(i),!0}async upsertRecordsFormat(...t){const i=t[0].formatObject||null;t[0].formatObject&&delete t[0].formatObject;const s=await this.axiosIns.post(this.config.insertRecords,...t).then(async r=>{let{data:a}=r.data;const o=a.map(async c=>{Object.keys(c).map(async m=>{c[m]=await c[m].value})});return a=await Promise.all(o),r.data});return i&&s.data.length>0&&s.data.forEach(r=>{Array.isArray(i)?i.forEach(a=>{P(a)&&r[a]&&(r[a]=he(r[a]))}):P(i)&&(r[i]=he(r[i])),r[1]&&(r[1]=b(r[1]).tz("America/Chicago")),r[2]&&(r[2]=b(r[2]).tz("America/Chicago"))}),s}async addRecordNoUser(t){const i={qdbapi:{msInUTC:1}};return this.config.appToken&&(i.qdbapi.apptoken=this.config.appToken),t.fields&&(i.qdbapi.fields=t.fields),i.qdbapi.usertoken=this.config.userToken,this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${t.to}?a=API_AddRecord`,headers:{"QUICKBASE-ACTION":"API_AddRecord","Content-Type":"application/xml"},data:z(i)}).then(r=>{const a=V(new window.DOMParser().parseFromString(r.data,"text/xml"));return r.data=a,r.data})}async upsertRecordsXML(t){if(t.data.length>1){const i=[];for(let a=0;a<t.data.length;a++){const o=Object.assign({},t);o.data=[t.data[a]],i.push(this.upsertRecordXML(o))}const s=await Promise.all(i),r={data:[],metadata:{createdRecordIds:[],totalNumberOfRecordsProcessed:0,unchangedRecordIds:[],updatedRecordIds:[]}};return s.forEach((a,o)=>{a.data[0]&&r.data.push(a.data[0]),r.metadata.createdRecordIds=r.metadata.createdRecordIds.concat(a.metadata.createdRecordIds),r.metadata.unchangedRecordIds=r.metadata.unchangedRecordIds.concat(a.metadata.unchangedRecordIds),r.metadata.updatedRecordIds=r.metadata.updatedRecordIds.concat(a.metadata.updatedRecordIds),r.metadata.totalNumberOfRecordsProcessed+=a.metadata.totalNumberOfRecordsProcessed,a.metadata.lineErrors&&(r.metadata.lineErrors||(r.metadata.lineErrors={}),r.metadata.lineErrors[o+1]=a.metadata.lineErrors[1])}),r}else return this.upsertRecordXML(t)}async upsertRecordXML(t){const i={qdbapi:{msInUTC:1}},s=t.formatObject||null,r=t.booleanFields?t.booleanFields.concat(this.config.booleanFields[`${t.to}`]||[]):this.config.booleanFields[`${t.to}`]||[];let a="";t.data[0][3]?(a="API_EditRecord",i.qdbapi.rid=t.data[0][3].value,delete t.data[0][3]):a="API_AddRecord",this.config.appToken&&(i.qdbapi.apptoken=this.config.appToken),t.data&&(i.qdbapi.fields=t.data),t.fieldsToReturn&&(i.qdbapi.clist=t.fieldsToReturn.join("."));const o=await this.getUserTicket();return o?i.qdbapi.ticket=o:this.config.userToken&&this.config.dev&&(i.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${t.to}?a=${a}`,headers:{"QUICKBASE-ACTION":`${a}`,"Content-Type":"application/xml"},data:Pe(i)}).then(c=>{let d=V(new window.DOMParser().parseFromString(c.data,"text/xml"));return d.metadata=we(Q({createdRecordIds:[]},d.errcode!==0&&{lineErrors:{}}),{totalNumberOfRecordsProcessed:0,unchangedRecordIds:[],updatedRecordIds:[]}),d.errcode!==0?(d.data=[],d.metadata.lineErrors[1]=[d.errdetail]):(d.data=[nr(new window.DOMParser().parseFromString(c.data,"text/xml"))],s&&(Array.isArray(s)?s.forEach(m=>{P(m)&&d.data[0][m]&&(d.data[0][m]=he(d.data[0][m]))}):P(s)&&d.data[0][s]&&d.data[0][s]&&(d.data[0][s]=he(d.data[0][s]))),r.length>0&&r.forEach(m=>{d.data[0][m]&&(d.data[0][m]=d.data[0][m]===1)}),d.data[0][1]&&(d.data[0][1]=b(d.data[0][1]).tz("America/Chicago")),d.data[0][2]&&(d.data[0][2]=b(d.data[0][2]).tz("America/Chicago"))),d.data[0]&&d.rid&&(d.metadata.totalNumberOfRecordsProcessed=1,d.num_fields_changed===0&&(d.metadata.unchangedRecordIds=[d.rid]),a==="API_EditRecord"&&d.num_fields_changed>0?d.metadata.updatedRecordIds=[d.rid]:a==="API_AddRecord"&&(d.metadata.createdRecordIds=[d.rid])),delete d.action,delete d.errcode,delete d.errdetail,delete d.errtext,delete d.num_fields_changed,delete d.rid,delete d.update_id,delete d.record,c.data=d,c.data})}async addRecordXML(t){const i={qdbapi:{msInUTC:1}};this.config.appToken&&(i.qdbapi.apptoken=this.config.appToken),t.fields&&(i.qdbapi.fields=t.fields),t.list&&(i.qdbapi.clist=t.list.join("."));const s=await this.getUserTicket();return s?i.qdbapi.ticket=s:this.config.userToken&&this.config.dev&&(i.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${t.to}?a=API_AddRecord`,headers:{"QUICKBASE-ACTION":"API_AddRecord","Content-Type":"application/xml"},data:z(i)}).then(a=>{const o=V(new window.DOMParser().parseFromString(a.data,"text/xml"));return a.data=o,a.data})}async editRecordXML(t){const i={qdbapi:{msInUTC:1}};if(t.rid)i.qdbapi.rid=t.rid;else throw"You must supply rid!";this.config.appToken&&(i.qdbapi.apptoken=this.config.appToken),t.fields&&(i.qdbapi.fields=t.fields),t.list&&(i.qdbapi.clist=t.list.join("."));const s=await this.getUserTicket();return s?i.qdbapi.ticket=s:this.config.userToken&&this.config.dev&&(i.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${t.to}?a=API_EditRecord`,headers:{"QUICKBASE-ACTION":"API_EditRecord","Content-Type":"application/xml"},data:z(i)}).then(a=>{const o=V(new window.DOMParser().parseFromString(a.data,"text/xml"));return a.data=o,a.data})}async fetchFromProjectsApp(t){const i=await this.upsertRecordsXML({to:"bsazqhchc",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],formatObject:12,data:t.fields});return i.data=i.data[0][12],i}async fetchFromStructureApp(t){const i=await this.upsertRecordsXML({to:"br9srnufv",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],formatObject:12,data:t.fields});return i.data=i.data[0][12],i}async fetchFromHiringApp(t){const i=await this.upsertRecordsXML({to:"br9vuzuj7",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],formatObject:12,data:t.fields});return i.data=i.data[0][12],i}async fetchFromRecruitingApp(t){const i=await this.upsertRecordsXML({to:"br9j45fg5",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14],formatObject:12,data:t.fields});return i.data=i.data[0][12],i}async fetchFromCredentialsAndTrainingApp(t){const i=await this.upsertRecordsXML({to:"bsgydhtiq",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14],formatObject:12,data:t.fields});return i.data=i.data[0][12],i}async softDeleteEmployee(t){const i=new Date,s=[{3:{value:t},109:{value:""},25:{value:""},28:{value:""},16:{value:""},26:{value:""},34:{value:""},509:{value:!0},510:{value:i}}],{data:r}=await this.upsertRecordsFormat({to:"bp3gb7ng2",fieldsToReturn:[3,500],data:s,formatObject:500});return r[3]}fetchIpInfo(){return fetch("https://1.1.1.1/cdn-cgi/trace").then(async t=>{const s=(await t.text()).split(`
`),r={};return s.forEach(a=>{const o=a.split("=");X(o[0])&&X(o[1])&&(r[`${o[0]}`]=o[1])}),this.setIpInfo(r),r})}async addLoginAttempt(t,i){const s=t.find(c=>X(c[6])),r=t.find(c=>X(c[7])),a=b(),o=a.add(this.config.lastAttemptExpMinutes,"minute");r[7]==="Invalid Login"||r[7]==="Invalid Password"?s[6]===this.loginAttempts.login?(this.loginAttempts.invalidLogins+=1,this.loginAttempts.exp=o,this.loginAttempts.currentTime=a,t.push({15:this.loginAttempts.invalidLogins}),t.push({16:o.valueOf()})):(this.loginAttempts.invalidLogins=1,this.loginAttempts.exp=o,this.loginAttempts.currentTime=a,this.loginAttempts.login=s[6],t.push({15:this.loginAttempts.invalidLogins}),t.push({16:o.valueOf()})):r[7]==="Successful"&&(this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null});const{data:n}=await this.upsertRecordsXML({to:"br54phpqz",data:t,formatObject:22,fieldsToReturn:[3,22]});if(i&&n.length===1&n[0][22])return this.setUserTicket(n[0][22][19])}async doQuery(t){const i={qdbapi:Q({},this.config.commonParameters)};t.queryTotalRecords=X(t.queryTotalRecords)?t.queryTotalRecords:!1,t.select&&(i.qdbapi.clist=t.select.join(".")),t.where&&(i.qdbapi.query=t.where);let s=null;if(t.sortBy)for(let c=0;c<t.sortBy.length;c++)c===0?(i.qdbapi.slist=`${t.sortBy[c].fieldId?`${t.sortBy[c].fieldId}.`:""}`,s=`${t.sortBy[c].order==="ASC"?"sortorder-A.":"sortorder-D."}`):(i.qdbapi.slist+=`${t.sortBy[c].fieldId?`${t.sortBy[c].fieldId}.`:""}`,s+=`${t.sortBy[c].order==="ASC"?"sortorder-A.":"sortorder-D."}`);t.options&&(i.qdbapi.options=`${t.options.top?`num-${t.options.top}.`:""}${s||""}${t.options.skip&&t.options.skip>0?`skp-${t.options.skip}`:""}`),this.config.appToken&&(i.qdbapi.apptoken=this.config.appToken);const r=await this.getUserTicket();r&&!t.refresh?i.qdbapi.ticket=r:this.config.userToken&&this.config.dev&&(i.qdbapi.usertoken=this.config.userToken);const a=this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${t.from}?a=API_DoQuery`,headers:{"QUICKBASE-ACTION":"API_DoQuery","Content-Type":"application/xml"},data:z(i)}).then(c=>{const d={};d.data=ar(new window.DOMParser().parseFromString(c.data,"text/xml")),d.fields=or(new window.DOMParser().parseFromString(c.data,"text/xml"));const m=[];return d.fields.forEach(w=>{w.type==="checkbox"&&m.push(w.id)}),d.data.forEach(w=>{for(const[O,S]of Object.entries(w))m.includes(O)&&(w[`${O}`]=S===1)}),d.metadata=Q({totalRecords:d.data.length,numRecords:d.data.length,numFields:t.select?t.select.length:0,skip:t.options&&t.options.skip?t.options.skip:0},t.options&&t.options.top?{top:t.options.top}:{}),c.data=d,c.data});let o=null;t.queryTotalRecords&&(o=this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${t.from}?a=API_DoQueryCount`,headers:{"QUICKBASE-ACTION":"API_DoQueryCount","Content-Type":"application/xml"},data:z(i)}).then(c=>{const d=V(new window.DOMParser().parseFromString(c.data,"text/xml"));return c.data=d,c.data}));const n=await a;if(t.queryTotalRecords){const c=await o;n.metadata.totalRecords=c.numMatches}return n}async checkKioskStatus(){if(this.kioskStore=this.kioskStore||U(),this.appConfig.dev&&this.kioskStore.kioskAccount)return!0;const{data:t}=await this.getNativeQuickbaseUser();return t.login==="Anonymous"?!1:(await this.kioskStore.fetchKioskAccount(t,!1)).length!==0}async getNativeQuickbaseUser(){return await this.axiosIns({method:"post",url:"https://elitehcms.quickbase.com/db/main?a=API_GetUserInfo",headers:{"QUICKBASE-ACTION":"API_GetUserInfo","Content-Type":"application/xml"}}).then(s=>{const r={};return r.data=rr(new window.DOMParser().parseFromString(s.data,"text/xml")),s.data=r,s.data})}}const X=e=>!(typeof e=="undefined"||e===null||e===""),P=e=>!isNaN(parseFloat(e))&&isFinite(e),z=e=>{let t="";for(const i in e){if(t+=e[i]instanceof Array?"":`<${i}>`,e[i]instanceof Array)if(i==="fields")for(let s=0;s<e[i].length;s++)if(Object.keys(e[i][s]).length===2&&e[i][s].filename){let r=null;for(const a in e[i][s])P(a)&&(r=a);t+=`<field fid="${r}" filename="${e[i][s].filename}">${e[i][s][`${r}`]}</field>`}else for(const r in e[i][s])t+=`<field fid="${r}">${e[i][s][r]}</field>`;else for(const s in e[i])t+=`<${i}>`,t+=z(e[i][s]),t+=`</${i}>`;else typeof e[i]=="object"?t+=z(e[i]):t+=e[i];t+=e[i]instanceof Array?"":`</${i}>`}return t=t.replace(/<\/?[0-9]{1,}>/g,""),t},Pe=e=>{let t="";for(const i in e){if(t+=e[i]instanceof Array?"":`<${i}>`,e[i]instanceof Array)if(i==="fields")for(let s=0;s<e[i].length;s++)if(Object.keys(e[i][s]).length===2&&e[i][s].filename){let r=null;for(const a in e[i][s])P(a)&&(r=a);t+=`<field fid="${r}" filename="${e[i][s].filename}">${e[i][s][`${r}`].value}</field>`}else for(const r in e[i][s])t+=`<field fid="${r}">${e[i][s][r].value}</field>`;else for(const s in e[i])t+=`<${i}>`,t+=Pe(e[i][s]),t+=`</${i}>`;else typeof e[i]=="object"?t+=Pe(e[i]):t+=e[i];t+=e[i]instanceof Array?"":`</${i}>`}return t=t.replace(/<\/?[0-9]{1,}>/g,""),t},V=e=>{const t=e.querySelector("qdbapi").children,i={};for(let s=0;s<t.length;s++)t[s].tagName!=="table"&&(i[`${t[s].tagName}`]=P(t[s].innerHTML)?parseInt(t[s].innerHTML):t[s].innerHTML);return i},rr=e=>{const t=e.querySelector("qdbapi user"),i={id:P(t.id)?parseInt(t.id):t.id};for(let s=0;s<t.children.length;s++)i[`${t.children[s].tagName}`]=P(t.children[s].innerHTML)?parseInt(t.children[s].innerHTML):t.children[s].innerHTML;return i},ar=e=>{const t=e.querySelector("qdbapi table records"),i=[];for(let s=0;s<t.children.length;s++){const r={};for(let a=0;a<t.children[s].children.length;a++)t.children[s].children[a].id&&(r[`${t.children[s].children[a].id}`]=P(t.children[s].children[a].innerHTML)?parseInt(t.children[s].children[a].innerHTML):t.children[s].children[a].innerHTML);i.push(r)}return i},nr=e=>{const t=e.querySelector("qdbapi record"),i={};for(let s=0;s<t.children.length;s++)t.children[s].id&&(i[`${t.children[s].id}`]=P(t.children[s].innerHTML)?parseInt(t.children[s].innerHTML):t.children[s].innerHTML);return i},or=e=>{const t=e.querySelector("qdbapi table fields"),i=[];for(let s=0;s<t.children.length;s++){let r=t.children[s].attributes.field_type.value,a=t.children[s].firstElementChild.nodeName==="label"?t.children[s].firstElementChild.innerHTML:null;if(!a){for(let n=0;n<t.children[s].children.length;n++)if(t.children[s].children[n].nodeName==="label"){a=t.children[s].children[n].innerHTML;break}}r==="float"&&(r="numeric");const o={id:t.children[s].id,label:a,type:r};i.push(o)}return i},Z=(e,t)=>(Array.isArray(e)?e.forEach(i=>{Object.keys(i).forEach(s=>{i[s]&&(i[s]=Z(i[s],s))})}):!P(t)&&typeof e=="object"&&!Array.isArray(e)&&e!==null?Object.keys(e).forEach(i=>{e[i]&&(e[i]=Z(e[i],i))}):X(e.date)&&X(e.time)&&e.time!=="::"?(e=`${e.date} ${e.time}`,e=b(e,"MM-DD-YYYY H:m:s").tz("America/Chicago")):X(e.date)?(e=`${e.date}`,e=b(e,"MM-DD-YYYY").tz("America/Chicago")):X(e.time)&&e.time!=="::"?(e=`${e.time}`,e=b(e,"H:m:s").tz("America/Chicago")):typeof e=="object"&&!Array.isArray(e)&&e!==null&&Object.keys(e).forEach(i=>{e[i]&&(e[i]=Z(e[i],i))}),e),he=e=>{try{let t=JSON.parse(e);return Array.isArray(t)?t.forEach(i=>{Object.keys(i).forEach(s=>{i[s]&&(i[s]=Z(i[s],s))})}):typeof t=="object"&&!Array.isArray(t)&&t!==null&&Object.keys(t).forEach(i=>{Array.isArray(t[i])?t[i].forEach(s=>{Object.keys(s).forEach(r=>{P(r)&&s[r]?s[r]=Z(s[r],r):s[r]&&typeof s[r]=="object"&&!Array.isArray(s[r])&&s[r]!==null&&Object.keys(s[r]).forEach(a=>{s[r][a]&&(s[r][a]=Z(s[r][a],a))})})}):typeof t[i]=="object"&&!Array.isArray(t[i])&&t[i]!==null&&(P(i)?t[i]=Z(t[i],i):Object.keys(t[i]).forEach(s=>{t[i][s]&&(t[i][s]=Z(t[i][s],s))}))}),t}catch(t){return console.log(t),console.log("error parsing:",e),[]}};function cr(e,t){return{quickbase:new sr(e,t)}}const lr=Ti(ki.create({baseURL:Tt.baseURL,timeout:25e3,headers:{"Content-Type":"application/json"}}),{maxRequests:6,perMilliseconds:1e3}),{quickbase:A}=cr(lr,{});var fr=Di(({app:e})=>{e.config.globalProperties.$quickbase=A}),br=Object.freeze(Object.defineProperty({__proto__:null,default:fr,quickbase:A},Symbol.toStringTag,{value:"Module"}));export{yt as a,C as b,B as c,U as d,E as e,N as f,J as g,gt as h,L as i,Ne as j,lt as k,_ as l,ir as m,br as n,Ns as o,A as q,ne as u,gr as z};
