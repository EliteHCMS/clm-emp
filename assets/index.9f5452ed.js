import{l as W,aa as ne,ab as de,c as z,ac as R,ad as pe,ae as m,o as ye,_ as X,p as u,a5 as k,a0 as n,t as N,v as t,d as s,af as p,x as Ce,ag as Z,a6 as C,ah as ue,a2 as $,ai as Ve,aj as se,ak as ae,r as A,al as h,am as ce,a4 as G,an as w,ao as le,a1 as K,a3 as re,a8 as oe,ap as ge,y as T,a9 as qe,F as _e,aq as ke,ar as Ee,as as $e,a7 as Se}from"./index.9e9af5b2.js";import{Q as me,a as fe,b as we}from"./QStep.415e789e.js";const Ue=W({props:{title:String,step:Number,name:Number},setup(){const e=ne(),l=de(),{formOptions:q,formOptionsLoaded:g}=l,{profile:b}=e,{inHiringCenter:E}=de(),o=[{label:"Scaffold Lead Carpenter",value:1},{label:"Insulation Metalman",value:2},{label:"Coatings Blaster/Painter",value:3}],a=z(()=>E?R({selection:R().required("Please select a job!").nullable()}):!1),{meta:i,errors:M,handleSubmit:S,isSubmitting:F}=pe({validationSchema:a,initialValues:{selection:b[19].value?{value:b[19].value,label:b[19].label}:null}}),{value:U}=m("selection"),P=S(L=>{const Y={19:{value:L.selection.value,label:L.selection.label}},I={next:1,values:Y};e.updateProfile(I)});return ye(()=>{g||l.getFormOptions()}),{formOptions:q,inHiringCenter:E,options:o,selection:U,formMeta:i,formErrors:M,isSubmitting:F,submitUpdate:P}}}),Pe={key:0},Ne={class:"text-caption"};function Ae(e,l,q,g,b,E){return u(),k(fe,{name:e.name,title:e.title,done:e.step>0},{default:n(()=>[e.inHiringCenter?(u(),N("div",Pe,[t("form",{onSubmit:l[1]||(l[1]=ue((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[s(Z,{autofocus:"",label:"Select a Job",modelValue:e.selection,"onUpdate:modelValue":l[0]||(l[0]=o=>e.selection=o),options:e.options,style:Ce(e.$q.screen.gt.md?"width: 50%":"width: 100%"),error:!!e.formErrors.selection,"bottom-slots":"",dense:""},{error:n(()=>[t("div",Ne,p(e.formErrors.selection),1)]),_:1},8,["modelValue","options","style","error"]),s(me,{class:"text-right"},{default:n(()=>[s(C,{type:"submit",color:"info",label:"Continue"})]),_:1})],32)])):$("",!0)]),_:1},8,["name","title","done"])}var Re=X(Ue,[["render",Ae]]);const Me=/^[0-9]{10}/g,Oe=W({props:{title:String,step:Number,name:Number},components:{PhoneInput:Ve},setup(){const{employee:e}=se(ae()),l=[{label:"Call",value:0},{label:"Text",value:1},{label:"Email",value:2}],q=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],g=A(!1),b=A(!1),E=A(null),o=ne(),a=R({first:h().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:h().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:h().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:h().nullable().notRequired(),email:h().required("Email is required!").email("You must provide a valid email!"),phone:h().matches(Me,{message:"Valid Phone Number Required!"}).required("Phone number is required!"),street1:h().required(),street2:h().nullable().notRequired(),city:h().required(),state:h().required(),postal:h().required(),addressCountry:R().required(),contact:R().nullable().notRequired()}),{meta:i,errors:M,handleSubmit:S,isSubmitting:F}=pe({validationSchema:a,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",phone:e.value[27]?e.value[27]:"",email:e.value[26]?e.value[26]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:U,meta:P}=m("first"),{value:L,meta:Y}=m("middle"),{value:I,meta:x}=m("last"),{value:j}=m("suffix"),{value:ee}=m("email"),{value:V}=m("phone"),{value:J}=m("contact"),{value:Q}=m("street1"),{value:H}=m("street2"),{value:d}=m("city"),{value:v}=m("state"),{value:f}=m("postal"),{value:O}=m("addressCountry"),B=z(()=>{const r=`${U.value} ${I.value} ${j.value}`;return ce.formatName(r)}),D=z(()=>`${Q.value}${H.value===""?"":` ${H.value}`}, ${d.value}, ${v.value}, ${f.value}, ${O.value.value}`),c=z(()=>{let r="";return V.value.length===11?r=V.value.substring(1):r=V.value,ce.formatPhone(r)});function y(){const r={next:2};o.updateProfile(r)}function _(){g.value=!0}const te=S(r=>{const he={23:r.first,24:r.middle,25:r.last,26:r.suffix,27:r.phone,28:r.email,46:r.contact,32:r.street1,33:r.street2,34:r.city,35:r.state,36:r.postal,37:r.addressCountry.name},be={next:2,values:he};g.value=!1,o.updateProfile(be)});function ie(){const r={next:0};o.updateProfile(r)}const ve=r=>{E.value=r};return ye(()=>{console.log(e.value)}),{submitUpdate:te,isSubmitting:F,save:y,back:ie,updateCountry:ve,first:U,middle:L,last:I,suffix:j,email:ee,phone:V,contact:J,street1:Q,street2:H,city:d,state:v,postal:f,addressCountry:O,hasPersonalInfo:b,showEdit:g,firstMeta:P,middleMeta:Y,lastMeta:x,formMeta:i,formErrors:M,options:l,countries:q,fullName:B,fullAddress:D,formatPhone:c,employee:e,showEditFunction:_}}}),Ie={class:"row justify-between"},He={class:"col-12 col-md-5"},ze={class:"text-caption"},Fe={class:"text-caption"},Le={class:"text-caption"},Ye={class:"text-caption"},je={class:"text-caption"},Qe={class:"text-caption"},Be={class:"col-12 col-md-6"},De={class:"text-caption"};function Te(e,l,q,g,b,E){const o=G("phone-input");return u(),N("form",{onSubmit:l[14]||(l[14]=ue((...a)=>e.submitUpdate&&e.submitUpdate(...a),["prevent"]))},[t("div",Ie,[t("div",He,[s(w,{dense:"",modelValue:e.first,"onUpdate:modelValue":l[0]||(l[0]=a=>e.first=a),label:"First Name *",error:!!e.formErrors.first,"bottom-slots":""},{error:n(()=>[t("div",ze,p(e.formErrors.first),1)]),_:1},8,["modelValue","error"]),s(w,{dense:"",modelValue:e.middle,"onUpdate:modelValue":l[1]||(l[1]=a=>e.middle=a),label:"Middle Name",error:!!e.formErrors.middle,"bottom-slots":""},{error:n(()=>[t("div",Fe,p(e.formErrors.middle),1)]),_:1},8,["modelValue","error"]),s(w,{dense:"",modelValue:e.last,"onUpdate:modelValue":l[2]||(l[2]=a=>e.last=a),label:"Last Name *",error:!!e.formErrors.last,"bottom-slots":""},{error:n(()=>[t("div",Le,p(e.formErrors.last),1)]),_:1},8,["modelValue","error"]),s(w,{dense:"",modelValue:e.suffix,"onUpdate:modelValue":l[3]||(l[3]=a=>e.suffix=a),label:"Suffix",error:!!e.formErrors.suffix,"bottom-slots":""},{error:n(()=>[t("div",Ye,p(e.formErrors.suffix),1)]),_:1},8,["modelValue","error"]),s(o,{dense:"",style:{"padding-bottom":"20px"},modelValue:e.phone,"onUpdate:modelValue":l[4]||(l[4]=a=>e.phone=a),label:"Phone Number *",error:!!e.formErrors.phone,errorMessage:e.formErrors.phone,bottomSlots:!0,onCountryChanged:e.updateCountry},null,8,["modelValue","error","errorMessage","onCountryChanged"]),s(w,{dense:"",modelValue:e.email,"onUpdate:modelValue":l[5]||(l[5]=a=>e.email=a),label:"Email *",error:!!e.formErrors.email,"bottom-slots":""},{error:n(()=>[t("div",je,p(e.formErrors.email),1)]),_:1},8,["modelValue","error"]),s(Z,{dense:"",modelValue:e.contact,"onUpdate:modelValue":l[6]||(l[6]=a=>e.contact=a),label:"Preferred Contact Method",options:e.options,error:!!e.formErrors.contact,"bottom-slots":""},{error:n(()=>[t("div",Qe,p(e.formErrors.contact),1)]),_:1},8,["modelValue","options","error"])]),e.$q.screen.gt.sm?(u(),k(le,{key:0,vertical:""})):$("",!0),t("div",Be,[s(w,{dense:"",modelValue:e.street1,"onUpdate:modelValue":l[7]||(l[7]=a=>e.street1=a),label:"Street Address 1 *",error:!!e.formErrors.street1,"bottom-slots":""},null,8,["modelValue","error"]),s(w,{dense:"",modelValue:e.street2,"onUpdate:modelValue":l[8]||(l[8]=a=>e.street2=a),label:"Street Address 2",error:!!e.formErrors.street2,"bottom-slots":""},null,8,["modelValue","error"]),s(w,{dense:"",modelValue:e.city,"onUpdate:modelValue":l[9]||(l[9]=a=>e.city=a),label:"City *",error:!!e.formErrors.city,"bottom-slots":""},null,8,["modelValue","error"]),s(w,{dense:"",modelValue:e.state,"onUpdate:modelValue":l[10]||(l[10]=a=>e.state=a),label:"State/Region *",error:!!e.formErrors.state,"bottom-slots":""},null,8,["modelValue","error"]),s(w,{dense:"",modelValue:e.postal,"onUpdate:modelValue":l[11]||(l[11]=a=>e.postal=a),label:"Postal Code *",error:!!e.formErrors.postal,"bottom-slots":""},null,8,["modelValue","error"]),s(Z,{dense:"",modelValue:e.addressCountry,"onUpdate:modelValue":l[12]||(l[12]=a=>e.addressCountry=a),label:"Country *",options:e.countries,error:!!e.formErrors.addressCountry,"bottom-slots":""},{error:n(()=>[t("div",De,p(e.formErrors.addressCountry),1)]),_:1},8,["modelValue","options","error"])])]),s(me,{class:"text-right"},{default:n(()=>[s(C,{onClick:l[13]||(l[13]=a=>e.$emit("back")),color:"secondary",label:"Back",class:"q-mr-sm"}),s(C,{type:"submit",color:"info",label:"Continue"})]),_:1})],32)}var Ze=X(Oe,[["render",Te]]);const Je=/^[0-9]{10}/g,Ge=W({props:{title:String,step:Number,name:Number},components:{editPersonalInfo:Ze},setup(){const{employee:e}=se(ae()),l=[{label:"Call",value:0},{label:"Text",value:1},{label:"Email",value:2}],q=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],g=A(!1),b=A(!1),E=A(null),o=ne(),a=R({first:h().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:h().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:h().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:h().nullable().notRequired(),email:h().required("Email is required!").email("You must provide a valid email!"),phone:h().matches(Je,{message:"Valid Phone Number Required!"}).required("Phone number is required!"),street1:h().required(),street2:h().nullable().notRequired(),city:h().required(),state:h().required(),postal:h().required(),addressCountry:R().required(),contact:R().nullable().notRequired()}),{meta:i,errors:M,handleSubmit:S,isSubmitting:F}=pe({validationSchema:a,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",phone:e.value[27]?e.value[27]:"",email:e.value[26]?e.value[26]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:U,meta:P}=m("first"),{value:L,meta:Y}=m("middle"),{value:I,meta:x}=m("last"),{value:j}=m("suffix"),{value:ee}=m("email"),{value:V}=m("phone"),{value:J}=m("contact"),{value:Q}=m("street1"),{value:H}=m("street2"),{value:d}=m("city"),{value:v}=m("state"),{value:f}=m("postal"),{value:O}=m("addressCountry"),B=z(()=>{const r=`${U.value} ${I.value} ${j.value}`;return ce.formatName(r)}),D=z(()=>`${Q.value}${H.value===""?"":` ${H.value}`}, ${d.value}, ${v.value}, ${f.value}, ${O.value.value}`),c=z(()=>{let r="";return V.value.length===11?r=V.value.substring(1):r=V.value,ce.formatPhone(r)});function y(){const r={next:2};o.updateProfile(r)}function _(){g.value=!0}const te=S(r=>{const he={23:r.first,24:r.middle,25:r.last,26:r.suffix,27:r.phone,28:r.email,46:r.contact,32:r.street1,33:r.street2,34:r.city,35:r.state,36:r.postal,37:r.addressCountry.name},be={next:2,values:he};g.value=!1,o.updateProfile(be)});function ie(){g.value=!1;const r={next:0};o.updateProfile(r)}const ve=r=>{E.value=r};return ye(()=>{console.log(e.value)}),{submitUpdate:te,isSubmitting:F,save:y,back:ie,updateCountry:ve,first:U,middle:L,last:I,suffix:j,email:ee,phone:V,contact:J,street1:Q,street2:H,city:d,state:v,postal:f,addressCountry:O,hasPersonalInfo:b,showEdit:g,firstMeta:P,middleMeta:Y,lastMeta:x,formMeta:i,formErrors:M,options:l,countries:q,fullName:B,fullAddress:D,formatPhone:c,employee:e,showEditFunction:_}}}),Ke={key:1},We={class:"text-h6 text-dark"},Xe=oe(" Your Information "),xe={class:"row"},et={class:"col-12 col-md-4 q-py-sm"},tt=t("div",{class:"text-body1 text-primary"},"Name",-1),ot={class:"text-body2 text-dark q-pl-sm"},st={class:"col-12 col-md-4 q-py-sm"},lt=t("div",{class:"text-body1 text-primary"},"Phone",-1),at={class:"text-body2 text-dark q-pl-sm"},rt={class:"col-12 col-md-4 q-py-sm"},nt=t("div",{class:"text-body1 text-primary"},"Email",-1),it={class:"text-body2 text-dark q-pl-sm"},dt={class:"row"},ut={class:"col-12 col-md-8 q-py-sm"},ct=t("div",{class:"text-body1 text-primary"},"Address",-1),mt={class:"text-body2 text-dark q-pl-sm"},pt={class:"col-12 col-md-4 q-py-sm"},ft=t("div",{class:"text-body1 text-primary"},"Contact Method",-1),vt={class:"text-body2 text-dark q-pl-sm"};function ht(e,l,q,g,b,E){const o=G("edit-personal-info");return u(),k(fe,{name:e.name,title:e.title,done:e.step>1},{default:n(()=>[e.showEdit?(u(),k(o,{key:0,onBack:e.back},null,8,["onBack"])):$("",!0),e.showEdit?$("",!0):(u(),N("div",Ke,[s(re,null,{default:n(()=>[s(K,null,{default:n(()=>[t("div",We,[Xe,s(C,{round:"",size:"sm",color:"accent",icon:"edit",onClick:e.showEditFunction},null,8,["onClick"])]),t("div",xe,[t("div",et,[tt,t("div",ot,p(e.employee[24]),1)]),t("div",st,[lt,t("div",at,p(e.employee[25]),1)]),t("div",rt,[nt,t("div",it,p(e.employee[26]),1)])]),t("div",dt,[t("div",ut,[ct,t("div",mt,p(e.employee[40]),1)]),t("div",pt,[ft,t("div",vt,p(e.employee[58]),1)])])]),_:1})]),_:1}),s(me,{class:"text-right"},{default:n(()=>[s(C,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),s(C,{onClick:e.save,color:"info",label:"Continue"},null,8,["onClick"])]),_:1})]))]),_:1},8,["name","title","done"])}var bt=X(Ge,[["render",ht]]);const yt=W({props:{title:String,step:Number,name:Number},setup(){const e=ge(),l=ne(),q=de(),{formOptions:g}=se(q),{savedEmergencyContacts:b}=se(ae()),{removeContact:E,addContact:o,updateContact:a}=ae(),i=A({name:"first",value:null}),M=A({name:"last",value:null}),S=A({name:"phone",value:null}),F=A({name:"relationship",value:null}),U=A([]),P=z(()=>{const d=b.value.concat(U.value);return d.sort(function(v,f){return v.editing&&!f.editing?-1:!v.editing&&f.editing?1:0}),d}),L=z(()=>P.value.filter(v=>v.editing).length>0);function Y(){const d={next:3};l.updateProfile(d)}function I(){const d={next:1};l.updateProfile(d)}function x(){const d={3:P.value.length+1,6:"",7:"",8:"",11:"",12:"",editing:!0,new:!0,contact:null};U.value.push(d),console.log(P.value)}function j(d){b.value[d].editing=!0}function ee(d){const v=P.value[d];console.log(v),e.dialog({title:"Alert",message:`Are you sure you want to remove ${v.fullName}?`,cancel:!0,persistent:!0}).onOk(()=>{E(v[3])})}const V=R({relationship:R().required("Relationship is required.").nullable(),phone:h().matches(/^[0-9]{10}/g,{message:"Valid Phone Number Required!"}).length(10,{message:"Phone number must be 10 digits."}).required("Phone is required."),last:h().required("Last name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."}),first:h().required("First name is required.").matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Cannot contain numbers or special characters."})}).required();function J(d){const v=[i.value,M.value,S.value,F.value];d?v.forEach(f=>{f.name===d.name?f.value=d.message:f.value=null}):v.forEach(f=>{f.value=null})}async function Q(d,v){const f=P.value[v];try{await V.validate({relationship:d.contact,phone:d[8],last:d[7],first:d[6]}),f[11]=d.contact.value,f[12]=d.contact.label,f.editing=!1,J(),f.new?(f.new=!1,o(f),U.value.forEach((O,B)=>{O[3]===f[3]&&U.value.splice(B,1)})):a(f)}catch({name:O,path:B,errors:D,inner:c}){let y="";D[0]instanceof Object?y=D[0].message:y=D[0],J({name:B,message:y})}}function H(d){const v=P.value[d];console.log(v),v.new?U.value.forEach((f,O)=>{f[3]===v[3]&&U.value.splice(O,1)}):P.value[d].editing=!1}return{save:Y,back:I,savedEmergencyContacts:b,allContacts:P,editing:L,formOptions:g,editItem:j,removeItem:ee,saveItem:Q,cancelEdit:H,addNewContactRow:x,addContact:o,updateContact:a,firstError:i,lastError:M,phoneError:S,relationshipError:F,helpers:ce}}}),$t={class:"row q-pb-sm"},gt={class:"col-6 text-left"},qt={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},_t=["id"],Ct={key:0,class:"row items-center"},Vt={class:"col-6 col-md-4"},kt={class:"text-body2"},Et=t("div",{class:"text-primary"},"Name",-1),St={class:"text-dark q-pl-sm"},wt={class:"col-6 col-md-3"},Ut={class:"text-body2"},Pt=t("div",{class:"text-primary"},"Phone",-1),Nt={class:"text-dark q-pl-sm"},At={class:"text-body2"},Rt=t("div",{class:"text-primary"},"Relationship",-1),Mt={class:"text-dark q-pl-sm"},Ot={key:1,class:"items-center"},It=["onSubmit"],Ht={class:"row"},zt={class:"col-12 col-md-3 q-pr-md"},Ft={class:"col-12 col-md-3 q-pr-md"},Lt={class:"col-12 col-md-3 q-pr-md"},Yt={class:"col-12 col-md-3"},jt={class:"row q-mt-md"},Qt={class:"col text-right"};function Bt(e,l,q,g,b,E){return u(),k(fe,{name:e.name,title:e.title},{default:n(()=>[t("div",null,[s(re,null,{default:n(()=>[e.editing?$("",!0):(u(),k(K,{key:0},{default:n(()=>[t("div",$t,[t("div",gt,[s(C,{color:"accent",label:e.allContacts.length>0?"Add Another Contact":"Add Emergency Contacts",onClick:e.addNewContactRow,icon:"add"},null,8,["label","onClick"])])])]),_:1})),e.editing?(u(),k(le,{key:1})):$("",!0),s(K,{class:T(e.editing?"q-pt-sm":"q-pt-none")},{default:n(()=>[e.allContacts.length===0?(u(),N("div",qt,"Add your Emergency Contact(s). This is required to continue.")):$("",!0),(u(!0),N(_e,null,qe(e.allContacts,(o,a)=>(u(),N("div",{id:o[3],key:o[3]},[s(re,{class:"q-pa-sm",flat:""},{default:n(()=>[o.editing?$("",!0):(u(),N("div",Ct,[t("div",Vt,[t("div",kt,[Et,t("div",St,p(e.helpers.formatName(o[6]))+" "+p(e.helpers.formatName(o[7])),1)])]),t("div",wt,[t("div",Ut,[Pt,t("div",Nt,p(e.helpers.formatPhone(o[8])),1)])]),t("div",{class:T(e.$q.screen.gt.sm?"col-3":"col-6 q-pt-md")},[t("div",At,[Rt,t("div",Mt,p(o[12]),1)])],2),t("div",{class:T(e.$q.screen.gt.sm?"col-2 text-right":"col-6 q-pt-md text-center")},[t("div",null,[s(C,{size:"sm",round:"",onClick:i=>e.editItem(a),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),s(C,{size:"sm",round:"",onClick:i=>e.removeItem(a),color:"primary",icon:"delete"},null,8,["onClick"])])],2)])),o.editing?(u(),N("div",Ot,[t("form",{onSubmit:ue(i=>e.saveItem(o,a),["prevent"])},[t("div",Ht,[t("div",zt,[s(w,{modelValue:o[6],"onUpdate:modelValue":i=>o[6]=i,dense:"",label:"First Name",error:!!e.firstError.value,"bottom-slots":""},{error:n(()=>[oe(p(e.firstError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Ft,[s(w,{modelValue:o[7],"onUpdate:modelValue":i=>o[7]=i,dense:"",label:"Last Name",error:!!e.lastError.value,"bottom-slots":""},{error:n(()=>[oe(p(e.lastError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Lt,[s(w,{modelValue:o[8],"onUpdate:modelValue":i=>o[8]=i,dense:"",label:"Phone",error:!!e.phoneError.value,"bottom-slots":""},{error:n(()=>[oe(p(e.phoneError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","error"])]),t("div",Yt,[s(Z,{behavior:"menu",position:"top middle",modelValue:o.contact,"onUpdate:modelValue":i=>o.contact=i,dense:"",label:"Relationship",options:e.formOptions.relationships,error:!!e.relationshipError.value,"bottom-slots":""},{error:n(()=>[oe(p(e.relationshipError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","error"])])]),t("div",jt,[t("div",Qt,[s(C,{onClick:i=>e.cancelEdit(a),color:"secondary",label:"Cancel",class:"q-mr-sm"},null,8,["onClick"]),s(C,{type:"submit",color:"info",label:"Save"})])])],40,It)])):$("",!0)]),_:2},1024),a<e.allContacts.length-1?(u(),k(le,{key:0})):$("",!0)],8,_t))),128))]),_:1},8,["class"])]),_:1}),e.editing?$("",!0):(u(),k(me,{key:0,class:"text-right"},{default:n(()=>[s(C,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),s(C,{onClick:e.save,color:"info",label:"Continue",disabled:e.savedEmergencyContacts.length===0},null,8,["onClick","disabled"])]),_:1}))])]),_:1},8,["name","title"])}var Dt=X(yt,[["render",Bt]]);const Tt=W({props:{title:String,step:Number,name:Number},setup(){const e=ke(),l=A(3),q=A(!1),g=ge(),b=ne(),{formOptions:E}=se(de()),{savedHistory:o}=se(ae()),{addHistory:a,updateHistory:i,removeHistory:M}=ae(),S=A([]),{getVoluntaryFormOptions:F}=de(),U=R({craft:R().required("Select a Craft!").nullable(),experience:R().required("Select Experience").nullable(),employment:R().required("Select Employment Status").nullable()}),{meta:P,errors:L,handleSubmit:Y}=pe({validationSchema:U}),{value:I}=m("craft"),{value:x}=m("experience"),{value:j}=m("employment"),ee=Y(async c=>{const y={40:{value:c.craft.value,label:c.craft.label},42:{value:c.experience.value,label:c.experience.label},44:{value:c.employment.value,label:c.employment.label}},_={next:6,values:y};await F(),e.push({name:"voluntary"}),b.updateProfile(_)}),V=z(()=>{const c=o.value.concat(S.value);return c.sort(function(y,_){return y.editing&&!_.editing?-1:!y.editing&&_.editing?1:0}),c}),J=z(()=>V.value.filter(y=>y.editing).length>0);function Q(){const c={3:V.value.length+1,6:"",7:"",10:"",11:"",12:"",13:"",15:"",16:"",editing:!0,new:!0,company:null,craft:null};S.value.push(c)}function H(){const c={next:4};b.updateProfile(c)}function d(){const c={next:2};b.updateProfile(c)}function v(c){o.value[c].editing=!0}function f(c){const y=V.value[c];console.log(y),g.dialog({title:"Alert",message:"Are you sure you want to remove?",cancel:!0,persistent:!0}).onOk(()=>{M(y[3])})}function O(c,y){const _=V.value[y];_[6]=c.company.value,_[7]=c.company.label,_[15]=c.craft.value,_[16]=c.craft.label,_.editing=!1,_.new?(_.new=!1,S.value.forEach((te,ie)=>{te[3]===_[3]&&S.value.splice(ie,1)}),a(_)):i(_)}function B(c){const y=V.value[c];console.log(y),y.new?S.value.forEach((_,te)=>{_[3]===y[3]&&S.value.splice(te,1)}):V.value[c].editing=!1}function D(){q.value?(l.value=3,q.value=!1):(q.value=!0,l.value=V.value.length)}return{save:H,back:d,allHistory:V,addNewRow:Q,editItem:v,removeItem:f,saveItem:O,cancelEdit:B,formOptions:E,editing:J,date:Ee,show:l,expanded:q,adjustRows:D,formMeta:P,formErrors:L,submitUpdate:ee,craft:I,experience:x,employment:j}}}),Zt={class:"row"},Jt={class:"col-12 col-md-4 q-px-xs"},Gt={class:"text-caption"},Kt={class:"col-12 col-md-4 q-px-xs"},Wt={class:"text-caption"},Xt={class:"col-12 col-md-4 q-px-xs"},xt={class:"text-caption"},eo={class:"row q-pb-sm"},to={class:"col-6 text-left"},oo={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},so=["id"],lo={key:0,class:"row items-center"},ao={class:"col-12 col-md-3"},ro={class:"text-body2"},no=t("div",{class:"text-primary"},"Company",-1),io={class:"text-dark q-pl-sm"},uo={class:"text-body2"},co=t("div",{class:"text-primary"},"Location",-1),mo={class:"text-dark q-pl-sm"},po={class:"text-body2"},fo=t("div",{class:"text-primary"},"Job Title",-1),vo={class:"text-dark q-pl-sm"},ho={class:"text-body2"},bo=t("div",{class:"text-primary"},"Start Date",-1),yo={class:"text-dark q-pl-sm"},$o={class:"text-body2"},go=t("div",{class:"text-primary"},"End Date",-1),qo={class:"text-dark q-pl-sm"},_o={key:1,class:"items-center"},Co=["onSubmit"],Vo={class:"row"},ko={class:"col-12 col-md-2 q-pr-md"},Eo={class:"col-12 col-md-2 q-pr-md"},So={class:"col-12 col-md-2 q-pr-md"},wo={class:"col-12 col-md-2 q-pr-md"},Uo={class:"col-12 col-md-2 q-pr-md"},Po={class:"col-12 col-md-2 q-pr-md"},No={class:"row q-mt-md"},Ao={class:"col text-right"},Ro={class:"row q-pt-md"},Mo={key:0,class:"col-12 text-right"},Oo=oe("Show Less"),Io=oe("Show More");function Ho(e,l,q,g,b,E){return u(),k(fe,{name:e.name,title:e.title,done:e.step>3},{default:n(()=>[t("div",null,[t("form",{onSubmit:l[3]||(l[3]=ue((...o)=>e.submitUpdate&&e.submitUpdate(...o),["prevent"]))},[s(re,null,{default:n(()=>[s(K,{class:"q-pb-none"},{default:n(()=>[t("div",Zt,[t("div",Jt,[s(Z,{behavior:"menu",position:"top middle",dense:"",modelValue:e.craft,"onUpdate:modelValue":l[0]||(l[0]=o=>e.craft=o),label:"Primary Craft",options:e.formOptions.crafts,error:!!e.formErrors.craft,"bottom-slots":""},{error:n(()=>[t("div",Gt,p(e.formErrors.craft),1)]),_:1},8,["modelValue","options","error"])]),t("div",Kt,[s(Z,{behavior:"menu",position:"top middle",dense:"",modelValue:e.experience,"onUpdate:modelValue":l[1]||(l[1]=o=>e.experience=o),label:"Years of Experience",options:e.formOptions.experience,error:!!e.formErrors.experience,"bottom-slots":""},{error:n(()=>[t("div",Wt,p(e.formErrors.experience),1)]),_:1},8,["modelValue","options","error"])]),t("div",Xt,[s(Z,{behavior:"menu",position:"top middle",dense:"",modelValue:e.employment,"onUpdate:modelValue":l[2]||(l[2]=o=>e.employment=o),label:"Current Employment Status",options:e.formOptions.employment,error:!!e.formErrors.employment,"bottom-slots":""},{error:n(()=>[t("div",xt,p(e.formErrors.employment),1)]),_:1},8,["modelValue","options","error"])])])]),_:1}),e.editing?$("",!0):(u(),k(K,{key:0},{default:n(()=>[t("div",eo,[t("div",to,[s(C,{color:"accent",label:e.allHistory.length>0?"Add More History":"Add Employment History",onClick:e.addNewRow,icon:"add"},null,8,["label","onClick"])])])]),_:1})),e.editing?(u(),k(le,{key:1})):$("",!0),s(K,{class:T(e.editing?"q-pt-sm":"q-pt-none")},{default:n(()=>[e.allHistory.length===0?(u(),N("div",oo,"Add your employment history. You may enter this information later.")):$("",!0),(u(!0),N(_e,null,qe(e.allHistory,(o,a)=>(u(),N("div",{id:o[3],key:a},[e.expanded||a+1<=e.show?(u(),k(re,{key:0,class:"q-px-sm q-pt-xs q-pb-sm",flat:""},{default:n(()=>[o.editing?$("",!0):(u(),N("div",lo,[t("div",ao,[t("div",ro,[no,t("div",io,p(o[7]),1)])]),t("div",{class:T(e.$q.screen.gt.sm?"col-2":"col-12 q-pt-md")},[t("div",uo,[co,t("div",mo,p(o[10]!==""?o[10]:"N/A"),1)])],2),t("div",{class:T(e.$q.screen.gt.sm?"col-2":"col-12 q-pt-md")},[t("div",po,[fo,t("div",vo,p(o[16])+" "+p(o[11]),1)])],2),t("div",{class:T(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",ho,[bo,t("div",yo,p(e.date.formatDate(o[12],"MM-DD-YYYY")),1)])],2),t("div",{class:T(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[t("div",$o,[go,t("div",qo,p(e.date.formatDate(o[13],"MM-DD-YYYY")),1)])],2),t("div",{class:T(e.$q.screen.gt.sm?"col-1 text-right":"col-12 q-pt-md text-right")},[t("div",null,[s(C,{size:"sm",round:"",onClick:i=>e.editItem(a),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),s(C,{size:"sm",round:"",onClick:i=>e.removeItem(a),color:"primary",icon:"delete"},null,8,["onClick"])])],2)])),o.editing?(u(),N("div",_o,[t("form",{onSubmit:ue(i=>e.saveItem(o,a),["prevent"])},[t("div",Vo,[t("div",ko,[s(Z,{modelValue:o.company,"onUpdate:modelValue":i=>o.company=i,dense:"",label:"Company",options:e.formOptions.companies},null,8,["modelValue","onUpdate:modelValue","options"])]),t("div",Eo,[s(Z,{modelValue:o.craft,"onUpdate:modelValue":i=>o.craft=i,dense:"",label:"Craft",options:e.formOptions.crafts},null,8,["modelValue","onUpdate:modelValue","options"])]),t("div",So,[s(w,{modelValue:o[11],"onUpdate:modelValue":i=>o[11]=i,dense:"",label:"Job Title"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",wo,[s(w,{modelValue:o[10],"onUpdate:modelValue":i=>o[10]=i,dense:"",label:"Location"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Uo,[s(w,{type:"date",modelValue:o[12],"onUpdate:modelValue":i=>o[12]=i,dense:"",filled:"",hint:"Start Date"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Po,[s(w,{type:"date",modelValue:o[13],"onUpdate:modelValue":i=>o[13]=i,dense:"",filled:"",hint:"End Date"},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",No,[t("div",Ao,[s(C,{onClick:i=>e.cancelEdit(a),color:"secondary",label:"Cancel",class:"q-mr-sm"},null,8,["onClick"]),s(C,{type:"submit",color:"info",label:"Save"})])])],40,Co)])):$("",!0)]),_:2},1024)):$("",!0),a<e.allHistory.length-1?(u(),k(le,{key:1})):$("",!0)],8,so))),128)),e.allHistory.length>0?(u(),k(le,{key:1})):$("",!0),t("div",Ro,[e.allHistory.length>e.show||e.expanded?(u(),N("div",Mo,[s(C,{round:"",color:"secondary",onClick:e.adjustRows,icon:e.expanded?"expand_less":"expand_more"},{default:n(()=>[e.expanded?(u(),k($e,{key:0,anchor:"top middle"},{default:n(()=>[Oo]),_:1})):$("",!0),e.expanded?$("",!0):(u(),k($e,{key:1,anchor:"top middle"},{default:n(()=>[Io]),_:1}))]),_:1},8,["onClick","icon"])])):$("",!0)])]),_:1},8,["class"])]),_:1}),e.editing?$("",!0):(u(),k(me,{key:0,class:"text-right"},{default:n(()=>[s(C,{onClick:e.back,color:"secondary",label:"Back",class:"q-mr-sm"},null,8,["onClick"]),s(C,{type:"submit",color:"info",label:"Continue"})]),_:1}))],32)])]),_:1},8,["name","title","done"])}var zo=X(Tt,[["render",Ho]]);const Fo=W({components:{selectJob:Re,personalInfo:bt,emergencyContact:Dt,workHistory:zo},setup(){const{step:e}=se(ne()),l=A(null);return{step:e,jobSelection:l,jobOptions:[{label:"Default Job",value:0}]}}});function Lo(e,l,q,g,b,E){const o=G("select-job"),a=G("personal-info"),i=G("emergency-contact"),M=G("work-history");return u(),N("div",null,[s(we,{modelValue:e.step,"onUpdate:modelValue":l[0]||(l[0]=S=>e.step=S),vertical:"",animated:"","done-color":"info","active-color":"dark","inactive-color":"secondary"},{default:n(()=>[s(o,{title:"Select a Job",step:e.step,name:0,done:e.step>0},null,8,["step","done"]),s(a,{title:"Personal Information",step:e.step,name:1,done:e.step>1},null,8,["step","done"]),s(i,{title:"Emergency Contacts",step:e.step,name:2,done:e.step>2},null,8,["step","done"]),s(M,{title:"Update Your Employment Information",step:e.step,name:3,done:e.step>3},null,8,["step","done"])]),_:1},8,["modelValue"])])}var Yo=X(Fo,[["render",Lo]]);const jo=W({components:{profileStepper:Yo},setup(){}});function Qo(e,l,q,g,b,E){const o=G("profile-stepper");return u(),N("div",null,[s(o)])}var Bo=X(jo,[["render",Qo]]);const Do=W({components:{Profile:Bo},setup(){return{step:A(0)}}}),To={class:"row"},Zo={class:"col-12 q-pt-sm"},Jo=t("div",{class:"text-h6 text-dark"}," Complete Application ",-1),Go=t("div",{class:"text-body1 text-secondary text-italic"}," Please complete the application. ",-1);function Ko(e,l,q,g,b,E){const o=G("profile");return u(),k(Se,{style:{"max-width":"100vw"}},{default:n(()=>[t("div",To,[t("div",Zo,[s(re,{flat:""},{default:n(()=>[s(K,null,{default:n(()=>[Jo,Go]),_:1}),s(K,null,{default:n(()=>[s(o)]),_:1})]),_:1})])])]),_:1})}var xo=X(Do,[["render",Ko]]);export{xo as default};
