import{bF as fe,bG as ye,bH as ve,r as w,ac as v,cO as he,b8 as ge,u as U,bV as x,cP as pe,cy as ue,ar as ke,d as de,bU as $e,bT as we,bN as je,cx as qe,cQ as ce,cw as Ce,bM as Fe,_ as me,g as o,h,al as a,bd as l,bO as D,l as u,k as t,bW as Z,Z as d,ad as b,ae as i,bP as I,bQ as X,n as Se,bf as ne,bY as ie,cz as be,bZ as Be,ak as j,bE as Ve,aT as _e,cR as H,cS as W,cT as z,cU as P,a2 as K,aS as Y,cV as G}from"./index.a71f5d5e.js";import{Q as Me}from"./QPage.b5804b9e.js";import{Q as re}from"./QBadge.aa738394.js";var Pe=fe({name:"QPagination",props:{...ye,modelValue:{type:Number,required:!0},min:{type:Number,default:1},max:{type:Number,required:!0},color:{type:String,default:"primary"},textColor:String,activeColor:String,activeTextColor:String,inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},maxPages:{type:Number,default:0,validator:e=>e>=0},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,dense:Boolean,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:r}){const{proxy:B}=ke(),{$q:g}=B,q=ve(e,g),p=w(null),f=v({get:()=>e.modelValue,set:m=>{if(m=parseInt(m,10),e.disable||isNaN(m))return;const k=he(m,e.min,e.max);e.modelValue!==k&&r("update:modelValue",k)}});ge(()=>e.min+e.max,()=>{f.value=e.modelValue});function s(m,k){return[!0,!1].includes(m)?m:k}const V=v(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),$=v(()=>f.value+" / "+e.max),J=v(()=>s(e.boundaryLinks,e.input)),_=v(()=>s(e.boundaryNumbers,!e.input)),N=v(()=>s(e.directionLinks,e.input)),O=v(()=>s(e.ellipses,!e.input)),Q=v(()=>{const m=[e.iconFirst||g.iconSet.pagination.first,e.iconPrev||g.iconSet.pagination.prev,e.iconNext||g.iconSet.pagination.next,e.iconLast||g.iconSet.pagination.last];return g.lang.rtl===!0?m.reverse():m}),n=v(()=>e.disable===!0?{"aria-disabled":"true"}:{}),c=v(()=>({round:e.round,rounded:e.rounded,outline:e.outline,unelevated:e.unelevated,push:e.push,glossy:e.glossy,dense:e.dense,padding:e.padding,color:e.color,flat:!0,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),F=v(()=>({flat:e.flat,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor}));function E(m){f.value=m}function y(m){f.value=f.value+m}function ee(){f.value=p.value,p.value=null}function M(m,k){const A={...c.value,...m};return k!==void 0&&(e.toFn!==void 0?A.to=e.toFn(k):A.onClick=()=>E(k)),U(x,A)}return Object.assign(B,{set:E,setByOffset:y}),()=>{const m=[],k=[],A=[];if(J.value&&(m.push(M({key:"bls",disable:e.disable||e.modelValue<=e.min,icon:Q.value[0]},e.min)),k.unshift(M({key:"ble",disable:e.disable||e.modelValue>=e.max,icon:Q.value[3]},e.max))),N.value&&(m.push(M({key:"bdp",disable:e.disable||e.modelValue<=e.min,icon:Q.value[1]},e.modelValue-1)),k.unshift(M({key:"bdn",disable:e.disable||e.modelValue>=e.max,icon:Q.value[2]},e.modelValue+1))),e.input===!0)A.push(U(ue,{class:"inline",style:{width:`${$.value.length/1.5}em`},type:"number",dense:!0,value:p.value,disable:e.disable,dark:q.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:$.value,min:e.min,max:e.max,"onUpdate:modelValue"(S){p.value=S},onKeyup(S){pe(S,13)===!0&&ee()},onBlur:ee}));else{let S=Math.max(e.maxPages,1+(O.value?2:0)+(_.value?2:0)),L=e.min,T=e.max,te=!1,le=!1,ae=!1,oe=!1;e.maxPages&&S<e.max-e.min+1&&(S=1+Math.floor(S/2)*2,L=Math.max(e.min,Math.min(e.max-S+1,e.modelValue-Math.floor(S/2))),T=Math.min(e.max,L+S-1),_.value&&(ae=!0,L+=1),O.value&&L>e.min+(_.value?1:0)&&(te=!0,L+=1),_.value&&(oe=!0,T-=1),O.value&&T<e.max-(_.value?1:0)&&(le=!0,T-=1));const R={minWidth:`${Math.max(2,String(e.max).length)}em`};if(ae){const C=e.min===e.modelValue;m.push(M({key:"bns",style:R,disable:e.disable,flat:!C,label:e.min,...C?F.value:{}},e.min))}if(oe){const C=e.max===e.modelValue;k.unshift(M({key:"bne",style:R,disable:e.disable,flat:!C,label:e.max,...C?F.value:{}},e.max))}te&&m.push(M({key:"bes",style:R,disable:e.disable,label:"\u2026",ripple:!1},L-1)),le&&k.unshift(M({key:"bee",style:R,disable:e.disable,label:"\u2026",ripple:!1},T+1));for(let C=L;C<=T;C++){const se={key:`bpg${C}`,style:R,disable:e.disable,label:C};C===e.modelValue&&Object.assign(se,F.value),A.push(M(se,C))}}return U("div",{class:V.value,...n.value},[m,U("div",{class:"row justify-center"},[A]),k])}}});const Qe=de({props:{job:Object},setup(e){const r=$e(),B=w(0),g=w(20),q=we(),p=w(!1),f=w(!1),s=w(!1),{voluntaryFormsComplete:V,employeeData:$,updateEmployeeFromApp:J}=je(),{fetchFormOptions:_}=qe(),{applyOnBoard:N,storeBoardApp:O}=ce(),{updateProfile:Q}=Ce(),n=v(()=>{const y=e.job;return y[201]?!(q.screen.lt.md&&y.recommended):!1});async function c(){f.value=!0}async function F(){try{s.value=!0;const y=await N({job:e.job});J({action:"push",values:y,key:537}),f.value=!1,p.value=!1,s.value=!1,q.notify({type:"positive",message:"Application successfully submitted!",position:"top-right"})}catch(y){console.log(y),s.value=!1,q.notify({type:"negative",message:"Something went wrong",position:"top-right"})}}async function E(){try{s.value=!0;const y=await N({job:e.job});await _(),J({action:"push",values:y,key:537}),O(y),Q({next:1,values:{19:{value:y[20],label:y[21]},40:{value:y[22],label:y[23]}}}),f.value=!1,p.value=!1,s.value=!1,r.push({name:"apply"})}catch(y){console.log(y),s.value=!1,q.notify({type:"negative",message:"Something went wrong",position:"top-right"})}}return{helpers:Fe,showDisa:n,showMore:p,apply:c,openApply:f,applyOnBoard:N,submitting:s,submitApp:F,voluntaryFormsComplete:V,tab:B,splitterModel:g,employeeData:$,goToProfile:E}}}),Ne={class:"row items-center"},Oe=["hidden"],Ae={class:"col-12 col-md-7"},Le=j("Recommended"),De=j("DISA"),xe={class:"text-primary text-caption"},Je={key:0,class:"text-dark text-body2 q-mb-md"},Te={key:1,class:"text-dark text-body2"},ze={class:"row items-center q-mt-md"},Ie={class:"col text-right"},Ee={class:"row items-center"},Re={class:"col-11"},Ue={class:"col-1 text-right"},He={key:0,style:{"min-height":"300px"}},We={class:"absolute-center"},Ke={key:1},Ye={class:"row justify-between"},Ze={class:"col-5 col-md-3"},Ge={class:"col-5 col-md-3"},Xe={class:"row q-mt-md"},et={class:"col"},tt={key:1,class:"text-primary text-caption text-italic"},lt={key:2,class:"text-primary text-caption text-italic"};function at(e,r,B,g,q,p){return o(),h("div",null,[a(X,{class:"q-mb-md"},{default:l(()=>[a(D,{class:u(["q-py-lg job-card",e.$q.screen.gt.sm?"q-pl-none":""]),onClick:r[0]||(r[0]=f=>e.showMore=!e.showMore)},{default:l(()=>[t("div",Ne,[t("div",{hidden:e.$q.screen.lt.md,class:"col-1 text-center"},[a(Z,{size:"md",name:e.job.icon!==""?e.job.icon:"fa-solid fa-helmet-safety",color:"primary"},null,8,["name"])],8,Oe),t("div",Ae,[t("div",null,[t("div",null,[t("span",{class:u(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},d(e.job[43])+" "+d(e.job[12]),3),e.job.recommended&&!e.job.applied?(o(),b(re,{key:0,class:u(["q-ml-md",e.$q.screen.gt.sm?"q-pa-sm":"q-pa-xs"]),color:"positive"},{default:l(()=>[Le]),_:1},8,["class"])):i("",!0),e.showDisa&&!e.job.applied?(o(),b(re,{key:1,class:u(["q-ml-md",e.$q.screen.gt.sm?"q-pa-sm":"q-pa-xs"]),color:"info"},{default:l(()=>[De]),_:1},8,["class"])):i("",!0),e.job.applied?(o(),h("span",{key:2,class:u(["text-primary q-pl-sm text-italic",(e.$q.screen.gt.sm,"text-caption")])}," Applied "+d(e.job.appliedOn),3)):i("",!0)]),t("div",{class:u(["text-secondary q-mt-sm",e.$q.screen.gt.sm?"text-body2":"text-caption"])},d(e.helpers.formatName(e.job[226]))+", "+d(e.helpers.formatName(e.job[227])),3)])]),t("div",{class:u(["col-12 col-md-4",e.$q.screen.gt.sm?"text-right":"q-pt-sm"])},[t("div",xe,d(e.job[1].fromNow()),1)],2)])]),_:1},8,["class"]),e.showMore?(o(),b(I,{key:0})):i("",!0),e.showMore?(o(),b(D,{key:1},{default:l(()=>[e.job.purpose!==""&&e.job.purpose!==void 0&&(e.job.summary===""||e.job.summary===void 0)?(o(),h("div",Je,d(e.job.purpose),1)):i("",!0),e.job.summary!==""&&e.job.summary!==void 0?(o(),h("div",Te,d(e.job.summary),1)):i("",!0)]),_:1})):i("",!0),e.showMore?(o(),b(I,{key:2})):i("",!0),e.showMore?(o(),b(D,{key:3},{default:l(()=>[t("div",ze,[t("div",Ie,[e.job.applied?i("",!0):(o(),b(x,{key:0,color:"info",label:"Apply for this Job",onClick:e.apply},null,8,["onClick"])),e.job.applied?(o(),h("div",{key:1,class:u(["text-primary",e.$q.screen.gt.sm?"text-body2":"text-caption"])}," Application Submitted on "+d(e.job),3)):i("",!0)])])]),_:1})):i("",!0)]),_:1}),a(Be,{modelValue:e.openApply,"onUpdate:modelValue":r[1]||(r[1]=f=>e.openApply=f),persistent:"","full-width":e.$q.screen.lt.md},{default:l(()=>[a(X,{class:u(["scroll",e.$q.screen.gt.sm?"":"full-width"]),style:Se(e.$q.screen.gt.sm?"min-width: 800px;":"")},{default:l(()=>[a(D,{class:"bg-primary text-white"},{default:l(()=>[t("div",Ee,[t("div",Re,[t("div",{class:u([e.$q.screen.gt.sm?"text-h6":"text-body1"])},"Apply For This Job",2)]),t("div",Ue,[ne(a(x,{icon:"close",flat:"",round:"",dense:""},null,512),[[ie]])])])]),_:1}),a(I),a(D,null,{default:l(()=>[e.submitting?(o(),h("div",He,[t("div",We,[a(be,{color:"primary",size:"5em"})])])):i("",!0),e.submitting?i("",!0):(o(),h("div",Ke,[t("div",Ye,[t("div",Ze,[t("div",{class:u(["text-primary",e.$q.screen.gt.sm?"text-body2":"text-caption"])},"Job Title",2),t("div",{class:u(["q-pl-sm",e.$q.screen.gt.sm?"text-body2":"text-caption"])},d(e.job[43])+" "+d(e.job[12]),3)]),t("div",Ge,[t("div",{class:u(["text-primary",e.$q.screen.gt.sm?"text-body2":"text-caption"])},"Date Posted",2),t("div",{class:u(["q-pl-sm",e.$q.screen.gt.sm?"text-body2":"text-caption"])},d(e.job[1].format("L")),3)]),t("div",{class:u(["col-5 col-md-3",e.$q.screen.lt.md?"q-pt-sm":""])},[t("div",{class:u(["text-primary",e.$q.screen.gt.sm?"text-body2":"text-caption"])},"Location",2),t("div",{class:u(["q-pl-sm",e.$q.screen.gt.sm?"text-body2":"text-caption"])},d(e.helpers.formatName(e.job[226]))+", "+d(e.helpers.formatName(e.job[227])),3)],2),t("div",{class:u(["col-5 col-md-3",e.$q.screen.lt.md?"q-pt-sm":""])},[t("div",{class:u(["text-primary",e.$q.screen.gt.sm?"text-body2":"text-caption"])},"Hiring Center",2),t("div",{class:u(["q-pl-sm",e.$q.screen.gt.sm?"text-body2":"text-caption"])},d(e.job[104]),3)],2)]),t("div",Xe,[t("div",et,[e.job.purpose!==""&&e.job.purpose!==void 0?(o(),h("div",{key:0,class:u(["text-dark q-mb-sm",e.$q.screen.gt.sm?"text-body2":"text-caption"])},d(e.job.purpose),3)):i("",!0),e.employeeData.complete?(o(),h("div",tt,"Your application is ready! Click Submit to apply for this job.")):(o(),h("div",lt,"We need a little more information! Click continue to apply for this job."))])])]))]),_:1}),e.submitting?i("",!0):(o(),b(I,{key:0})),e.submitting?i("",!0):(o(),b(D,{key:1,class:u(e.$q.screen.gt.sm?"text-right":"text-center")},{default:l(()=>[ne(a(x,{class:"q-mr-sm",color:"secondary",label:"Cancel"},null,512),[[ie]]),e.employeeData.complete&&e.voluntaryFormsComplete?(o(),b(x,{key:0,color:"info",label:"Submit",onClick:e.submitApp},null,8,["onClick"])):i("",!0),!e.employeeData.complete||!e.voluntaryFormsComplete?(o(),b(x,{key:1,color:"info",label:"Continue",onClick:e.goToProfile},null,8,["onClick"])):i("",!0)]),_:1},8,["class"]))]),_:1},8,["class","style"])]),_:1},8,["modelValue","full-width"])])}var ot=me(Qe,[["render",at]]);const st=de({components:{Job:ot},setup(){const e=ce(),r=w(!1),B=w(""),g=w(null),q=w(null),p=w(null),f=w(10),s=w(1);async function V(){r.value=!0,await e.getRequestJobs(),r.value=!1}(e.jobsForBoard&&e.jobsForBoard.length===0||!e.timeRequested||e.timeRequested.isBefore(Ve().subtract(15,"minute")))&&V();const $=v(()=>{let n=[];return e.jobsForBoard.forEach(c=>{`${c[12]} ${c[43]} ${c[226]} ${c[227]} ${c[54]}`.toLowerCase().includes(B.value.toLowerCase())&&n.push(c)}),n=g.value?n.filter(c=>c[69]===g.value.value):n,n=q.value?n.filter(c=>c[227]===q.value.value):n,n=p.value?n.filter(c=>c[56]===p.value.value):n,n.sort((c,F)=>c.recommended===F.recommended?c[1].$d>F[1].$d?-1:1:c.recommended?-1:1),n}),J=v(()=>[...new Map($.value.map(n=>[n[69],{label:n[43],value:n[69]}])).values()]),_=v(()=>[...new Map($.value.map(n=>[n[227],{label:n[227],value:n[227]}])).values()]),N=v(()=>[...new Map($.value.map(n=>[n[56],{label:n[104],value:n[56]}])).values()]),O=v(()=>{const n=$.value.length>f.value,c=(s.value-1)*f.value,F=s.value*f.value-1;return n?$.value.filter((E,y)=>y>=c&&y<=F):$.value}),Q=v(()=>Math.round($.value.length/f.value));return{filteredJobs:$,loading:r,search:B,craftFilter:g,stateFilter:q,hiringCenterFilter:p,craftOptions:J,stateOptions:_,hiringCenterOptions:N,paginatedJobs:O,page:s,pages:Q}}}),nt={key:0,class:"q-px-md q-py-lg"},it=t("div",{class:"text-h4 text-primary"},"Job Board",-1),rt={class:"row items-center justify-between"},ut={class:"col-12 col-md-6"},dt=j("Craft"),ct=j("State"),mt=j("Hiring Center"),bt={class:"q-pa-md"},ft={class:"q-mt-md"},yt={class:"row justify-between q-mb-md"},vt={class:"col-5"},ht={class:"text-body2 text-dark"},gt=j("Found "),pt={class:"text-primary"},kt=j(" jobs!"),$t={key:0,class:"q-pa-lg flex flex-center"},wt={key:1,class:"absolute-center"};function jt(e,r,B,g,q,p){const f=_e("job");return o(),b(Me,{class:"window-height full-width"},{default:l(()=>[e.loading?i("",!0):(o(),h("div",nt,[it,a(X,{class:"q-my-md"},{default:l(()=>[a(D,null,{default:l(()=>[t("div",rt,[t("div",ut,[a(ue,{modelValue:e.search,"onUpdate:modelValue":r[0]||(r[0]=s=>e.search=s),label:"Search"},null,8,["modelValue"])]),t("div",{class:u(["col-12 col-md-5",e.$q.screen.gt.sm?"":"q-pt-md"])},[a(x,{color:"dark",label:"Filter","icon-right":"filter_list"},{default:l(()=>[a(H,null,{default:l(()=>[a(W,{style:{"min-width":"200px"}},{default:l(()=>[e.craftOptions.length>1?(o(),b(z,{key:0,clickable:""},{default:l(()=>[a(P,null,{default:l(()=>[dt]),_:1}),a(P,{side:""},{default:l(()=>[a(Z,{name:"keyboard_arrow_right"})]),_:1}),a(H,{anchor:"top right",self:"top right","auto-close":""},{default:l(()=>[a(W,{style:{"min-width":"100px"}},{default:l(()=>[(o(!0),h(K,null,Y(e.craftOptions,s=>(o(),b(z,{key:s,clickable:"",onClick:V=>e.craftFilter?e.craftFilter=null:e.craftFilter=s},{default:l(()=>[a(P,null,{default:l(()=>[j(d(s.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):i("",!0),e.stateOptions.length>1?(o(),b(z,{key:1,clickable:""},{default:l(()=>[a(P,null,{default:l(()=>[ct]),_:1}),a(P,{side:""},{default:l(()=>[a(Z,{name:"keyboard_arrow_right"})]),_:1}),a(H,{anchor:"top right",self:"top right","auto-close":""},{default:l(()=>[a(W,{style:{"min-width":"100px"}},{default:l(()=>[(o(!0),h(K,null,Y(e.stateOptions,s=>(o(),b(z,{key:s,clickable:"",onClick:V=>e.stateFilter?e.stateFilter=null:e.stateFilter=s},{default:l(()=>[a(P,null,{default:l(()=>[j(d(s.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):i("",!0),e.hiringCenterOptions.length>1?(o(),b(z,{key:2,clickable:""},{default:l(()=>[a(P,null,{default:l(()=>[mt]),_:1}),a(P,{side:""},{default:l(()=>[a(Z,{name:"keyboard_arrow_right"})]),_:1}),a(H,{anchor:"top right",self:"top right","auto-close":""},{default:l(()=>[a(W,{style:{"min-width":"100px"}},{default:l(()=>[(o(!0),h(K,null,Y(e.hiringCenterOptions,s=>(o(),b(z,{key:s,clickable:"",onClick:V=>e.hiringCenterFilter?e.hiringCenterFilter=null:e.hiringCenterFilter=s},{default:l(()=>[a(P,null,{default:l(()=>[j(d(s.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1})]),_:1})]),_:1}),t("div",bt,[e.craftFilter?(o(),b(G,{key:0,clickable:"",onClick:r[1]||(r[1]=s=>e.craftFilter=null),color:"info","text-color":"white","icon-right":"close"},{default:l(()=>[j(d(e.craftFilter.label),1)]),_:1})):i("",!0),e.stateFilter?(o(),b(G,{key:1,clickable:"",onClick:r[2]||(r[2]=s=>e.stateFilter=null),color:"info","text-color":"white","icon-right":"close"},{default:l(()=>[j(d(e.stateFilter.label),1)]),_:1})):i("",!0),e.hiringCenterFilter?(o(),b(G,{key:2,clickable:"",onClick:r[3]||(r[3]=s=>e.hiringCenterFilter=null),color:"info","text-color":"white","icon-right":"close"},{default:l(()=>[j(d(e.hiringCenterFilter.label),1)]),_:1})):i("",!0)])],2)])]),_:1})]),_:1}),a(I),t("div",ft,[t("div",yt,[t("div",vt,[t("div",ht,[gt,t("span",pt,d(e.filteredJobs.length),1),kt])])]),(o(!0),h(K,null,Y(e.paginatedJobs,s=>(o(),b(f,{key:s[3],job:s},null,8,["job"]))),128)),a(I),e.pages>1?(o(),h("div",$t,[a(Pe,{modelValue:e.page,"onUpdate:modelValue":r[4]||(r[4]=s=>e.page=s),max:e.pages,"max-pages":6,"direction-links":"","icon-prev":"fast_rewind","icon-next":"fast_forward"},null,8,["modelValue","max"])])):i("",!0)])])),e.loading?(o(),h("div",wt,[a(be,{color:"primary",size:"5em"})])):i("",!0)]),_:1})}var St=me(st,[["render",jt]]);export{St as default};
