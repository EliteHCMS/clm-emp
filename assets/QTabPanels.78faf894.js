import{i as ke,dk as de,r as w,ac as v,aD as ve,aH as Se,bf as Ie,cA as Le,u as f,cP as xe,dl as Ae,c9 as Be,bW as V,cC as $e,ar as Y,bF as z,ci as Me,cj as ie,cI as ue,dm as Fe,b8 as E,aA as O,aO as Ee,aF as Qe,aB as De,dn as We,bI as fe,bG as je,bH as He,cD as Ne}from"./index.2d58de3a.js";import{c as Oe,u as Ve,a as ze,b as Ke}from"./use-panel.635e7b44.js";let Ue=0;const Ge=["click","keydown"],Xe={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ue++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function pe(e,T,C,c){const n=ke(de,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:$}=Y(),P=w(null),L=w(null),Q=w(null),k=v(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),b=v(()=>n.currentModel.value===e.name),S=v(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(b.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(c!==void 0&&c.linkClass.value!==""?` ${c.linkClass.value}`:"")),I=v(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),M=v(()=>e.disable===!0||n.hasFocus.value===!0?-1:e.tabindex||0);function x(s,h){if(h!==!0&&P.value!==null&&P.value.focus(),e.disable!==!0){let m;if(c!==void 0)if(c.hasRouterLink.value===!0)m=()=>{s.__qNavigate=!0,n.avoidRouteWatcher=!0;const g=c.navigateToRouterLink(s);g===!1?n.avoidRouteWatcher=!1:g.then(q=>{n.avoidRouteWatcher=!1,q===void 0&&n.updateModel({name:e.name,fromRoute:!0})})};else{C("click",s);return}else m=()=>{n.updateModel({name:e.name,fromRoute:!1})};C("click",s,m),s.defaultPrevented!==!0&&m()}}function F(s){xe(s,[13,32])?x(s,!0):Ae(s)!==!0&&s.keyCode>=35&&s.keyCode<=40&&n.onKbdNavigate(s.keyCode,$.$el)===!0&&Be(s),C("keydown",s)}function A(){const s=n.tabProps.value.narrowIndicator,h=[],m=f("div",{ref:Q,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&h.push(f(V,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&h.push(f("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&h.push(e.alertIcon!==void 0?f(V,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):f("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),s===!0&&h.push(m);const g=[f("div",{class:"q-focus-helper",tabindex:-1,ref:P}),f("div",{class:I.value},$e(T.default,h))];return s===!1&&g.push(m),g}const _={name:v(()=>e.name),rootRef:L,tabIndicatorRef:Q,routerProps:c};ve(()=>{n.unregisterTab(_),n.recalculateScroll()}),Se(()=>{n.registerTab(_),n.recalculateScroll()});function B(s,h){const m={ref:L,class:S.value,tabindex:M.value,role:"tab","aria-selected":b.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:x,onKeydown:F,...h};return Ie(f(s,m,A()),[[Le,k.value]])}return{renderTab:B,$tabs:n}}var tt=z({name:"QTab",props:Xe,emits:Ge,setup(e,{slots:T,emit:C}){const{renderTab:c}=pe(e,T,C);return()=>c("div")}});function Je(e,T,C){const c=C===!0?["left","right"]:["top","bottom"];return`absolute-${T===!0?c[0]:c[1]}${e?` text-${e}`:""}`}const Ye=["left","center","right","justify"],ce=()=>{};var at=z({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ye.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:T,emit:C}){const c=Y(),{proxy:{$q:n}}=c,{registerTick:$}=Me(),{registerTimeout:P,removeTimeout:L}=ie(),{registerTimeout:Q}=ie(),k=w(null),b=w(null),S=w(e.modelValue),I=w(!1),M=w(!0),x=w(!1),F=w(!1),A=v(()=>n.platform.is.desktop===!0||e.mobileArrows===!0),_=[],B=w(!1);let s=!1,h,m,g,q=A.value===!0?ee:ue;const be=v(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Je(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),he=v(()=>`q-tabs__content--align-${I.value===!0?"left":F.value===!0?"justify":e.align}`),ge=v(()=>`q-tabs row no-wrap items-center q-tabs--${I.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${A.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),me=v(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+he.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(n.platform.is.mobile===!0?" scroll":"")),D=v(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),W=v(()=>e.vertical!==!0&&n.lang.rtl===!0),K=v(()=>Fe===!1&&W.value===!0);E(W,q),E(()=>e.modelValue,t=>{U({name:t,setCurrent:!0,skipEmit:!0})}),E(()=>e.outsideArrows,()=>{O(j())}),E(A,t=>{q=t===!0?ee:ue,O(j())});function U({name:t,setCurrent:a,skipEmit:l,fromRoute:i}){S.value!==t&&(l!==!0&&C("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(Te(S.value,t),S.value=t)),i!==void 0&&(s=i)}function j(){$(()=>{c.isDeactivated!==!0&&c.isUnmounted!==!0&&Z({width:k.value.offsetWidth,height:k.value.offsetHeight})})}function Z(t){if(D.value===void 0||b.value===null)return;const a=t[D.value.container],l=Math.min(b.value[D.value.scroll],Array.prototype.reduce.call(b.value.children,(o,u)=>o+(u[D.value.content]||0),0)),i=a>0&&l>a;I.value!==i&&(I.value=i),i===!0&&O(q);const d=a<parseInt(e.breakpoint,10);F.value!==d&&(F.value=d)}function Te(t,a){const l=t!=null&&t!==""?_.find(d=>d.name.value===t):null,i=a!=null&&a!==""?_.find(d=>d.name.value===a):null;if(l&&i){const d=l.tabIndicatorRef.value,o=i.tabIndicatorRef.value;clearTimeout(h),d.style.transition="none",d.style.transform="none",o.style.transition="none",o.style.transform="none";const u=d.getBoundingClientRect(),r=o.getBoundingClientRect();o.style.transform=e.vertical===!0?`translate3d(0,${u.top-r.top}px,0) scale3d(1,${r.height?u.height/r.height:1},1)`:`translate3d(${u.left-r.left}px,0,0) scale3d(${r.width?u.width/r.width:1},1,1)`,O(()=>{h=setTimeout(()=>{o.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",o.style.transform="none"},70)})}i&&I.value===!0&&H(i.rootRef.value)}function H(t){const{left:a,width:l,top:i,height:d}=b.value.getBoundingClientRect(),o=t.getBoundingClientRect();let u=e.vertical===!0?o.top-i:o.left-a;if(u<0){b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(u),q();return}u+=e.vertical===!0?o.height-d:o.width-l,u>0&&(b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(u),q())}function ee(){const t=b.value;if(t!==null){const a=t.getBoundingClientRect(),l=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);W.value===!0?(M.value=Math.ceil(l+a.width)<t.scrollWidth-1,x.value=l>0):(M.value=l>0,x.value=e.vertical===!0?Math.ceil(l+a.height)<t.scrollHeight:Math.ceil(l+a.width)<t.scrollWidth)}}function te(t){y(),le(t),m=setInterval(()=>{le(t)===!0&&y()},5)}function ae(){te(K.value===!0?Number.MAX_SAFE_INTEGER:0)}function ne(){te(K.value===!0?0:Number.MAX_SAFE_INTEGER)}function y(){clearInterval(m)}function Ce(t,a){const l=Array.prototype.filter.call(b.value.children,r=>r===a||r.matches&&r.matches(".q-tab.q-focusable")===!0),i=l.length;if(i===0)return;if(t===36)return H(l[0]),!0;if(t===35)return H(l[i-1]),!0;const d=t===(e.vertical===!0?38:37),o=t===(e.vertical===!0?40:39),u=d===!0?-1:o===!0?1:void 0;if(u!==void 0){const r=W.value===!0?-1:1,R=l.indexOf(a)+u*r;return R>=0&&R<i&&(H(l[R]),l[R].focus({preventScroll:!0})),!0}}const we=v(()=>K.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function le(t){const a=b.value,{get:l,set:i}=we.value;let d=!1,o=l(a);const u=t<o?-1:1;return o+=u*5,o<0?(d=!0,o=0):(u===-1&&o<=t||u===1&&o>=t)&&(d=!0,o=t),i(a,o),q(),d}function G(){return _.filter(t=>t.routerProps!==void 0&&t.routerProps.hasRouterLink.value===!0)}function _e(){let t=null,a=s;const l={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:i}=c.proxy.$route,d=S.value;let o=a===!0?ce:r=>{d===r.name.value&&(a=!0,o=ce)};const u=G();for(const r of u){const R=r.routerProps.exact.value===!0;if(r.routerProps[R===!0?"linkIsExactActive":"linkIsActive"].value!==!0||l.exact===!0&&R!==!0){o(r);continue}const X=r.routerProps.linkRoute.value,p=X.hash;if(R===!0){if(i===p){t=r.name.value;break}else if(i!==""&&p!==""){o(r);continue}}const J=X.matched.length,se=X.href.length-p.length;if(J===l.matchedLen?se>l.hrefLen:J>l.matchedLen){t=r.name.value,Object.assign(l,{matchedLen:J,hrefLen:se,exact:R});continue}o(r)}(a===!0||t!==null)&&U({name:t,setCurrent:!0,fromRoute:!0})}function qe(t){if(L(),B.value!==!0&&k.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&k.value.contains(a)===!0&&(B.value=!0)}}function Re(){P(()=>{B.value=!1},30)}function N(){oe.avoidRouteWatcher!==!0&&Q(_e)}function ye(t){_.push(t),G().length>0&&(g===void 0&&(g=E(()=>c.proxy.$route,N)),N())}function Pe(t){_.splice(_.indexOf(t),1),g!==void 0&&(G().length===0&&(g(),g=void 0),N())}const oe={currentModel:S,tabProps:be,hasFocus:B,registerTab:ye,unregisterTab:Pe,verifyRouteModel:N,updateModel:U,recalculateScroll:j,onKbdNavigate:Ce,avoidRouteWatcher:!1};Ee(de,oe),ve(()=>{clearTimeout(h),g!==void 0&&g()});let re=!1;return Qe(()=>{re=!0}),De(()=>{re===!0&&j()}),()=>{const t=[f(We,{onResize:Z}),f("div",{ref:b,class:me.value,onScroll:q},fe(T.default))];return A.value===!0&&t.push(f(V,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:ae,onTouchstartPassive:ae,onMouseup:y,onMouseleave:y,onTouchend:y}),f(V,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(x.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:ne,onTouchstartPassive:ne,onMouseup:y,onMouseleave:y,onTouchend:y})),f("div",{ref:k,class:ge.value,role:"tablist",onFocusin:qe,onFocusout:Re},t)}}}),nt=z({name:"QTabPanel",props:Oe,setup(e,{slots:T}){return()=>f("div",{class:"q-tab-panel"},fe(T.default))}}),lt=z({name:"QTabPanels",props:{...Ve,...je},emits:ze,setup(e,{slots:T}){const C=Y(),c=He(e,C.proxy.$q),{updatePanelsList:n,getPanelContent:$,panelDirectives:P}=Ke(),L=v(()=>"q-tab-panels q-panel-parent"+(c.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(T),Ne("div",{class:L.value},$(),"pan",e.swipeable,()=>P.value))}});export{tt as Q,at as a,nt as b,lt as c};
